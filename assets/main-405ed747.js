import{C as Constants,O as OBR}from"./index-9d7b9487.js";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dist$1={exports:{}};(function(I,V){(function(h,L){I.exports=L()})(commonjsGlobal,()=>(()=>{var h={95:(J,s,d)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DiceRoller=void 0;const c=d(51);s.DiceRoller=class{constructor(b,l=1e3){this.randFunction=Math.random,this.maxRollCount=1e3,b&&(this.randFunction=b),this.maxRollCount=l}parse(b){return c.parse(b)}roll(b){const l=c.parse(b);return this.rollType(l)}rollValue(b){return this.roll(b).value}rollParsed(b){return this.rollType(b)}rollType(b){let l;switch(b.type){case"diceExpression":l=this.rollDiceExpr(b);break;case"group":l=this.rollGroup(b);break;case"die":l=this.rollDie(b);break;case"expression":l=this.rollExpression(b);break;case"mathfunction":l=this.rollFunction(b);break;case"inline":l=this.rollType(b.expr);break;case"number":l=Object.assign(Object.assign({},b),{success:null,successes:0,failures:0,valid:!0,order:0});break;default:throw new Error(`Unable to render ${b.type}`)}return b.label&&(l.label=b.label),l}rollDiceExpr(b){const l=this.rollType(b.head),G=[l],v=[],R=b.ops.reduce((C,dl,il)=>{const nl=this.rollType(dl.tail);switch(nl.order=il,G.push(nl),v.push(dl.op),dl.op){case"+":return C+nl.value;case"-":return C-nl.value;default:return C}},l.value);return{dice:G,ops:v,success:null,successes:0,failures:0,type:"diceexpressionroll",valid:!0,value:R,order:0}}rollGroup(b){let l=b.rolls.map((dl,il)=>Object.assign(Object.assign({},this.rollType(dl)),{order:il})),G=0,v=0,R=!1;if(b.mods){const dl=b.mods,il=nl=>(R=dl.some(Yl=>["failure","success"].includes(Yl.type)),nl=dl.reduce((Yl,Kl)=>this.applyGroupMod(Yl,Kl),nl),R&&(nl=nl.map(Yl=>(G+=Yl.successes,v+=Yl.failures,Yl.value=Yl.successes-Yl.failures,Yl.success=Yl.value>0,Yl))),nl);if(l.length===1&&["die","diceexpressionroll"].includes(l[0].type)){const nl=l[0];let Yl=nl.type==="die"?nl.rolls:nl.dice.filter(Kl=>Kl.type!=="number").reduce((Kl,Ul)=>[...Kl,...Ul.type==="die"?Ul.rolls:Ul.dice],[]);Yl=il(Yl),nl.value=Yl.reduce((Kl,Ul)=>Ul.valid?Kl+Ul.value:Kl,0)}else l=il(l)}const C=l.reduce((dl,il)=>il.valid?dl+il.value:dl,0);return{dice:l,success:R?C>0:null,successes:G,failures:v,type:"grouproll",valid:!0,value:C,order:0}}rollDie(b){const l=this.rollType(b.count);if(l.value>this.maxRollCount)throw new Error("Entered number of dice too large.");let G,v;b.die.type==="fate"?(v={type:"fate",success:null,successes:0,failures:0,valid:!1,value:0,order:0},G=Array.from({length:l.value},(Yl,Kl)=>this.generateFateRoll(Kl))):(v=this.rollType(b.die),G=Array.from({length:l.value},(Yl,Kl)=>this.generateDiceRoll(v.value,Kl))),b.mods&&(G=b.mods.reduce((Yl,Kl)=>this.applyMod(Yl,Kl),G));let R=0,C=0;b.targets&&(G=b.targets.reduce((Yl,Kl)=>this.applyMod(Yl,Kl),G).map(Yl=>(R+=Yl.successes,C+=Yl.failures,Yl.value=Yl.successes-Yl.failures,Yl.success=Yl.value>0,Yl)));let dl=!1,il=0;if(b.match){const Yl=b.match,Kl=G.reduce((kl,jl)=>kl.set(jl.roll,(kl.get(jl.roll)||0)+1),new Map),Ul=new Set(Array.from(Kl.entries()).filter(([kl,jl])=>jl>=Yl.min.value).filter(([kl])=>!(Yl.mod&&Yl.expr)||this.successTest(Yl.mod,this.rollType(Yl.expr).value,kl)).map(([kl])=>kl));G.filter(kl=>Ul.has(kl.roll)).forEach(kl=>kl.matched=!0),Yl.count&&(dl=!0,il=Ul.size)}b.sort&&(G=this.applySort(G,b.sort));const nl=G.reduce((Yl,Kl)=>Kl.valid?Yl+Kl.value:Yl,0);return{count:l,die:v,rolls:G,success:b.targets?nl>0:null,successes:R,failures:C,type:"die",valid:!0,value:dl?il:nl,order:0,matched:dl}}rollExpression(b){const l=this.rollType(b.head),G=[l],v=[],R=b.ops.reduce((C,dl)=>{const il=this.rollType(dl.tail);switch(G.push(il),v.push(dl.op),dl.op){case"+":return C+il.value;case"-":return C-il.value;case"*":return C*il.value;case"/":return C/il.value;case"%":return C%il.value;case"**":return C**il.value;default:return C}},l.value);return{dice:G,ops:v,success:null,successes:0,failures:0,type:"expressionroll",valid:!0,value:R,order:0}}rollFunction(b){const l=this.rollType(b.expr);let G;switch(b.op){case"floor":G=Math.floor(l.value);break;case"ceil":G=Math.ceil(l.value);break;case"round":G=Math.round(l.value);break;case"abs":G=Math.abs(l.value);break;default:G=l.value}return{expr:l,op:b.op,success:null,successes:0,failures:0,type:"mathfunction",valid:!0,value:G,order:0}}applyGroupMod(b,l){return this.getGroupModMethod(l)(b)}getGroupModMethod(b){const l=G=>G.value;switch(b.type){case"success":return this.getSuccessMethod(b,l);case"failure":return this.getFailureMethod(b,l);case"keep":return this.getKeepMethod(b,l);case"drop":return this.getDropMethod(b,l);default:throw new Error(`Mod ${b.type} is not recognised`)}}applyMod(b,l){return this.getModMethod(l)(b)}getModMethod(b){const l=G=>G.roll;switch(b.type){case"success":return this.getSuccessMethod(b,l);case"failure":return this.getFailureMethod(b,l);case"crit":return this.getCritSuccessMethod(b,l);case"critfail":return this.getCritFailureMethod(b,l);case"keep":return G=>this.getKeepMethod(b,l)(G).sort((v,R)=>v.order-R.order);case"drop":return G=>this.getDropMethod(b,l)(G).sort((v,R)=>v.order-R.order);case"explode":return this.getExplodeMethod(b);case"compound":return this.getCompoundMethod(b);case"penetrate":return this.getPenetrateMethod(b);case"reroll":return this.getReRollMethod(b);case"rerollOnce":return this.getReRollOnceMethod(b);default:throw new Error(`Mod ${b.type} is not recognised`)}}applySort(b,l){return b.sort((G,v)=>l.asc?G.roll-v.roll:v.roll-G.roll),b.forEach((G,v)=>G.order=v),b}getCritSuccessMethod(b,l){const G=this.rollType(b.expr);return v=>v.map(R=>{if(!R.valid||R.type!=="roll"||R.success)return R;const C=R;return this.successTest(b.mod,G.value,l(R))?C.critical="success":C.critical==="success"&&(C.critical=null),R})}getCritFailureMethod(b,l){const G=this.rollType(b.expr);return v=>v.map(R=>{if(!R.valid||R.type!=="roll"||R.success)return R;const C=R;return this.successTest(b.mod,G.value,l(R))?C.critical="failure":C.critical==="failure"&&(C.critical=null),R})}getSuccessMethod(b,l){const G=this.rollType(b.expr);return v=>v.map(R=>(R.valid&&this.successTest(b.mod,G.value,l(R))&&(R.successes+=1),R))}getFailureMethod(b,l){const G=this.rollType(b.expr);return v=>v.map(R=>(R.valid&&this.successTest(b.mod,G.value,l(R))&&(R.failures+=1),R))}getKeepMethod(b,l){const G=this.rollType(b.expr);return v=>{if(v.length===0)return v;v=v.sort((nl,Yl)=>b.highlow==="l"?l(Yl)-l(nl):l(nl)-l(Yl)).sort((nl,Yl)=>(nl.valid?1:0)-(Yl.valid?1:0));const R=Math.max(Math.min(G.value,v.length),0);let C=0,dl=0;const il=v.reduce((nl,Yl)=>(Yl.valid?1:0)+nl,0)-R;for(;dl<v.length&&C<il;)v[dl].valid&&(v[dl].valid=!1,v[dl].drop=!0,C++),dl++;return v}}getDropMethod(b,l){const G=this.rollType(b.expr);return v=>{v=v.sort((il,nl)=>b.highlow==="h"?l(nl)-l(il):l(il)-l(nl));const R=Math.max(Math.min(G.value,v.length),0);let C=0,dl=0;for(;dl<v.length&&C<R;)v[dl].valid&&(v[dl].valid=!1,v[dl].drop=!0,C++),dl++;return v}}getExplodeMethod(b){const l=b.target?this.rollType(b.target.value):null;return G=>{const v=l?R=>this.successTest(b.target.mod,l.value,R.roll):R=>this.successTest("=",R.type==="fateroll"?1:R.die,R.roll);if(G[0].type==="roll"&&v({roll:1})&&v({roll:G[0].die}))throw new Error("Invalid reroll target");for(let R=0;R<G.length;R++){let C=G[R];C.order=R;let dl=0;for(;v(C)&&dl++<1e3;){C.explode=!0;const il=this.reRoll(C,++R);G.splice(R,0,il),C=il}}return G}}getCompoundMethod(b){const l=b.target?this.rollType(b.target.value):null;return G=>{const v=l?R=>this.successTest(b.target.mod,l.value,R.roll):R=>this.successTest("=",R.type==="fateroll"?1:R.die,R.roll);if(G[0].type==="roll"&&v({roll:1})&&v({roll:G[0].die}))throw new Error("Invalid reroll target");for(let R=0;R<G.length;R++){let C=G[R],dl=C.roll,il=0;for(;v(C)&&il++<1e3;){C.explode=!0;const nl=this.reRoll(C,R+1);dl+=nl.roll,C=nl}G[R].value=dl,G[R].roll=dl}return G}}getPenetrateMethod(b){const l=b.target?this.rollType(b.target.value):null;return G=>{const v=l?R=>this.successTest(b.target.mod,l.value,R.roll):R=>this.successTest("=",R.type==="fateroll"?1:R.die,R.roll);if(l&&G[0].type==="roll"&&v(G[0])&&this.successTest(b.target.mod,l.value,1))throw new Error("Invalid reroll target");for(let R=0;R<G.length;R++){let C=G[R];C.order=R;let dl=0;for(;v(C)&&dl++<1e3;){C.explode=!0;const il=this.reRoll(C,++R);il.value-=1,G.splice(R,0,il),C=il}}return G}}getReRollMethod(b){const l=b.target?this.successTest.bind(null,b.target.mod,this.rollType(b.target.value).value):this.successTest.bind(null,"=",1);return G=>{if(G[0].type==="roll"&&l(1)&&l(G[0].die))throw new Error("Invalid reroll target");for(let v=0;v<G.length;v++)for(;l(G[v].roll);){G[v].reroll=!0,G[v].valid=!1;const R=this.reRoll(G[v],v+1);G.splice(++v,0,R)}return G}}getReRollOnceMethod(b){const l=b.target?this.successTest.bind(null,b.target.mod,this.rollType(b.target.value).value):this.successTest.bind(null,"=",1);return G=>{if(G[0].type==="roll"&&l(1)&&l(G[0].die))throw new Error("Invalid reroll target");for(let v=0;v<G.length;v++)if(l(G[v].roll)){G[v].reroll=!0,G[v].valid=!1;const R=this.reRoll(G[v],v+1);G.splice(++v,0,R)}return G}}successTest(b,l,G){switch(b){case">":return G>=l;case"<":return G<=l;default:return G==l}}reRoll(b,l){switch(b.type){case"roll":return this.generateDiceRoll(b.die,l);case"fateroll":return this.generateFateRoll(l);default:throw new Error(`Cannot do a reroll of a ${b.type}.`)}}generateDiceRoll(b,l){const G=parseInt((this.randFunction()*b).toFixed(),10)+1;return{critical:G===b?"success":G===1?"failure":null,die:b,matched:!1,order:l,roll:G,success:null,successes:0,failures:0,type:"roll",valid:!0,value:G}}generateFateRoll(b){const l=Math.floor(3*this.randFunction())-1;return{matched:!1,order:b,roll:l,success:null,successes:0,failures:0,type:"fateroll",valid:!0,value:l}}}},619:(J,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DiscordRollRenderer=void 0,s.DiscordRollRenderer=class{render(d){return this.doRender(d,!0)}doRender(d,c=!1){let b="";switch(d.type){case"diceexpressionroll":b=this.renderGroupExpr(d);break;case"grouproll":b=this.renderGroup(d);break;case"die":b=this.renderDie(d);break;case"expressionroll":b=this.renderExpression(d);break;case"mathfunction":b=this.renderFunction(d);break;case"roll":return this.renderRoll(d);case"fateroll":return this.renderFateRoll(d);case"number":const l=d.label?` (${d.label})`:"";return`${d.value}${l}`;case"fate":return"F";default:throw new Error("Unable to render")}return d.valid||(b="~~"+b.replace(/~~/g,"")+"~~"),c?this.stripBrackets(b):d.label?`(${d.label}: ${b})`:b}renderGroup(d){const c=[];for(const b of d.dice)c.push(this.doRender(b));return c.length>1?`{ ${c.join(" + ")} } = ${d.value}`:`{ ${this.stripBrackets(c[0])} } = ${d.value}`}renderGroupExpr(d){const c=[];for(const b of d.dice)c.push(this.doRender(b));return c.length>1?`(${c.join(" + ")} = ${d.value})`:c[0]}renderDie(d){const c=[];for(const G of d.rolls)c.push(this.doRender(G));let b=`${c.join(", ")}`;["number","fate"].includes(d.die.type)&&d.count.type==="number"||(b+=`[*Rolling: ${this.doRender(d.count)}d${this.doRender(d.die)}*]`);const l=d.matched?" Match"+(d.value===1?"":"es"):"";return b+=` = ${d.value}${l}`,`(${b})`}renderExpression(d){if(d.dice.length>1){const c=[];for(let b=0;b<d.dice.length-1;b++)c.push(this.doRender(d.dice[b])),c.push(d.ops[b]);return c.push(this.doRender(d.dice.slice(-1)[0])),c.push("="),c.push(d.value+""),`(${c.join(" ")})`}return d.dice[0].type==="number"?d.value+"":this.doRender(d.dice[0])}renderFunction(d){const c=this.doRender(d.expr);return`(${d.op}${this.addBrackets(c)} = ${d.value})`}addBrackets(d){return d.startsWith("(")||(d=`(${d}`),d.endsWith(")")||(d=`${d})`),d}stripBrackets(d){return d.startsWith("(")&&(d=d.substring(1)),d.endsWith(")")&&(d=d.substring(0,d.length-1)),d}renderRoll(d){let c=`${d.roll}`;return d.valid?d.success&&d.value===1?c=`**${d.roll}**`:d.success&&d.value===-1?c=`*${d.roll}*`:d.success||d.critical!=="success"?d.success||d.critical!=="failure"||(c=`*${d.roll}*`):c=`**${d.roll}**`:c=`~~${d.roll}~~`,d.matched&&(c=`__${c}__`),c}renderFateRoll(d){const c=d.roll===0?"0":d.roll>0?"+":"-";let b=`${d.roll}`;return d.valid?d.success&&d.value===1?b=`**${c}**`:d.success&&d.value===-1&&(b=`*${c}*`):b=`~~${c}~~`,d.matched&&(b=`__${b}__`),b}}},607:function(J,s,d){var c=this&&this.__createBinding||(Object.create?function(l,G,v,R){R===void 0&&(R=v);var C=Object.getOwnPropertyDescriptor(G,v);C&&!("get"in C?!G.__esModule:C.writable||C.configurable)||(C={enumerable:!0,get:function(){return G[v]}}),Object.defineProperty(l,R,C)}:function(l,G,v,R){R===void 0&&(R=v),l[R]=G[v]}),b=this&&this.__exportStar||function(l,G){for(var v in l)v==="default"||Object.prototype.hasOwnProperty.call(G,v)||c(G,l,v)};Object.defineProperty(s,"__esModule",{value:!0}),b(d(95),s),b(d(604),s),b(d(234),s),b(d(619),s),b(d(54),s)},604:(J,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},234:(J,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},54:(J,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},51:J=>{function s(d,c,b,l){this.message=d,this.expected=c,this.found=b,this.location=l,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,s)}(function(d,c){function b(){this.constructor=d}b.prototype=c.prototype,d.prototype=new b})(s,Error),s.buildMessage=function(d,c){var b={literal:function(R){return'"'+G(R.text)+'"'},class:function(R){var C,dl="";for(C=0;C<R.parts.length;C++)dl+=R.parts[C]instanceof Array?v(R.parts[C][0])+"-"+v(R.parts[C][1]):v(R.parts[C]);return"["+(R.inverted?"^":"")+dl+"]"},any:function(R){return"any character"},end:function(R){return"end of input"},other:function(R){return R.description}};function l(R){return R.charCodeAt(0).toString(16).toUpperCase()}function G(R){return R.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(C){return"\\x0"+l(C)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(C){return"\\x"+l(C)})}function v(R){return R.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(C){return"\\x0"+l(C)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(C){return"\\x"+l(C)})}return"Expected "+function(R){var C,dl,il,nl=new Array(R.length);for(C=0;C<R.length;C++)nl[C]=(il=R[C],b[il.type](il));if(nl.sort(),nl.length>0){for(C=1,dl=1;C<nl.length;C++)nl[C-1]!==nl[C]&&(nl[dl]=nl[C],dl++);nl.length=dl}switch(nl.length){case 1:return nl[0];case 2:return nl[0]+" or "+nl[1];default:return nl.slice(0,-1).join(", ")+", or "+nl[nl.length-1]}}(d)+" but "+function(R){return R?'"'+G(R)+'"':"end of input"}(c)+" found."},J.exports={SyntaxError:s,parse:function(d,c){c=c!==void 0?c:{};var b,l={},G={start:cb},v=cb,R={type:"any"},C=Nl("[[",!1),dl=Nl("]]",!1),il=function(m,Y){return Y&&(m.label=Y),m},nl=">",Yl=Nl(">",!1),Kl="<",Ul=Nl("<",!1),kl="=",jl=Nl("=",!1),Xd=Nl("f",!1),Ql=Nl("cs",!1),ql=Nl("cf",!1),dd=Nl("m",!1),jd=Nl("t",!1),Id=Nl("k",!1),Md=Nl("l",!1),Sd=Nl("h",!1),Nd=Nl("d",!1),Wd=Nl("{",!1),Dd=Nl(",",!1),eb=Nl("}",!1),Vd="+",Rd=Nl("+",!1),Zb=Nl("s",!1),ub=Nl("a",!1),mb=Nl("!",!1),tb=Nl("!!",!1),Fd=Nl("!p",!1),Ad=Nl("r",!1),Od=Nl("ro",!1),Hd=Nl("F",!1),ed=Nl("%",!1),xd=Nl("(",!1),Cd=Nl(")",!1),hd=Nl("-",!1),Kd=function(m,Y){return Y.length==0?m:{head:m,type:"expression",ops:Y.map(r=>({type:"math",op:r[1],tail:r[3]}))}},qd=Nl("*",!1),$d=Nl("/",!1),pd="**",_d=Nl("**",!1),wd="floor",lb=Nl("floor",!1),db="ceil",nb=Nl("ceil",!1),Bd="round",bb=Nl("round",!1),ab=Nl("abs",!1),sb=md("integer"),zd=/^[0-9]/,kd=Ud([["0","9"]],!1,!1),Z=Nl("[",!1),xl=/^[^\]]/,Zd=Ud(["]"],!0,!1),Ol=Nl("]",!1),gd=md("whitespace"),el=/^[ \t\n\r]/,Sl=Ud([" ","	",`
`,"\r"],!1,!1),X=0,wl=0,ud=[{line:1,column:1}],Dl=0,al=[],tl=0;if("startRule"in c){if(!(c.startRule in G))throw new Error(`Can't start parsing from rule "`+c.startRule+'".');v=G[c.startRule]}function Nl(m,Y){return{type:"literal",text:m,ignoreCase:Y}}function Ud(m,Y,r){return{type:"class",parts:m,inverted:Y,ignoreCase:r}}function md(m){return{type:"other",description:m}}function td(m){var Y,r=ud[m];if(r)return r;for(Y=m-1;!ud[Y];)Y--;for(r={line:(r=ud[Y]).line,column:r.column};Y<m;)d.charCodeAt(Y)===10?(r.line++,r.column=1):r.column++,Y++;return ud[m]=r,r}function Qd(m,Y){var r=td(m),j=td(Y);return{start:{offset:m,line:r.line,column:r.column},end:{offset:Y,line:j.line,column:j.column}}}function sl(m){X<Dl||(X>Dl&&(Dl=X,al=[]),al.push(m))}function cb(){var m,Y,r,j,ol,A;if(m=X,(Y=sd())!==l){for(r=[],d.length>X?(j=d.charAt(X),X++):(j=l,tl===0&&sl(R));j!==l;)r.push(j),d.length>X?(j=d.charAt(X),X++):(j=l,tl===0&&sl(R));r!==l?(wl=m,A=r,(ol=Y).root=!0,A&&(ol.label=A.join("")),m=Y=ol):(X=m,m=l)}else X=m,m=l;return m}function $l(){var m,Y,r;return m=X,d.charCodeAt(X)===62?(Y=nl,X++):(Y=l,tl===0&&sl(Yl)),Y===l&&(d.charCodeAt(X)===60?(Y=Kl,X++):(Y=l,tl===0&&sl(Ul)),Y===l&&(d.charCodeAt(X)===61?(Y=kl,X++):(Y=l,tl===0&&sl(jl)))),Y!==l&&(r=Il())!==l?(wl=m,m=Y={type:"success",mod:Y,expr:r}):(X=m,m=l),m}function _l(){var m,Y,r,j;return m=X,d.charCodeAt(X)===102?(Y="f",X++):(Y=l,tl===0&&sl(Xd)),Y!==l?(d.charCodeAt(X)===62?(r=nl,X++):(r=l,tl===0&&sl(Yl)),r===l&&(d.charCodeAt(X)===60?(r=Kl,X++):(r=l,tl===0&&sl(Ul)),r===l&&(d.charCodeAt(X)===61?(r=kl,X++):(r=l,tl===0&&sl(jl)))),r===l&&(r=null),r!==l&&(j=Il())!==l?(wl=m,m=Y={type:"failure",mod:r,expr:j}):(X=m,m=l)):(X=m,m=l),m}function Yd(){var m,Y,r,j;return m=X,d.substr(X,2)==="cs"?(Y="cs",X+=2):(Y=l,tl===0&&sl(Ql)),Y!==l?(d.charCodeAt(X)===62?(r=nl,X++):(r=l,tl===0&&sl(Yl)),r===l&&(d.charCodeAt(X)===60?(r=Kl,X++):(r=l,tl===0&&sl(Ul)),r===l&&(d.charCodeAt(X)===61?(r=kl,X++):(r=l,tl===0&&sl(jl)))),r===l&&(r=null),r!==l&&(j=Il())!==l?(wl=m,m=Y={type:"crit",mod:r,expr:j}):(X=m,m=l)):(X=m,m=l),m}function Jd(){var m,Y,r,j;return m=X,d.substr(X,2)==="cf"?(Y="cf",X+=2):(Y=l,tl===0&&sl(ql)),Y!==l?(d.charCodeAt(X)===62?(r=nl,X++):(r=l,tl===0&&sl(Yl)),r===l&&(d.charCodeAt(X)===60?(r=Kl,X++):(r=l,tl===0&&sl(Ul)),r===l&&(d.charCodeAt(X)===61?(r=kl,X++):(r=l,tl===0&&sl(jl)))),r===l&&(r=null),r!==l&&(j=Il())!==l?(wl=m,m=Y={type:"critfail",mod:r,expr:j}):(X=m,m=l)):(X=m,m=l),m}function nd(){var m,Y,r,j;return m=X,d.charCodeAt(X)===107?(Y="k",X++):(Y=l,tl===0&&sl(Id)),Y!==l?(d.charCodeAt(X)===108?(r="l",X++):(r=l,tl===0&&sl(Md)),r===l&&(d.charCodeAt(X)===104?(r="h",X++):(r=l,tl===0&&sl(Sd))),r===l&&(r=null),r!==l?((j=Il())===l&&(j=null),j!==l?(wl=m,m=Y={type:"keep",highlow:r,expr:j||F}):(X=m,m=l)):(X=m,m=l)):(X=m,m=l),m}function ad(){var m,Y,r,j;return m=X,d.charCodeAt(X)===100?(Y="d",X++):(Y=l,tl===0&&sl(Nd)),Y!==l?(d.charCodeAt(X)===108?(r="l",X++):(r=l,tl===0&&sl(Md)),r===l&&(d.charCodeAt(X)===104?(r="h",X++):(r=l,tl===0&&sl(Sd))),r===l&&(r=null),r!==l?((j=Il())===l&&(j=null),j!==l?(wl=m,m=Y={type:"drop",highlow:r,expr:j||F}):(X=m,m=l)):(X=m,m=l)):(X=m,m=l),m}function rd(){var m,Y,r,j,ol,A,hl,fl,vl,yl;if(m=X,(Y=vd())!==l){for(r=[],j=X,(ol=n())!==l?(d.charCodeAt(X)===43?(A=Vd,X++):(A=l,tl===0&&sl(Rd)),A!==l&&(hl=n())!==l&&(fl=vd())!==l?j=ol=[ol,A,hl,fl]:(X=j,j=l)):(X=j,j=l);j!==l;)r.push(j),j=X,(ol=n())!==l?(d.charCodeAt(X)===43?(A=Vd,X++):(A=l,tl===0&&sl(Rd)),A!==l&&(hl=n())!==l&&(fl=vd())!==l?j=ol=[ol,A,hl,fl]:(X=j,j=l)):(X=j,j=l);r!==l?(wl=m,vl=Y,m=Y=(yl=r).length==0?vl:{head:vl,type:"diceExpression",ops:yl.map(Ll=>({type:"math",op:Ll[1],tail:Ll[3]}))}):(X=m,m=l)}else X=m,m=l;return m}function vd(){var m;return(m=Pd())===l&&(m=sd()),m}function Pd(){var m,Y,r;return m=X,Y=function(){var j,ol,A,hl,fl;if(j=X,ol=function(){var vl,yl,Ll,Cl,Fl,Hl;if(vl=X,yl=function(){var zl,El,gl,Tl;return zl=X,(El=Il())===l&&(El=null),El!==l?(d.charCodeAt(X)===100?(gl="d",X++):(gl=l,tl===0&&sl(Nd)),gl!==l?(Tl=function(){var Ml,Pl;return Ml=X,d.charCodeAt(X)===70?(Pl="F",X++):(Pl=l,tl===0&&sl(Hd)),Pl===l&&(d.charCodeAt(X)===102?(Pl="f",X++):(Pl=l,tl===0&&sl(Xd))),Pl!==l&&(wl=Ml,Pl={type:"fate"}),Pl}(),Tl===l&&(Tl=function(){var Ml,Pl;return Ml=X,d.charCodeAt(X)===37?(Pl="%",X++):(Pl=l,tl===0&&sl(ed)),Pl!==l&&(wl=Ml,Pl={type:"number",value:"100"}),Pl}(),Tl===l&&(Tl=Il())),Tl!==l?(wl=zl,zl=El={die:Tl,count:El||{type:"number",value:1},type:"die"}):(X=zl,zl=l)):(X=zl,zl=l)):(X=zl,zl=l),zl}(),yl!==l){for(Ll=[],(Cl=bd())===l&&(Cl=Al())===l&&(Cl=Ed())===l&&(Cl=fd())===l&&(Cl=yd());Cl!==l;)Ll.push(Cl),(Cl=bd())===l&&(Cl=Al())===l&&(Cl=Ed())===l&&(Cl=fd())===l&&(Cl=yd());Ll!==l?(wl=vl,Hl=Ll,(Fl=yl).mods=(Fl.mods||[]).concat(Hl),vl=yl=Fl):(X=vl,vl=l)}else X=vl,vl=l;return vl}(),ol!==l){for(A=[],(hl=ad())===l&&(hl=nd())===l&&(hl=$l())===l&&(hl=_l())===l&&(hl=Jd())===l&&(hl=Yd());hl!==l;)A.push(hl),(hl=ad())===l&&(hl=nd())===l&&(hl=$l())===l&&(hl=_l())===l&&(hl=Jd())===l&&(hl=Yd());A!==l?((hl=function(){var vl,yl,Ll,Cl,Fl;return vl=X,d.charCodeAt(X)===109?(yl="m",X++):(yl=l,tl===0&&sl(dd)),yl!==l?(d.charCodeAt(X)===116?(Ll="t",X++):(Ll=l,tl===0&&sl(jd)),Ll===l&&(Ll=null),Ll!==l?((Cl=Ld())===l&&(Cl=null),Cl!==l?(Fl=function(){var Hl,zl,El;return Hl=X,d.charCodeAt(X)===62?(zl=nl,X++):(zl=l,tl===0&&sl(Yl)),zl===l&&(d.charCodeAt(X)===60?(zl=Kl,X++):(zl=l,tl===0&&sl(Ul)),zl===l&&(d.charCodeAt(X)===61?(zl=kl,X++):(zl=l,tl===0&&sl(jl)))),zl!==l&&(El=Il())!==l?(wl=Hl,Hl=zl={mod:zl,expr:El}):(X=Hl,Hl=l),Hl}(),Fl===l&&(Fl=null),Fl!==l?(wl=vl,vl=yl=function(Hl,zl,El){const gl={type:"match",min:zl||{type:"number",value:2},count:!!Hl};return El&&(gl.mod=El.mod,gl.expr=El.expr),gl}(Ll,Cl,Fl)):(X=vl,vl=l)):(X=vl,vl=l)):(X=vl,vl=l)):(X=vl,vl=l),vl}())===l&&(hl=null),hl!==l?(fl=function(){var vl,yl,Ll;return vl=X,d.charCodeAt(X)===115?(yl="s",X++):(yl=l,tl===0&&sl(Zb)),yl!==l?(d.charCodeAt(X)===97?(Ll="a",X++):(Ll=l,tl===0&&sl(ub)),Ll===l&&(d.charCodeAt(X)===100?(Ll="d",X++):(Ll=l,tl===0&&sl(Nd))),Ll===l&&(Ll=null),Ll!==l?(wl=vl,vl=yl=Ll=="d"?{type:"sort",asc:!1}:{type:"sort",asc:!0}):(X=vl,vl=l)):(X=vl,vl=l),vl}(),fl===l&&(fl=null),fl!==l?(wl=j,j=ol=function(vl,yl,Ll,Cl){const Fl=yl.filter(Hl=>["success","failure"].includes(Hl.type));return yl=yl.filter(Hl=>!Fl.includes(Hl)),vl.mods=(vl.mods||[]).concat(yl),Fl.length>0&&(vl.targets=Fl),Ll&&(vl.match=Ll),Cl&&(vl.sort=Cl),vl}(ol,A,hl,fl)):(X=j,j=l)):(X=j,j=l)):(X=j,j=l)}else X=j,j=l;return j}(),Y!==l&&n()!==l?((r=od())===l&&(r=null),r!==l?(wl=m,m=Y=il(Y,r)):(X=m,m=l)):(X=m,m=l),m}function Ed(){var m,Y,r;return m=X,d.charCodeAt(X)===33?(Y="!",X++):(Y=l,tl===0&&sl(mb)),Y!==l?((r=ld())===l&&(r=null),r!==l?(wl=m,m=Y={type:"explode",target:r}):(X=m,m=l)):(X=m,m=l),m}function bd(){var m,Y,r;return m=X,d.substr(X,2)==="!!"?(Y="!!",X+=2):(Y=l,tl===0&&sl(tb)),Y!==l?((r=ld())===l&&(r=null),r!==l?(wl=m,m=Y={type:"compound",target:r}):(X=m,m=l)):(X=m,m=l),m}function Al(){var m,Y,r;return m=X,d.substr(X,2)==="!p"?(Y="!p",X+=2):(Y=l,tl===0&&sl(Fd)),Y!==l?((r=ld())===l&&(r=null),r!==l?(wl=m,m=Y={type:"penetrate",target:r}):(X=m,m=l)):(X=m,m=l),m}function yd(){var m,Y,r;return m=X,d.charCodeAt(X)===114?(Y="r",X++):(Y=l,tl===0&&sl(Ad)),Y!==l?((r=ld())===l&&(r=null),r!==l?(wl=m,m=Y={type:"reroll",target:r||U}):(X=m,m=l)):(X=m,m=l),m}function fd(){var m,Y,r;return m=X,d.substr(X,2)==="ro"?(Y="ro",X+=2):(Y=l,tl===0&&sl(Od)),Y!==l?((r=ld())===l&&(r=null),r!==l?(wl=m,m=Y={type:"rerollOnce",target:r||U}):(X=m,m=l)):(X=m,m=l),m}function ld(){var m,Y,r;return m=X,d.charCodeAt(X)===62?(Y=nl,X++):(Y=l,tl===0&&sl(Yl)),Y===l&&(d.charCodeAt(X)===60?(Y=Kl,X++):(Y=l,tl===0&&sl(Ul)),Y===l&&(d.charCodeAt(X)===61?(Y=kl,X++):(Y=l,tl===0&&sl(jl)))),Y===l&&(Y=null),Y!==l&&(r=Il())!==l?(wl=m,m=Y={type:"target",mod:Y,value:r}):(X=m,m=l),m}function Il(){var m;return(m=Td())===l&&(m=Ld()),m}function sd(){var m;return(m=function(){var Y,r,j,ol;return Y=X,d.substr(X,2)==="[["?(r="[[",X+=2):(r=l,tl===0&&sl(C)),r!==l&&(j=sd())!==l?(d.substr(X,2)==="]]"?(ol="]]",X+=2):(ol=l,tl===0&&sl(dl)),ol!==l?(wl=Y,Y=r={type:"inline",expr:j}):(X=Y,Y=l)):(X=Y,Y=l),Y}())===l&&(m=id())===l&&(m=Td()),m}function Td(){var m,Y,r,j,ol,A,hl;return m=X,d.charCodeAt(X)===40?(Y="(",X++):(Y=l,tl===0&&sl(xd)),Y!==l&&(r=id())!==l?(d.charCodeAt(X)===41?(j=")",X++):(j=l,tl===0&&sl(Cd)),j!==l&&n()!==l?((ol=od())===l&&(ol=null),ol!==l?(wl=m,A=r,(hl=ol)&&(A.label=hl),m=Y=A):(X=m,m=l)):(X=m,m=l)):(X=m,m=l),m}function id(){var m,Y,r,j,ol,A,hl,fl;if(m=X,(Y=Gd())!==l){for(r=[],j=X,(ol=n())!==l?(d.charCodeAt(X)===43?(A=Vd,X++):(A=l,tl===0&&sl(Rd)),A===l&&(d.charCodeAt(X)===45?(A="-",X++):(A=l,tl===0&&sl(hd))),A!==l&&(hl=n())!==l&&(fl=Gd())!==l?j=ol=[ol,A,hl,fl]:(X=j,j=l)):(X=j,j=l);j!==l;)r.push(j),j=X,(ol=n())!==l?(d.charCodeAt(X)===43?(A=Vd,X++):(A=l,tl===0&&sl(Rd)),A===l&&(d.charCodeAt(X)===45?(A="-",X++):(A=l,tl===0&&sl(hd))),A!==l&&(hl=n())!==l&&(fl=Gd())!==l?j=ol=[ol,A,hl,fl]:(X=j,j=l)):(X=j,j=l);r!==l?(wl=m,m=Y=Kd(Y,r)):(X=m,m=l)}else X=m,m=l;return m}function Gd(){var m,Y,r,j,ol,A,hl,fl;if(m=X,(Y=cd())!==l){for(r=[],j=X,(ol=n())!==l?(d.charCodeAt(X)===42?(A="*",X++):(A=l,tl===0&&sl(qd)),A===l&&(d.charCodeAt(X)===47?(A="/",X++):(A=l,tl===0&&sl($d))),A!==l&&(hl=n())!==l&&(fl=cd())!==l?j=ol=[ol,A,hl,fl]:(X=j,j=l)):(X=j,j=l);j!==l;)r.push(j),j=X,(ol=n())!==l?(d.charCodeAt(X)===42?(A="*",X++):(A=l,tl===0&&sl(qd)),A===l&&(d.charCodeAt(X)===47?(A="/",X++):(A=l,tl===0&&sl($d))),A!==l&&(hl=n())!==l&&(fl=cd())!==l?j=ol=[ol,A,hl,fl]:(X=j,j=l)):(X=j,j=l);r!==l?(wl=m,m=Y=Kd(Y,r)):(X=m,m=l)}else X=m,m=l;return m}function cd(){var m,Y,r,j,ol,A,hl,fl;if(m=X,(Y=Bl())!==l){for(r=[],j=X,(ol=n())!==l?(d.substr(X,2)===pd?(A=pd,X+=2):(A=l,tl===0&&sl(_d)),A===l&&(d.charCodeAt(X)===37?(A="%",X++):(A=l,tl===0&&sl(ed))),A!==l&&(hl=n())!==l&&(fl=Bl())!==l?j=ol=[ol,A,hl,fl]:(X=j,j=l)):(X=j,j=l);j!==l;)r.push(j),j=X,(ol=n())!==l?(d.substr(X,2)===pd?(A=pd,X+=2):(A=l,tl===0&&sl(_d)),A===l&&(d.charCodeAt(X)===37?(A="%",X++):(A=l,tl===0&&sl(ed))),A!==l&&(hl=n())!==l&&(fl=Bl())!==l?j=ol=[ol,A,hl,fl]:(X=j,j=l)):(X=j,j=l);r!==l?(wl=m,m=Y=Kd(Y,r)):(X=m,m=l)}else X=m,m=l;return m}function Bl(){var m;return(m=function(){var Y,r,j,ol,A;return Y=X,r=function(){var hl;return d.substr(X,5)===wd?(hl=wd,X+=5):(hl=l,tl===0&&sl(lb)),hl===l&&(d.substr(X,4)===db?(hl=db,X+=4):(hl=l,tl===0&&sl(nb)),hl===l&&(d.substr(X,5)===Bd?(hl=Bd,X+=5):(hl=l,tl===0&&sl(bb)),hl===l&&(d.substr(X,3)==="abs"?(hl="abs",X+=3):(hl=l,tl===0&&sl(ab))))),hl}(),r!==l&&n()!==l?(d.charCodeAt(X)===40?(j="(",X++):(j=l,tl===0&&sl(xd)),j!==l&&n()!==l&&(ol=id())!==l&&n()!==l?(d.charCodeAt(X)===41?(A=")",X++):(A=l,tl===0&&sl(Cd)),A!==l?(wl=Y,Y=r={type:"mathfunction",op:r,expr:ol}):(X=Y,Y=l)):(X=Y,Y=l)):(X=Y,Y=l),Y}())===l&&(m=function(){var Y,r,j;return Y=X,r=function(){var ol,A,hl,fl,vl,yl,Ll,Cl;if(ol=X,A=function(){var Fl,Hl,zl,El,gl,Tl,Ml,Pl,Xb;if(Fl=X,d.charCodeAt(X)===123?(Hl="{",X++):(Hl=l,tl===0&&sl(Wd)),Hl!==l)if(n()!==l)if((zl=rd())!==l){for(El=[],gl=X,(Tl=n())!==l?(d.charCodeAt(X)===44?(Ml=",",X++):(Ml=l,tl===0&&sl(Dd)),Ml!==l&&(Pl=n())!==l&&(Xb=rd())!==l?gl=Tl=[Tl,Ml,Pl,Xb]:(X=gl,gl=l)):(X=gl,gl=l);gl!==l;)El.push(gl),gl=X,(Tl=n())!==l?(d.charCodeAt(X)===44?(Ml=",",X++):(Ml=l,tl===0&&sl(Dd)),Ml!==l&&(Pl=n())!==l&&(Xb=rd())!==l?gl=Tl=[Tl,Ml,Pl,Xb]:(X=gl,gl=l)):(X=gl,gl=l);El!==l&&(gl=n())!==l?(d.charCodeAt(X)===125?(Tl="}",X++):(Tl=l,tl===0&&sl(eb)),Tl!==l?(wl=Fl,Fl=Hl={rolls:[zl,...El.map(ib=>ib[3])],type:"group"}):(X=Fl,Fl=l)):(X=Fl,Fl=l)}else X=Fl,Fl=l;else X=Fl,Fl=l;else X=Fl,Fl=l;return Fl}(),A!==l){for(hl=[],(fl=nd())===l&&(fl=ad())===l&&(fl=$l())===l&&(fl=_l());fl!==l;)hl.push(fl),(fl=nd())===l&&(fl=ad())===l&&(fl=$l())===l&&(fl=_l());hl!==l&&(fl=n())!==l?((vl=od())===l&&(vl=null),vl!==l?(wl=ol,yl=A,Cl=vl,(Ll=hl).length>0&&(yl.mods=(yl.mods||[]).concat(Ll)),Cl&&(yl.label=Cl),ol=A=yl):(X=ol,ol=l)):(X=ol,ol=l)}else X=ol,ol=l;return ol}(),r===l&&(r=Pd())===l&&(r=Ld()),r!==l&&n()!==l?((j=od())===l&&(j=null),j!==l?(wl=Y,Y=r=il(r,j)):(X=Y,Y=l)):(X=Y,Y=l),Y}())===l&&(m=Td()),m}function Ld(){var m,Y,r,j;if(tl++,m=X,d.charCodeAt(X)===45?(Y="-",X++):(Y=l,tl===0&&sl(hd)),Y===l&&(Y=null),Y!==l){if(r=[],zd.test(d.charAt(X))?(j=d.charAt(X),X++):(j=l,tl===0&&sl(kd)),j!==l)for(;j!==l;)r.push(j),zd.test(d.charAt(X))?(j=d.charAt(X),X++):(j=l,tl===0&&sl(kd));else r=l;r!==l?(wl=m,m=Y={type:"number",value:parseInt(d.substring(wl,X),10)}):(X=m,m=l)}else X=m,m=l;return tl--,m===l&&(Y=l,tl===0&&sl(sb)),m}function od(){var m,Y,r,j;if(m=X,d.charCodeAt(X)===91?(Y="[",X++):(Y=l,tl===0&&sl(Z)),Y!==l){if(r=[],xl.test(d.charAt(X))?(j=d.charAt(X),X++):(j=l,tl===0&&sl(Zd)),j!==l)for(;j!==l;)r.push(j),xl.test(d.charAt(X))?(j=d.charAt(X),X++):(j=l,tl===0&&sl(Zd));else r=l;r!==l?(d.charCodeAt(X)===93?(j="]",X++):(j=l,tl===0&&sl(Ol)),j!==l?(wl=m,m=Y=r.join("")):(X=m,m=l)):(X=m,m=l)}else X=m,m=l;return m}function n(){var m,Y;for(tl++,m=[],el.test(d.charAt(X))?(Y=d.charAt(X),X++):(Y=l,tl===0&&sl(Sl));Y!==l;)m.push(Y),el.test(d.charAt(X))?(Y=d.charAt(X),X++):(Y=l,tl===0&&sl(Sl));return tl--,m===l&&(Y=l,tl===0&&sl(gd)),m}const U={type:"target",mod:"=",value:{type:"number",value:1}},F={type:"number",value:1};if((b=v())!==l&&X===d.length)return b;throw b!==l&&X<d.length&&sl({type:"end"}),D=al,rl=Dl<d.length?d.charAt(Dl):null,Xl=Dl<d.length?Qd(Dl,Dl+1):Qd(Dl,Dl),new s(s.buildMessage(D,rl),D,rl,Xl);var D,rl,Xl}}}},L={};return function J(s){var d=L[s];if(d!==void 0)return d.exports;var c=L[s]={exports:{}};return h[s].call(c.exports,c,c.exports,J),c.exports}(607)})())})(dist$1);var distExports$1=dist$1.exports;let externalCount=0;class ParserInterface{constructor(V={}){this.rollsAsFloats=[],this.dieGroups=[],this.parsedNotation=null,this.finalResults=null,this.targetRollsCritSuccess=V?.targetRollsCritSuccess||V?.targetRollsCrit||!1,this.targetRollsCritFailure=V?.targetRollsCritFailure||V?.targetRollsCrit||!1,this.initParser()}initParser(){this.rollParser=new distExports$1.DiceRoller((V=this.rollsAsFloats)=>V.length>0?V[externalCount++]:(console.warn("No result was passed to the dice-roller-parser. Using fallback Math.random"),Math.random()))}parseNotation(V){this.clear(),V=V.replace(/d00/,"d%"),this.parsedNotation=this.rollParser.parse(V);const h=L=>{const J=L.die.value||L.die.type;this.dieGroups.push({qty:L.count.value,sides:J,mods:L.mods})};return this.recursiveSearch(this.parsedNotation,"die",[],h),this.dieGroups}rollNotation(V){return this.finalResults=this.rollParser.rollParsed(V),this.finalResults}clear(){externalCount=0,this.rollsAsFloats=[],this.dieGroups=[],this.parsedNotation=null,this.finalResults=null}recursiveSearch(V,h,L=[],J){const s=L;return Object.keys(V).forEach(d=>{const c=V[d];d===h?(s.push(c),J&&typeof J=="function"&&J(V)):c&&typeof c=="object"&&this.recursiveSearch(c,h,s,J)}),s}incrementId(V){V=V.toString();let h=V.split(".");return h[1]?h[1]=parseInt(h[1])+1:h[1]=1,h[0]+"."+h[1]}handleRerolls(V=[]){const h=[];return V.forEach((L,J)=>{if(L.mods?.length>0){const s=(b,l,G)=>{switch(l){case">":return b>=G;case"<":return b<=G;case"=":default:return b==G}},d=L.rolls.map(b=>b.rollId),c=b=>{const l=this.incrementId(b);return d.includes(l)};L.mods.forEach(b=>{const l={...L.rolls};switch(b.type){case"explode":case"compound":Object.entries(l).forEach(([G,v])=>{const R=v.sides,C=b.target?.value?.value||R,dl=b.target?.mod||">";s(v.value,dl,C)&&!c(v.rollId)&&h.push({groupId:J,rollId:this.incrementId(v.rollId),sides:v.sides,qty:1})});break;case"penetrate":Object.entries(l).forEach(([G,v])=>{const R=v.sides,C=b.target?.value?.value||R,dl=b.target?.mod||"=";s(v.value,dl,C)&&!c(v.rollId)&&h.push({groupId:J,rollId:this.incrementId(v.rollId),sides:v.sides,qty:1})});break;case"reroll":Object.entries(l).forEach(([G,v])=>{v.sides,s(v.value,b.target.mod,b.target.value.value)&&!c(v.rollId)&&h.push({groupId:J,rollId:this.incrementId(v.rollId),sides:v.sides,qty:1})});break;case"rerollOnce":Object.entries(l).forEach(([G,v])=>{const R=b.target?.value?.value,C=b.target.mod;s(v.value,C,R)&&!c(v.rollId)&&!v.rollId.toString().includes(".")&&h.push({groupId:J,rollId:this.incrementId(v.rollId),sides:v.sides,qty:1})});break}})}}),h}handleTargetCritSuccess(V=[]){V.rolls.forEach(h=>{h.successes>=1&&h.critical==="success"&&(h.successes+=1,V.value+=1)})}handleTargetCritFailure(V=[]){V.rolls.forEach(h=>{h.failures>=1&&h.critical==="failure"&&(h.failures+=1,V.value-=1)})}parseFinalResults(V=[]){let h=this.recursiveSearch(V,"rolls");(h.length?h:[V]).forEach(s=>Object.entries(s).forEach(([d,c])=>{try{let b=c.sides;const l=/[dD]\d+/i;typeof b=="string"&&b.match(l)&&(b=parseInt(c.sides.substring(1))),b&&(b==="fate"?this.rollsAsFloats.push((c.value+2)*.25):this.rollsAsFloats.push((c.value-1)/b))}catch{throw console.error("This object is not a properly formatted roll object.",c),new Error("Unable to parse final results")}}));const J=this.rollParser.rollParsed(this.parsedNotation);return this.targetRollsCritSuccess&&J.success!==null&&this.handleTargetCritSuccess(J),this.targetRollsCritFailure&&J.success!==null&&this.handleTargetCritFailure(J),this.finalResults=J,externalCount=0,this.rollsAsFloats=[],J}}const noop=()=>{},defaultNotation={d4:{count:0},d6:{count:0},d8:{count:0},d10:{count:0},d12:{count:0},d20:{count:0},d100:{count:0}};function deepCopy(I){return JSON.parse(JSON.stringify(I))}class DiceUIPicker{baseMessage;target;elem;output;onSubmit;onClear;onReroll;onResults;DRP=new ParserInterface;notation=deepCopy(defaultNotation);constructor(V){const h=window.innerWidth<Constants.MOBILEWIDTH;this.baseMessage="Use Buttons to Roll",this.target=V.target?document.querySelector(V.target):document.body,this.elem=this.elem=document.createRange().createContextualFragment(`
            <div class="dice-picker">
                <form>
                    <div class="dice${h?" center":""}">
                        <button class="button-47" value="d4">${h?"4":"D4"}</button>
                        <button class="button-47" value="d6">${h?"6":"D6"}</button>
                        <button class="button-47" value="d8">${h?"8":"D8"}</button>
                        ${h?"</br>":""}
                        <button class="button-47" value="d10">${h?"10":"D10"}</button>
                        <button class="button-47" value="d12">${h?"12":"D12"}</button>
                        <button class="button-47" value="d20">${h?"20":"D20"}</button>
                        <button class="button-47" value="d100">${h?"100":"D100"}</button>
                    </div>
                    <div id="buttonContainer">
                        <button id="resetButton" class="button-47" type="reset">${h?"ðŸš«":"Clear"}</button>
                        <button id="throwButton" class="button-47"type="submit">${h?"ðŸŽ²":"Throw"}</button>
                        <div id="diceNotes" class="output">${this.baseMessage}</div>
                    </div>
                </form>
            </div>
            `),this.onSubmit=V?.onSubmit||noop,this.onClear=V?.onClear||noop,this.onReroll=V?.onReroll||noop,this.onResults=V?.onResults||noop,this.output=null,this.Initialize()}Initialize(){this.output=this.elem.querySelector(".output");const V=this.elem.querySelector("form"),h=this.elem.querySelectorAll(".dice button");h.forEach(L=>L.addEventListener("click",J=>{J.preventDefault(),this.notation[L.value].count+=1,this.updateNotation(!1)})),h.forEach(L=>L.addEventListener("contextmenu",J=>{J.preventDefault(),this.notation[L.value].count>0&&(this.notation[L.value].count-=1,this.updateNotation(!1))})),V.addEventListener("submit",L=>{L.preventDefault(),this.output.innerHTML!="Use Buttons to Roll"&&this.onSubmit(this.DRP.parseNotation(this.output.innerHTML))}),V.addEventListener("reset",L=>{L.preventDefault(),this.updateNotation(!0)}),this.target.prepend(this.elem)}updateNotation(V){let h="";V?(this.clear(),h=this.baseMessage):h=Object.entries(this.notation).reduce((L,[J,s])=>{let d=s,c="";return L!==""&&(c=" + "),d.count===0?L:L+c+d.count+J},""),this.output.innerHTML=h}setNotation(V={}){this.notation=V,this.updateNotation(!1)}clear(){this.notation=deepCopy(defaultNotation),this.DRP.clear(),this.onClear()}handleResults(V){const h=/[dD]\d+/i;V.forEach(d=>{typeof d.sides=="string"&&d.sides.match(h)&&(d.sides=parseInt(d.sides.substring(1))),d.rolls.forEach(c=>{typeof c.sides=="string"&&c.sides.match(h)&&(c.sides=parseInt(c.sides.substring(1)))})});const L=this.DRP.handleRerolls(V);if(L.length)return this.onReroll(L),L;const J=this.DRP.parsedNotation?this.DRP.parseFinalResults(V):V,s=new CustomEvent("resultsAvailable",{detail:J});return document.dispatchEvent(s),this.onResults(J),J}ready(){console.log("Dice UI Ready.")}}var dist={exports:{}};(function(I,V){(function(h,L){I.exports=L()})(commonjsGlobal,function(){return function(h){var L={};function J(s){if(L[s])return L[s].exports;var d=L[s]={i:s,l:!1,exports:{}};return h[s].call(d.exports,d,d.exports,J),d.l=!0,d.exports}return J.m=h,J.c=L,J.d=function(s,d,c){J.o(s,d)||Object.defineProperty(s,d,{enumerable:!0,get:c})},J.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},J.t=function(s,d){if(1&d&&(s=J(s)),8&d||4&d&&typeof s=="object"&&s&&s.__esModule)return s;var c=Object.create(null);if(J.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:s}),2&d&&typeof s!="string")for(var b in s)J.d(c,b,function(l){return s[l]}.bind(null,b));return c},J.n=function(s){var d=s&&s.__esModule?function(){return s.default}:function(){return s};return J.d(d,"a",d),d},J.o=function(s,d){return Object.prototype.hasOwnProperty.call(s,d)},J.p="",J(J.s=0)}([function(h,L,J){function s(d){for(var c in d)L.hasOwnProperty(c)||(L[c]=d[c])}Object.defineProperty(L,"__esModule",{value:!0}),s(J(1)),s(J(3))},function(h,L,J){Object.defineProperty(L,"__esModule",{value:!0});const s=J(2);L.DiceRoller=class{constructor(d,c=1e3){this.randFunction=Math.random,this.maxRollCount=1e3,d&&(this.randFunction=d),this.maxRollCount=c}parse(d){return s.parse(d)}roll(d){const c=s.parse(d);return this.rollType(c)}rollValue(d){return this.roll(d).value}rollParsed(d){return this.rollType(d)}rollType(d){let c;switch(d.type){case"diceExpression":c=this.rollDiceExpr(d);break;case"group":c=this.rollGroup(d);break;case"die":c=this.rollDie(d);break;case"expression":c=this.rollExpression(d);break;case"mathfunction":c=this.rollFunction(d);break;case"inline":c=this.rollType(d.expr);break;case"number":c=Object.assign(Object.assign({},d),{success:!1,valid:!0,order:0});break;default:throw new Error(`Unable to render ${d.type}`)}return d.label&&(c.label=d.label),c}rollDiceExpr(d){const c=this.rollType(d.head),b=[c],l=[],G=d.ops.reduce((v,R,C)=>{const dl=this.rollType(R.tail);switch(dl.order=C,b.push(dl),l.push(R.op),R.op){case"+":return v+dl.value;case"-":return v-dl.value;default:return v}},c.value);return{dice:b,ops:l,success:!1,type:"diceexpressionroll",valid:!0,value:G,order:0}}rollGroup(d){let c=d.rolls.map((b,l)=>Object.assign(Object.assign({},this.rollType(b)),{order:l}));if(d.mods){const b=d.mods,l=G=>{const v=b.some(R=>["failure","success"].includes(R.type));return G=b.reduce((R,C)=>this.applyGroupMod(R,C),G),v&&(G=G.map(R=>(R.success||(R.value=0,R.success=!0),R))),G};if(c.length===1&&["die","diceexpressionroll"].includes(c[0].type)){const G=c[0];let v=G.type==="die"?G.rolls:G.dice.filter(R=>R.type!=="number").reduce((R,C)=>[...R,...C.type==="die"?C.rolls:C.dice],[]);v=l(v),G.value=v.reduce((R,C)=>C.valid?R+C.value:R,0)}else c=l(c)}return{dice:c,success:!1,type:"grouproll",valid:!0,value:c.reduce((b,l)=>l.valid?b+l.value:b,0),order:0}}rollDie(d){const c=this.rollType(d.count);if(c.value>this.maxRollCount)throw new Error("Entered number of dice too large.");let b,l;d.die.type==="fate"?(l={type:"fate",success:!1,valid:!1,value:0,order:0},b=Array.from({length:c.value},(R,C)=>this.generateFateRoll(C))):(l=this.rollType(d.die),b=Array.from({length:c.value},(R,C)=>this.generateDiceRoll(l.value,C))),d.mods&&(b=d.mods.reduce((R,C)=>this.applyMod(R,C),b)),d.targets&&(b=d.targets.reduce((R,C)=>this.applyMod(R,C),b).map(R=>(R.success||(R.value=0,R.success=!0),R)));let G=!1,v=0;if(d.match){const R=d.match,C=b.reduce((il,nl)=>il.set(nl.roll,(il.get(nl.roll)||0)+1),new Map),dl=new Set(Array.from(C.entries()).filter(([il,nl])=>nl>=R.min.value).filter(([il])=>!(R.mod&&R.expr)||this.successTest(R.mod,this.rollType(R.expr).value,il)).map(([il])=>il));b.filter(il=>dl.has(il.roll)).forEach(il=>il.matched=!0),R.count&&(G=!0,v=dl.size)}return d.sort&&(b=this.applySort(b,d.sort)),{count:c,die:l,rolls:b,success:!1,type:"die",valid:!0,value:G?v:b.reduce((R,C)=>C.valid?R+C.value:R,0),order:0,matched:G}}rollExpression(d){const c=this.rollType(d.head),b=[c],l=[],G=d.ops.reduce((v,R)=>{const C=this.rollType(R.tail);switch(b.push(C),l.push(R.op),R.op){case"+":return v+C.value;case"-":return v-C.value;case"*":return v*C.value;case"/":return v/C.value;case"%":return v%C.value;case"**":return v**C.value;default:return v}},c.value);return{dice:b,ops:l,success:!1,type:"expressionroll",valid:!0,value:G,order:0}}rollFunction(d){const c=this.rollType(d.expr);let b;switch(d.op){case"floor":b=Math.floor(c.value);break;case"ceil":b=Math.ceil(c.value);break;case"round":b=Math.round(c.value);break;case"abs":b=Math.abs(c.value);break;default:b=c.value}return{expr:c,op:d.op,success:!1,type:"mathfunction",valid:!0,value:b,order:0}}applyGroupMod(d,c){return this.getGroupModMethod(c)(d)}getGroupModMethod(d){const c=b=>b.value;switch(d.type){case"success":return this.getSuccessMethod(d,c);case"failure":return this.getFailureMethod(d,c);case"keep":return this.getKeepMethod(d,c);case"drop":return this.getDropMethod(d,c);default:throw new Error(`Mod ${d.type} is not recognised`)}}applyMod(d,c){return this.getModMethod(c)(d)}getModMethod(d){const c=b=>b.roll;switch(d.type){case"success":return this.getSuccessMethod(d,c);case"failure":return this.getFailureMethod(d,c);case"crit":return this.getCritSuccessMethod(d,c);case"critfail":return this.getCritFailureMethod(d,c);case"keep":return b=>this.getKeepMethod(d,c)(b).sort((l,G)=>l.order-G.order);case"drop":return b=>this.getDropMethod(d,c)(b).sort((l,G)=>l.order-G.order);case"explode":return this.getExplodeMethod(d);case"compound":return this.getCompoundMethod(d);case"penetrate":return this.getPenetrateMethod(d);case"reroll":return this.getReRollMethod(d);case"rerollOnce":return this.getReRollOnceMethod(d);default:throw new Error(`Mod ${d.type} is not recognised`)}}applySort(d,c){return d.sort((b,l)=>c.asc?b.roll-l.roll:l.roll-b.roll),d.forEach((b,l)=>b.order=l),d}getCritSuccessMethod(d,c){const b=this.rollType(d.expr);return l=>l.map(G=>{if(!G.valid||G.type!=="roll"||G.success)return G;const v=G;return this.successTest(d.mod,b.value,c(G))?v.critical="success":v.critical==="success"&&(v.critical=null),G})}getCritFailureMethod(d,c){const b=this.rollType(d.expr);return l=>l.map(G=>{if(!G.valid||G.type!=="roll"||G.success)return G;const v=G;return this.successTest(d.mod,b.value,c(G))?v.critical="failure":v.critical==="failure"&&(v.critical=null),G})}getSuccessMethod(d,c){const b=this.rollType(d.expr);return l=>l.map(G=>(G.valid&&this.successTest(d.mod,b.value,c(G))&&(G.success?G.value+=1:(G.value=1,G.success=!0)),G))}getFailureMethod(d,c){const b=this.rollType(d.expr);return l=>l.map(G=>(G.valid&&this.successTest(d.mod,b.value,c(G))&&(G.success?G.value-=1:(G.value=-1,G.success=!0)),G))}getKeepMethod(d,c){const b=this.rollType(d.expr);return l=>{if(l.length===0)return l;l=l.sort((dl,il)=>d.highlow==="l"?c(il)-c(dl):c(dl)-c(il)).sort((dl,il)=>(dl.valid?1:0)-(il.valid?1:0));const G=Math.max(Math.min(b.value,l.length),0);let v=0,R=0;const C=l.reduce((dl,il)=>(il.valid?1:0)+dl,0)-G;for(;R<l.length&&v<C;)l[R].valid&&(l[R].valid=!1,v++),R++;return l}}getDropMethod(d,c){const b=this.rollType(d.expr);return l=>{l=l.sort((C,dl)=>d.highlow==="h"?c(dl)-c(C):c(C)-c(dl));const G=Math.max(Math.min(b.value,l.length),0);let v=0,R=0;for(;R<l.length&&v<G;)l[R].valid&&(l[R].valid=!1,v++),R++;return l}}getExplodeMethod(d){const c=d.target?this.rollType(d.target.value):null;return b=>{const l=c?G=>this.successTest(d.target.mod,c.value,G.roll):G=>this.successTest("=",G.type==="fateroll"?1:G.die,G.roll);if(b[0].type==="roll"&&l({roll:1})&&l({roll:b[0].die}))throw new Error("Invalid reroll target");for(let G=0;G<b.length;G++){let v=b[G];v.order=G;let R=0;for(;l(v)&&R++<1e3;){const C=this.reRoll(v,++G);b.splice(G,0,C),v=C}}return b}}getCompoundMethod(d){const c=d.target?this.rollType(d.target.value):null;return b=>{const l=c?G=>this.successTest(d.target.mod,c.value,G.roll):G=>this.successTest("=",G.type==="fateroll"?1:G.die,G.roll);if(b[0].type==="roll"&&l({roll:1})&&l({roll:b[0].die}))throw new Error("Invalid reroll target");for(let G=0;G<b.length;G++){let v=b[G],R=v.roll,C=0;for(;l(v)&&C++<1e3;){const dl=this.reRoll(b[G],++G);R+=dl.roll,v=dl}v.value=R,v.roll=R}return b}}getPenetrateMethod(d){const c=d.target?this.rollType(d.target.value):null;return b=>{const l=c?G=>this.successTest(d.target.mod,c.value,G.roll):G=>this.successTest("=",G.type==="fateroll"?1:G.die,G.roll);if(c&&b[0].type==="roll"&&l(b[0])&&this.successTest(d.target.mod,c.value,1))throw new Error("Invalid reroll target");for(let G=0;G<b.length;G++){let v=b[G];v.order=G;let R=0;for(;l(v)&&R++<1e3;){const C=this.reRoll(v,++G);C.value-=1,C.roll-=1,b.splice(G,0,C),v=C}}return b}}getReRollMethod(d){const c=d.target?this.successTest.bind(null,d.target.mod,this.rollType(d.target.value).value):this.successTest.bind(null,"=",1);return b=>{if(b[0].type==="roll"&&c(1)&&c(b[0].die))throw new Error("Invalid reroll target");for(let l=0;l<b.length;l++)for(;c(b[l].roll);){b[l].valid=!1;const G=this.reRoll(b[l],l+1);b.splice(++l,0,G)}return b}}getReRollOnceMethod(d){const c=d.target?this.successTest.bind(null,d.target.mod,this.rollType(d.target.value).value):this.successTest.bind(null,"=",1);return b=>{if(b[0].type==="roll"&&c(1)&&c(b[0].die))throw new Error("Invalid reroll target");for(let l=0;l<b.length;l++)if(c(b[l].roll)){b[l].valid=!1;const G=this.reRoll(b[l],l+1);b.splice(++l,0,G)}return b}}successTest(d,c,b){switch(d){case">":return b>=c;case"<":return b<=c;case"=":default:return b==c}}reRoll(d,c){switch(d.type){case"roll":return this.generateDiceRoll(d.die,c);case"fateroll":return this.generateFateRoll(c);default:throw new Error(`Cannot do a reroll of a ${d.type}.`)}}generateDiceRoll(d,c){const b=Math.floor(this.randFunction()*d)+1;return{critical:b===d?"success":b===1?"failure":null,die:d,matched:!1,order:c,roll:b,success:!1,type:"roll",valid:!0,value:b}}generateFateRoll(d){const c=Math.floor(3*this.randFunction())-1;return{matched:!1,order:d,roll:c,success:!1,type:"fateroll",valid:!0,value:c}}}},function(h,L,J){function s(d,c,b,l){this.message=d,this.expected=c,this.found=b,this.location=l,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,s)}(function(d,c){function b(){this.constructor=d}b.prototype=c.prototype,d.prototype=new b})(s,Error),s.buildMessage=function(d,c){var b={literal:function(R){return'"'+G(R.text)+'"'},class:function(R){var C,dl="";for(C=0;C<R.parts.length;C++)dl+=R.parts[C]instanceof Array?v(R.parts[C][0])+"-"+v(R.parts[C][1]):v(R.parts[C]);return"["+(R.inverted?"^":"")+dl+"]"},any:function(R){return"any character"},end:function(R){return"end of input"},other:function(R){return R.description}};function l(R){return R.charCodeAt(0).toString(16).toUpperCase()}function G(R){return R.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(C){return"\\x0"+l(C)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(C){return"\\x"+l(C)})}function v(R){return R.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(C){return"\\x0"+l(C)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(C){return"\\x"+l(C)})}return"Expected "+function(R){var C,dl,il,nl=new Array(R.length);for(C=0;C<R.length;C++)nl[C]=(il=R[C],b[il.type](il));if(nl.sort(),nl.length>0){for(C=1,dl=1;C<nl.length;C++)nl[C-1]!==nl[C]&&(nl[dl]=nl[C],dl++);nl.length=dl}switch(nl.length){case 1:return nl[0];case 2:return nl[0]+" or "+nl[1];default:return nl.slice(0,-1).join(", ")+", or "+nl[nl.length-1]}}(d)+" but "+function(R){return R?'"'+G(R)+'"':"end of input"}(c)+" found."},h.exports={SyntaxError:s,parse:function(d,c){c=c!==void 0?c:{};var b,l={},G={start:Nl},v=Nl,R={type:"any"},C=Sl("[[",!1),dl=Sl("]]",!1),il=function(n,U){return U&&(n.label=U),n},nl=Sl(">",!1),Yl=Sl("<",!1),Kl=Sl("=",!1),Ul=Sl("f",!1),kl=Sl("cs",!1),jl=Sl("cf",!1),Xd=Sl("m",!1),Ql=Sl("t",!1),ql=Sl("k",!1),dd=Sl("l",!1),jd=Sl("h",!1),Id=Sl("d",!1),Md=Sl("{",!1),Sd=Sl(",",!1),Nd=Sl("}",!1),Wd=Sl("+",!1),Dd=Sl("sa",!1),eb=Sl("sd",!1),Vd=Sl("!",!1),Rd=Sl("!!",!1),Zb=Sl("!p",!1),ub=Sl("r",!1),mb=Sl("ro",!1),tb=Sl("F",!1),Fd=Sl("%",!1),Ad=Sl("(",!1),Od=Sl(")",!1),Hd=Sl("-",!1),ed=function(n,U){return U.length==0?n:{head:n,type:"expression",ops:U.map(F=>({type:"math",op:F[1],tail:F[3]}))}},xd=Sl("*",!1),Cd=Sl("/",!1),hd=Sl("**",!1),Kd=Sl("floor",!1),qd=Sl("ceil",!1),$d=Sl("round",!1),pd=Sl("abs",!1),_d=wl("integer"),wd=/^[0-9]/,lb=X([["0","9"]],!1,!1),db=function(){return{type:"number",value:parseInt(d.substring(xl,Z),10)}},nb=Sl("[",!1),Bd=/^[^\]]/,bb=X(["]"],!0,!1),ab=Sl("]",!1),sb=wl("whitespace"),zd=/^[ \t\n\r]/,kd=X([" ","	",`
`,"\r"],!1,!1),Z=0,xl=0,Zd=[{line:1,column:1}],Ol=0,gd=[],el=0;if("startRule"in c){if(!(c.startRule in G))throw new Error(`Can't start parsing from rule "`+c.startRule+'".');v=G[c.startRule]}function Sl(n,U){return{type:"literal",text:n,ignoreCase:U}}function X(n,U,F){return{type:"class",parts:n,inverted:U,ignoreCase:F}}function wl(n){return{type:"other",description:n}}function ud(n){var U,F=Zd[n];if(F)return F;for(U=n-1;!Zd[U];)U--;for(F={line:(F=Zd[U]).line,column:F.column};U<n;)d.charCodeAt(U)===10?(F.line++,F.column=1):F.column++,U++;return Zd[n]=F,F}function Dl(n,U){var F=ud(n),D=ud(U);return{start:{offset:n,line:F.line,column:F.column},end:{offset:U,line:D.line,column:D.column}}}function al(n){Z<Ol||(Z>Ol&&(Ol=Z,gd=[]),gd.push(n))}function tl(n,U,F){return new s(s.buildMessage(n,U),n,U,F)}function Nl(){var n,U,F,D,rl,Xl;if(n=Z,(U=yd())!==l){for(F=[],d.length>Z?(D=d.charAt(Z),Z++):(D=l,el===0&&al(R));D!==l;)F.push(D),d.length>Z?(D=d.charAt(Z),Z++):(D=l,el===0&&al(R));F!==l?(xl=n,Xl=F,(rl=U).root=!0,Xl&&(rl.label=Xl.join("")),n=U=rl):(Z=n,n=l)}else Z=n,n=l;return n}function Ud(){var n,U,F;return n=Z,(U=function(){var D,rl,Xl,m,Y;if(D=Z,(rl=function(){var A,hl,fl,vl,yl,Ll,Cl,Fl,Hl;if(A=Z,d.charCodeAt(Z)===123?(hl="{",Z++):(hl=l,el===0&&al(Md)),hl!==l)if(Bl()!==l)if((fl=Yd())!==l){for(vl=[],yl=Z,(Ll=Bl())!==l?(d.charCodeAt(Z)===44?(Cl=",",Z++):(Cl=l,el===0&&al(Sd)),Cl!==l&&(Fl=Bl())!==l&&(Hl=Yd())!==l?yl=Ll=[Ll,Cl,Fl,Hl]:(Z=yl,yl=l)):(Z=yl,yl=l);yl!==l;)vl.push(yl),yl=Z,(Ll=Bl())!==l?(d.charCodeAt(Z)===44?(Cl=",",Z++):(Cl=l,el===0&&al(Sd)),Cl!==l&&(Fl=Bl())!==l&&(Hl=Yd())!==l?yl=Ll=[Ll,Cl,Fl,Hl]:(Z=yl,yl=l)):(Z=yl,yl=l);vl!==l&&(yl=Bl())!==l?(d.charCodeAt(Z)===125?(Ll="}",Z++):(Ll=l,el===0&&al(Nd)),Ll!==l?(xl=A,hl={rolls:[fl,...vl.map(zl=>zl[3])],type:"group"},A=hl):(Z=A,A=l)):(Z=A,A=l)}else Z=A,A=l;else Z=A,A=l;else Z=A,A=l;return A}())!==l){for(Xl=[],(m=$l())===l&&(m=_l())===l&&(m=md())===l&&(m=td());m!==l;)Xl.push(m),(m=$l())===l&&(m=_l())===l&&(m=md())===l&&(m=td());Xl!==l&&(m=Bl())!==l?((Y=cd())===l&&(Y=null),Y!==l?(xl=D,r=rl,ol=Y,(j=Xl).length>0&&(r.mods=(r.mods||[]).concat(j)),ol&&(r.label=ol),D=rl=r):(Z=D,D=l)):(Z=D,D=l)}else Z=D,D=l;var r,j,ol;return D}())===l&&(U=nd())===l&&(U=Gd()),U!==l&&Bl()!==l?((F=cd())===l&&(F=null),F!==l?(xl=n,n=U=il(U,F)):(Z=n,n=l)):(Z=n,n=l),n}function md(){var n,U,F;return n=Z,d.charCodeAt(Z)===62?(U=">",Z++):(U=l,el===0&&al(nl)),U===l&&(d.charCodeAt(Z)===60?(U="<",Z++):(U=l,el===0&&al(Yl)),U===l&&(d.charCodeAt(Z)===61?(U="=",Z++):(U=l,el===0&&al(Kl)))),U!==l&&(F=Al())!==l?(xl=n,n=U={type:"success",mod:U,expr:F}):(Z=n,n=l),n}function td(){var n,U,F,D;return n=Z,d.charCodeAt(Z)===102?(U="f",Z++):(U=l,el===0&&al(Ul)),U!==l?(d.charCodeAt(Z)===62?(F=">",Z++):(F=l,el===0&&al(nl)),F===l&&(d.charCodeAt(Z)===60?(F="<",Z++):(F=l,el===0&&al(Yl)),F===l&&(d.charCodeAt(Z)===61?(F="=",Z++):(F=l,el===0&&al(Kl)))),F===l&&(F=null),F!==l&&(D=Al())!==l?(xl=n,n=U={type:"failure",mod:F,expr:D}):(Z=n,n=l)):(Z=n,n=l),n}function Qd(){var n,U,F,D;return n=Z,d.substr(Z,2)==="cs"?(U="cs",Z+=2):(U=l,el===0&&al(kl)),U!==l?(d.charCodeAt(Z)===62?(F=">",Z++):(F=l,el===0&&al(nl)),F===l&&(d.charCodeAt(Z)===60?(F="<",Z++):(F=l,el===0&&al(Yl)),F===l&&(d.charCodeAt(Z)===61?(F="=",Z++):(F=l,el===0&&al(Kl)))),F===l&&(F=null),F!==l&&(D=Al())!==l?(xl=n,n=U={type:"crit",mod:F,expr:D}):(Z=n,n=l)):(Z=n,n=l),n}function sl(){var n,U,F,D;return n=Z,d.substr(Z,2)==="cf"?(U="cf",Z+=2):(U=l,el===0&&al(jl)),U!==l?(d.charCodeAt(Z)===62?(F=">",Z++):(F=l,el===0&&al(nl)),F===l&&(d.charCodeAt(Z)===60?(F="<",Z++):(F=l,el===0&&al(Yl)),F===l&&(d.charCodeAt(Z)===61?(F="=",Z++):(F=l,el===0&&al(Kl)))),F===l&&(F=null),F!==l&&(D=Al())!==l?(xl=n,n=U={type:"critfail",mod:F,expr:D}):(Z=n,n=l)):(Z=n,n=l),n}function cb(){var n,U,F,D,rl;return n=Z,d.charCodeAt(Z)===109?(U="m",Z++):(U=l,el===0&&al(Xd)),U!==l?(d.charCodeAt(Z)===116?(F="t",Z++):(F=l,el===0&&al(Ql)),F===l&&(F=null),F!==l?((D=Gd())===l&&(D=null),D!==l?((rl=function(){var Xl,m,Y;return Xl=Z,d.charCodeAt(Z)===62?(m=">",Z++):(m=l,el===0&&al(nl)),m===l&&(d.charCodeAt(Z)===60?(m="<",Z++):(m=l,el===0&&al(Yl)),m===l&&(d.charCodeAt(Z)===61?(m="=",Z++):(m=l,el===0&&al(Kl)))),m!==l&&(Y=Al())!==l?(xl=Xl,Xl=m={mod:m,expr:Y}):(Z=Xl,Xl=l),Xl}())===l&&(rl=null),rl!==l?(xl=n,n=U=function(Xl,m,Y){const r={type:"match",min:m||{type:"number",value:2},count:!!Xl};return Y&&(r.mod=Y.mod,r.expr=Y.expr),r}(F,D,rl)):(Z=n,n=l)):(Z=n,n=l)):(Z=n,n=l)):(Z=n,n=l),n}function $l(){var n,U,F,D;return n=Z,d.charCodeAt(Z)===107?(U="k",Z++):(U=l,el===0&&al(ql)),U!==l?(d.charCodeAt(Z)===108?(F="l",Z++):(F=l,el===0&&al(dd)),F===l&&(d.charCodeAt(Z)===104?(F="h",Z++):(F=l,el===0&&al(jd))),F===l&&(F=null),F!==l?((D=Al())===l&&(D=null),D!==l?(xl=n,n=U={type:"keep",highlow:F,expr:D||od}):(Z=n,n=l)):(Z=n,n=l)):(Z=n,n=l),n}function _l(){var n,U,F,D;return n=Z,d.charCodeAt(Z)===100?(U="d",Z++):(U=l,el===0&&al(Id)),U!==l?(d.charCodeAt(Z)===108?(F="l",Z++):(F=l,el===0&&al(dd)),F===l&&(d.charCodeAt(Z)===104?(F="h",Z++):(F=l,el===0&&al(jd))),F===l&&(F=null),F!==l?((D=Al())===l&&(D=null),D!==l?(xl=n,n=U={type:"drop",highlow:F,expr:D||od}):(Z=n,n=l)):(Z=n,n=l)):(Z=n,n=l),n}function Yd(){var n,U,F,D,rl,Xl,m,Y;if(n=Z,(U=Jd())!==l){for(F=[],D=Z,(rl=Bl())!==l?(d.charCodeAt(Z)===43?(Xl="+",Z++):(Xl=l,el===0&&al(Wd)),Xl!==l&&(m=Bl())!==l&&(Y=Jd())!==l?D=rl=[rl,Xl,m,Y]:(Z=D,D=l)):(Z=D,D=l);D!==l;)F.push(D),D=Z,(rl=Bl())!==l?(d.charCodeAt(Z)===43?(Xl="+",Z++):(Xl=l,el===0&&al(Wd)),Xl!==l&&(m=Bl())!==l&&(Y=Jd())!==l?D=rl=[rl,Xl,m,Y]:(Z=D,D=l)):(Z=D,D=l);F!==l?(xl=n,n=U=function(r,j){return j.length==0?r:{head:r,type:"diceExpression",ops:j.map(ol=>({type:"math",op:ol[1],tail:ol[3]}))}}(U,F)):(Z=n,n=l)}else Z=n,n=l;return n}function Jd(){var n;return(n=nd())===l&&(n=yd()),n}function nd(){var n,U,F;return n=Z,(U=function(){var D,rl,Xl,m,Y;if(D=Z,(rl=function(){var r,j,ol,A;if(r=Z,(j=function(){var vl,yl,Ll,Cl;return vl=Z,(yl=Al())===l&&(yl=null),yl!==l?(d.charCodeAt(Z)===100?(Ll="d",Z++):(Ll=l,el===0&&al(Id)),Ll!==l?((Cl=function(){var Fl,Hl;return Fl=Z,d.charCodeAt(Z)===70?(Hl="F",Z++):(Hl=l,el===0&&al(tb)),Hl===l&&(d.charCodeAt(Z)===102?(Hl="f",Z++):(Hl=l,el===0&&al(Ul))),Hl!==l&&(xl=Fl,Hl={type:"fate"}),Fl=Hl}())===l&&(Cl=function(){var Fl,Hl;return Fl=Z,d.charCodeAt(Z)===37?(Hl="%",Z++):(Hl=l,el===0&&al(Fd)),Hl!==l&&(xl=Fl,Hl={type:"number",value:"100"}),Fl=Hl}())===l&&(Cl=Al()),Cl!==l?(xl=vl,yl={die:Cl,count:yl||{type:"number",value:1},type:"die"},vl=yl):(Z=vl,vl=l)):(Z=vl,vl=l)):(Z=vl,vl=l),vl}())!==l){for(ol=[],(A=rd())===l&&(A=vd())===l&&(A=ad())===l&&(A=Ed())===l&&(A=Pd());A!==l;)ol.push(A),(A=rd())===l&&(A=vd())===l&&(A=ad())===l&&(A=Ed())===l&&(A=Pd());ol!==l?(xl=r,fl=ol,(hl=j).mods=(hl.mods||[]).concat(fl),r=j=hl):(Z=r,r=l)}else Z=r,r=l;var hl,fl;return r}())!==l){for(Xl=[],(m=_l())===l&&(m=$l())===l&&(m=md())===l&&(m=td())===l&&(m=sl())===l&&(m=Qd());m!==l;)Xl.push(m),(m=_l())===l&&(m=$l())===l&&(m=md())===l&&(m=td())===l&&(m=sl())===l&&(m=Qd());Xl!==l?((m=cb())===l&&(m=null),m!==l?((Y=function(){var r,j;return r=Z,d.substr(Z,2)==="sa"?(j="sa",Z+=2):(j=l,el===0&&al(Dd)),j!==l&&(xl=r,j={type:"sort",asc:!0}),r=j}())===l&&(Y=function(){var r,j;return r=Z,d.substr(Z,2)==="sd"?(j="sd",Z+=2):(j=l,el===0&&al(eb)),j!==l&&(xl=r,j={type:"sort",asc:!1}),r=j}()),Y===l&&(Y=null),Y!==l?(xl=D,rl=function(r,j,ol,A){const hl=j.filter(fl=>["success","failure"].includes(fl.type));return j=j.filter(fl=>!hl.includes(fl)),r.mods=(r.mods||[]).concat(j),hl.length>0&&(r.targets=hl),ol&&(r.match=ol),A&&(r.sort=A),r}(rl,Xl,m,Y),D=rl):(Z=D,D=l)):(Z=D,D=l)):(Z=D,D=l)}else Z=D,D=l;return D}())!==l&&Bl()!==l?((F=cd())===l&&(F=null),F!==l?(xl=n,n=U=il(U,F)):(Z=n,n=l)):(Z=n,n=l),n}function ad(){var n,U,F;return n=Z,d.charCodeAt(Z)===33?(U="!",Z++):(U=l,el===0&&al(Vd)),U!==l?((F=bd())===l&&(F=null),F!==l?(xl=n,n=U={type:"explode",target:F}):(Z=n,n=l)):(Z=n,n=l),n}function rd(){var n,U,F;return n=Z,d.substr(Z,2)==="!!"?(U="!!",Z+=2):(U=l,el===0&&al(Rd)),U!==l?((F=bd())===l&&(F=null),F!==l?(xl=n,n=U={type:"compound",target:F}):(Z=n,n=l)):(Z=n,n=l),n}function vd(){var n,U,F;return n=Z,d.substr(Z,2)==="!p"?(U="!p",Z+=2):(U=l,el===0&&al(Zb)),U!==l?((F=bd())===l&&(F=null),F!==l?(xl=n,n=U={type:"penetrate",target:F}):(Z=n,n=l)):(Z=n,n=l),n}function Pd(){var n,U,F;return n=Z,d.charCodeAt(Z)===114?(U="r",Z++):(U=l,el===0&&al(ub)),U!==l?((F=bd())===l&&(F=null),F!==l?(xl=n,n=U={type:"reroll",target:F||Ld}):(Z=n,n=l)):(Z=n,n=l),n}function Ed(){var n,U,F;return n=Z,d.substr(Z,2)==="ro"?(U="ro",Z+=2):(U=l,el===0&&al(mb)),U!==l?((F=bd())===l&&(F=null),F!==l?(xl=n,n=U={type:"rerollOnce",target:F||Ld}):(Z=n,n=l)):(Z=n,n=l),n}function bd(){var n,U,F;return n=Z,d.charCodeAt(Z)===62?(U=">",Z++):(U=l,el===0&&al(nl)),U===l&&(d.charCodeAt(Z)===60?(U="<",Z++):(U=l,el===0&&al(Yl)),U===l&&(d.charCodeAt(Z)===61?(U="=",Z++):(U=l,el===0&&al(Kl)))),U===l&&(U=null),U!==l&&(F=Al())!==l?(xl=n,n=U={type:"target",mod:U,value:F}):(Z=n,n=l),n}function Al(){var n;return(n=fd())===l&&(n=Gd()),n}function yd(){var n;return(n=function(){var U,F,D,rl;return U=Z,d.substr(Z,2)==="[["?(F="[[",Z+=2):(F=l,el===0&&al(C)),F!==l&&(D=yd())!==l?(d.substr(Z,2)==="]]"?(rl="]]",Z+=2):(rl=l,el===0&&al(dl)),rl!==l?(xl=U,U=F={type:"inline",expr:D}):(Z=U,U=l)):(Z=U,U=l),U}())===l&&(n=ld())===l&&(n=fd()),n}function fd(){var n,U,F,D,rl,Xl,m;return n=Z,d.charCodeAt(Z)===40?(U="(",Z++):(U=l,el===0&&al(Ad)),U!==l&&(F=ld())!==l?(d.charCodeAt(Z)===41?(D=")",Z++):(D=l,el===0&&al(Od)),D!==l&&Bl()!==l?((rl=cd())===l&&(rl=null),rl!==l?(xl=n,Xl=F,(m=rl)&&(Xl.label=m),n=U=Xl):(Z=n,n=l)):(Z=n,n=l)):(Z=n,n=l),n}function ld(){var n,U,F,D,rl,Xl,m,Y;if(n=Z,(U=Il())!==l){for(F=[],D=Z,(rl=Bl())!==l?(d.charCodeAt(Z)===43?(Xl="+",Z++):(Xl=l,el===0&&al(Wd)),Xl===l&&(d.charCodeAt(Z)===45?(Xl="-",Z++):(Xl=l,el===0&&al(Hd))),Xl!==l&&(m=Bl())!==l&&(Y=Il())!==l?D=rl=[rl,Xl,m,Y]:(Z=D,D=l)):(Z=D,D=l);D!==l;)F.push(D),D=Z,(rl=Bl())!==l?(d.charCodeAt(Z)===43?(Xl="+",Z++):(Xl=l,el===0&&al(Wd)),Xl===l&&(d.charCodeAt(Z)===45?(Xl="-",Z++):(Xl=l,el===0&&al(Hd))),Xl!==l&&(m=Bl())!==l&&(Y=Il())!==l?D=rl=[rl,Xl,m,Y]:(Z=D,D=l)):(Z=D,D=l);F!==l?(xl=n,n=U=ed(U,F)):(Z=n,n=l)}else Z=n,n=l;return n}function Il(){var n,U,F,D,rl,Xl,m,Y;if(n=Z,(U=sd())!==l){for(F=[],D=Z,(rl=Bl())!==l?(d.charCodeAt(Z)===42?(Xl="*",Z++):(Xl=l,el===0&&al(xd)),Xl===l&&(d.charCodeAt(Z)===47?(Xl="/",Z++):(Xl=l,el===0&&al(Cd))),Xl!==l&&(m=Bl())!==l&&(Y=sd())!==l?D=rl=[rl,Xl,m,Y]:(Z=D,D=l)):(Z=D,D=l);D!==l;)F.push(D),D=Z,(rl=Bl())!==l?(d.charCodeAt(Z)===42?(Xl="*",Z++):(Xl=l,el===0&&al(xd)),Xl===l&&(d.charCodeAt(Z)===47?(Xl="/",Z++):(Xl=l,el===0&&al(Cd))),Xl!==l&&(m=Bl())!==l&&(Y=sd())!==l?D=rl=[rl,Xl,m,Y]:(Z=D,D=l)):(Z=D,D=l);F!==l?(xl=n,n=U=ed(U,F)):(Z=n,n=l)}else Z=n,n=l;return n}function sd(){var n,U,F,D,rl,Xl,m,Y;if(n=Z,(U=id())!==l){for(F=[],D=Z,(rl=Bl())!==l?(d.substr(Z,2)==="**"?(Xl="**",Z+=2):(Xl=l,el===0&&al(hd)),Xl===l&&(d.charCodeAt(Z)===37?(Xl="%",Z++):(Xl=l,el===0&&al(Fd))),Xl!==l&&(m=Bl())!==l&&(Y=id())!==l?D=rl=[rl,Xl,m,Y]:(Z=D,D=l)):(Z=D,D=l);D!==l;)F.push(D),D=Z,(rl=Bl())!==l?(d.substr(Z,2)==="**"?(Xl="**",Z+=2):(Xl=l,el===0&&al(hd)),Xl===l&&(d.charCodeAt(Z)===37?(Xl="%",Z++):(Xl=l,el===0&&al(Fd))),Xl!==l&&(m=Bl())!==l&&(Y=id())!==l?D=rl=[rl,Xl,m,Y]:(Z=D,D=l)):(Z=D,D=l);F!==l?(xl=n,n=U=ed(U,F)):(Z=n,n=l)}else Z=n,n=l;return n}function Td(){var n,U,F,D,rl;return n=Z,(U=function(){var Xl;return d.substr(Z,5)==="floor"?(Xl="floor",Z+=5):(Xl=l,el===0&&al(Kd)),Xl===l&&(d.substr(Z,4)==="ceil"?(Xl="ceil",Z+=4):(Xl=l,el===0&&al(qd)),Xl===l&&(d.substr(Z,5)==="round"?(Xl="round",Z+=5):(Xl=l,el===0&&al($d)),Xl===l&&(d.substr(Z,3)==="abs"?(Xl="abs",Z+=3):(Xl=l,el===0&&al(pd))))),Xl}())!==l&&Bl()!==l?(d.charCodeAt(Z)===40?(F="(",Z++):(F=l,el===0&&al(Ad)),F!==l&&Bl()!==l&&(D=ld())!==l&&Bl()!==l?(d.charCodeAt(Z)===41?(rl=")",Z++):(rl=l,el===0&&al(Od)),rl!==l?(xl=n,n=U={type:"mathfunction",op:U,expr:D}):(Z=n,n=l)):(Z=n,n=l)):(Z=n,n=l),n}function id(){var n;return(n=Td())===l&&(n=Ud())===l&&(n=fd()),n}function Gd(){var n,U,F,D;if(el++,n=Z,d.charCodeAt(Z)===45?(U="-",Z++):(U=l,el===0&&al(Hd)),U===l&&(U=null),U!==l){if(F=[],wd.test(d.charAt(Z))?(D=d.charAt(Z),Z++):(D=l,el===0&&al(lb)),D!==l)for(;D!==l;)F.push(D),wd.test(d.charAt(Z))?(D=d.charAt(Z),Z++):(D=l,el===0&&al(lb));else F=l;F!==l?(xl=n,n=U=db()):(Z=n,n=l)}else Z=n,n=l;return el--,n===l&&(U=l,el===0&&al(_d)),n}function cd(){var n,U,F,D;if(n=Z,d.charCodeAt(Z)===91?(U="[",Z++):(U=l,el===0&&al(nb)),U!==l){if(F=[],Bd.test(d.charAt(Z))?(D=d.charAt(Z),Z++):(D=l,el===0&&al(bb)),D!==l)for(;D!==l;)F.push(D),Bd.test(d.charAt(Z))?(D=d.charAt(Z),Z++):(D=l,el===0&&al(bb));else F=l;F!==l?(d.charCodeAt(Z)===93?(D="]",Z++):(D=l,el===0&&al(ab)),D!==l?(xl=n,n=U=F.join("")):(Z=n,n=l)):(Z=n,n=l)}else Z=n,n=l;return n}function Bl(){var n,U;for(el++,n=[],zd.test(d.charAt(Z))?(U=d.charAt(Z),Z++):(U=l,el===0&&al(kd));U!==l;)n.push(U),zd.test(d.charAt(Z))?(U=d.charAt(Z),Z++):(U=l,el===0&&al(kd));return el--,n===l&&(U=l,el===0&&al(sb)),n}const Ld={type:"target",mod:"=",value:{type:"number",value:1}},od={type:"number",value:1};if((b=v())!==l&&Z===d.length)return b;throw b!==l&&Z<d.length&&al({type:"end"}),tl(gd,Ol<d.length?d.charAt(Ol):null,Ol<d.length?Dl(Ol,Ol+1):Dl(Ol,Ol))}}},function(h,L,J){Object.defineProperty(L,"__esModule",{value:!0}),L.DiscordRollRenderer=class{render(s){return this.doRender(s,!0)}doRender(s,d=!1){let c="";switch(s.type){case"diceexpressionroll":c=this.renderGroupExpr(s);break;case"grouproll":c=this.renderGroup(s);break;case"die":c=this.renderDie(s);break;case"expressionroll":c=this.renderExpression(s);break;case"mathfunction":c=this.renderFunction(s);break;case"roll":return this.renderRoll(s);case"fateroll":return this.renderFateRoll(s);case"number":const b=s.label?` (${s.label})`:"";return`${s.value}${b}`;case"fate":return"F";default:throw new Error("Unable to render")}return s.valid||(c="~~"+c.replace(/~~/g,"")+"~~"),d?this.stripBrackets(c):s.label?`(${s.label}: ${c})`:c}renderGroup(s){const d=[];for(const c of s.dice)d.push(this.doRender(c));return d.length>1?`{ ${d.join(" + ")} } = ${s.value}`:`{ ${this.stripBrackets(d[0])} } = ${s.value}`}renderGroupExpr(s){const d=[];for(const c of s.dice)d.push(this.doRender(c));return d.length>1?`(${d.join(" + ")} = ${s.value})`:d[0]}renderDie(s){const d=[];for(const l of s.rolls)d.push(this.doRender(l));let c=`${d.join(", ")}`;["number","fate"].includes(s.die.type)&&s.count.type==="number"||(c+=`[*Rolling: ${this.doRender(s.count)}d${this.doRender(s.die)}*]`);const b=s.matched?` Match${s.value===1?"":"es"}`:"";return c+=` = ${s.value}${b}`,`(${c})`}renderExpression(s){if(s.dice.length>1){const d=[];for(let c=0;c<s.dice.length-1;c++)d.push(this.doRender(s.dice[c])),d.push(s.ops[c]);return d.push(this.doRender(s.dice.slice(-1)[0])),d.push("="),d.push(s.value+""),`(${d.join(" ")})`}return s.dice[0].type==="number"?s.value+"":this.doRender(s.dice[0])}renderFunction(s){const d=this.doRender(s.expr);return`(${s.op}${this.addBrackets(d)} = ${s.value})`}addBrackets(s){return s.startsWith("(")||(s=`(${s}`),s.endsWith(")")||(s=`${s})`),s}stripBrackets(s){return s.startsWith("(")&&(s=s.substring(1)),s.endsWith(")")&&(s=s.substring(0,s.length-1)),s}renderRoll(s){let d=`${s.roll}`;return s.valid?s.success&&s.value===1?d=`**${s.roll}**`:s.success&&s.value===-1?d=`*${s.roll}*`:s.success||s.critical!=="success"?s.success||s.critical!=="failure"||(d=`*${s.roll}*`):d=`**${s.roll}**`:d=`~~${s.roll}~~`,s.matched&&(d=`__${d}__`),d}renderFateRoll(s){const d=s.roll===0?"0":s.roll>0?"+":"-";let c=`${s.roll}`;return s.valid?s.success&&s.value===1?c=`**${d}**`:s.success&&s.value===-1&&(c=`*${d}*`):c=`~~${d}~~`,s.matched&&(c=`__${c}__`),c}}}])})})(dist);var distExports=dist.exports;const scriptRel="modulepreload",assetsURL=function(I){return"/"+I},seen={},__vitePreload=function(V,h,L){if(!h||h.length===0)return V();const J=document.getElementsByTagName("link");return Promise.all(h.map(s=>{if(s=assetsURL(s),s in seen)return;seen[s]=!0;const d=s.endsWith(".css"),c=d?'[rel="stylesheet"]':"";if(!!L)for(let G=J.length-1;G>=0;G--){const v=J[G];if(v.href===s&&(!d||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${c}`))return;const l=document.createElement("link");if(l.rel=d?"stylesheet":scriptRel,d||(l.as="script",l.crossOrigin=""),l.href=s,document.head.appendChild(l),d)return new Promise((G,v)=>{l.addEventListener("load",G),l.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>V())};var Zl=Object.defineProperty,ml=(I,V,h)=>V in I?Zl(I,V,{enumerable:!0,configurable:!0,writable:!0,value:h}):I[V]=h,N=(I,V,h)=>(ml(I,typeof V!="symbol"?V+"":V,h),h),E=(I,V,h)=>{if(!V.has(I))throw TypeError("Cannot "+h)},W=(I,V,h)=>(E(I,V,"read from private field"),h?h.call(I):V.get(I)),p=(I,V,h)=>{if(V.has(I))throw TypeError("Cannot add the same private member more than once");V instanceof WeakSet?V.add(I):V.set(I,h)},i=(I,V,h,L)=>(E(I,V,"write to private field"),L?L.call(I,h):V.set(I,h),h),S=(I,V,h,L)=>({set _(J){i(I,V,J,h)},get _(){return W(I,V,L)}}),y=(I,V,h)=>(E(I,V,"access private method"),h);function cl(I){const{selector:V,id:h}=I;if(!V||typeof V!="string")throw new Error("You must provide a DOM selector as the first argument in order to render the Dice Box");let L;const J=document.querySelector(V);if(!(J!=null&&J.nodeName))throw new Error(`DiceBox target DOM node: '${V}' not found or not available yet. Try invoking inside a DOMContentLoaded event`);return J.nodeName.toLowerCase()!=="canvas"?(L=document.createElement("canvas"),L.id=h,J.appendChild(L)):L=J,L}const $="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHN0KHAsdCxtKXtyZXR1cm4gcCooMS1tKSt0Km19dmFyIFp0PXR5cGVvZiBkb2N1bWVudDwidSImJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQ/ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM6dm9pZCAwO3R5cGVvZiBfX2ZpbGVuYW1lPCJ1IiYmKFp0PVp0fHxfX2ZpbGVuYW1lKTtmdW5jdGlvbiBnbChwKXtwPXB8fHt9O3ZhciB0O3R8fCh0PXR5cGVvZiBwPCJ1Ij9wOnt9KTt2YXIgbTt0LnJlYWR5PW5ldyBQcm9taXNlKGZ1bmN0aW9uKGUpe209ZX0pO3ZhciBkPXt9LHY7Zm9yKHYgaW4gdCl0Lmhhc093blByb3BlcnR5KHYpJiYoZFt2XT10W3ZdKTt2YXIgTD0hMSxIPSExLHE9ITEsWT0hMTtMPXR5cGVvZiB3aW5kb3c9PSJvYmplY3QiLEg9dHlwZW9mIGltcG9ydFNjcmlwdHM9PSJmdW5jdGlvbiIscT10eXBlb2YgcHJvY2Vzcz09Im9iamVjdCImJnR5cGVvZiBwcm9jZXNzLnZlcnNpb25zPT0ib2JqZWN0IiYmdHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZT09InN0cmluZyIsWT0hTCYmIXEmJiFIO3ZhciBqPSIiLFosaHQsd3QsRztxPyhqPUg/cmVxdWlyZSgicGF0aCIpLmRpcm5hbWUoaikrIi8iOl9fZGlybmFtZSsiLyIsWj1mdW5jdGlvbihlLG8pe3JldHVybiB3dHx8KHd0PXJlcXVpcmUoImZzIikpLEd8fChHPXJlcXVpcmUoInBhdGgiKSksZT1HLm5vcm1hbGl6ZShlKSx3dC5yZWFkRmlsZVN5bmMoZSxvP251bGw6InV0ZjgiKX0saHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9WihlLCEwKSxlLmJ1ZmZlcnx8KGU9bmV3IFVpbnQ4QXJyYXkoZSkpLEx0KGUuYnVmZmVyKSxlfSwxPHByb2Nlc3MuYXJndi5sZW5ndGgmJnByb2Nlc3MuYXJndlsxXS5yZXBsYWNlKC9cXC9nLCIvIikscHJvY2Vzcy5hcmd2LnNsaWNlKDIpLHByb2Nlc3Mub24oInVuY2F1Z2h0RXhjZXB0aW9uIixmdW5jdGlvbihlKXt0aHJvdyBlfSkscHJvY2Vzcy5vbigidW5oYW5kbGVkUmVqZWN0aW9uIixHdCksdC5pbnNwZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIltFbXNjcmlwdGVuIE1vZHVsZSBvYmplY3RdIn0pOlk/KHR5cGVvZiByZWFkPCJ1IiYmKFo9ZnVuY3Rpb24oZSl7cmV0dXJuIHJlYWQoZSl9KSxodD1mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIHJlYWRidWZmZXI9PSJmdW5jdGlvbiI/bmV3IFVpbnQ4QXJyYXkocmVhZGJ1ZmZlcihlKSk6KGU9cmVhZChlLCJiaW5hcnkiKSxMdCh0eXBlb2YgZT09Im9iamVjdCIpLGUpfSx0eXBlb2YgcHJpbnQ8InUiJiYodHlwZW9mIGNvbnNvbGU+InUiJiYoY29uc29sZT17fSksY29uc29sZS5sb2c9cHJpbnQsY29uc29sZS53YXJuPWNvbnNvbGUuZXJyb3I9dHlwZW9mIHByaW50RXJyPCJ1Ij9wcmludEVycjpwcmludCkpOihMfHxIKSYmKEg/aj1zZWxmLmxvY2F0aW9uLmhyZWY6ZG9jdW1lbnQuY3VycmVudFNjcmlwdCYmKGo9ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMpLFp0JiYoaj1adCksaj1qLmluZGV4T2YoImJsb2I6IikhPT0wP2ouc3Vic3RyKDAsai5sYXN0SW5kZXhPZigiLyIpKzEpOiIiLFo9ZnVuY3Rpb24oZSl7dmFyIG89bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiBvLm9wZW4oIkdFVCIsZSwhMSksby5zZW5kKG51bGwpLG8ucmVzcG9uc2VUZXh0fSxIJiYoaHQ9ZnVuY3Rpb24oZSl7dmFyIG89bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiBvLm9wZW4oIkdFVCIsZSwhMSksby5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIixvLnNlbmQobnVsbCksbmV3IFVpbnQ4QXJyYXkoby5yZXNwb25zZSl9KSk7dmFyIE50PXQucHJpbnR8fGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksT3Q9dC5wcmludEVycnx8Y29uc29sZS53YXJuLmJpbmQoY29uc29sZSk7Zm9yKHYgaW4gZClkLmhhc093blByb3BlcnR5KHYpJiYodFt2XT1kW3ZdKTtkPW51bGw7dmFyIGVlPVtdLEJ0LGZ0O3Qud2FzbUJpbmFyeSYmKGZ0PXQud2FzbUJpbmFyeSksdC5ub0V4aXRSdW50aW1lJiZ0Lm5vRXhpdFJ1bnRpbWUsdHlwZW9mIFdlYkFzc2VtYmx5IT0ib2JqZWN0IiYmT3QoIm5vIG5hdGl2ZSB3YXNtIHN1cHBvcnQgZGV0ZWN0ZWQiKTt2YXIga3QsV3Q9bmV3IFdlYkFzc2VtYmx5LlRhYmxlKHtpbml0aWFsOjQ3NSxlbGVtZW50OiJhbnlmdW5jIn0pLG9lPSExO2Z1bmN0aW9uIEx0KGUsbyl7ZXx8R3QoIkFzc2VydGlvbiBmYWlsZWQ6ICIrbyl9dmFyIEN0LEh0LFl0LFh0LG5lLFB0PXQuSU5JVElBTF9NRU1PUll8fDY3MTA4ODY0OyhrdD10Lndhc21NZW1vcnk/dC53YXNtTWVtb3J5Om5ldyBXZWJBc3NlbWJseS5NZW1vcnkoe2luaXRpYWw6UHQvNjU1MzYsbWF4aW11bTpQdC82NTUzNn0pKSYmKEN0PWt0LmJ1ZmZlciksUHQ9Q3QuYnl0ZUxlbmd0aDt2YXIgdHQ9Q3Q7Q3Q9dHQsdC5IRUFQOD1uZXcgSW50OEFycmF5KHR0KSx0LkhFQVAxNj1uZXcgSW50MTZBcnJheSh0dCksdC5IRUFQMzI9WXQ9bmV3IEludDMyQXJyYXkodHQpLHQuSEVBUFU4PUh0PW5ldyBVaW50OEFycmF5KHR0KSx0LkhFQVBVMTY9bmV3IFVpbnQxNkFycmF5KHR0KSx0LkhFQVBVMzI9bmV3IFVpbnQzMkFycmF5KHR0KSx0LkhFQVBGMzI9WHQ9bmV3IEZsb2F0MzJBcnJheSh0dCksdC5IRUFQRjY0PW5lPW5ldyBGbG9hdDY0QXJyYXkodHQpLFl0WzQ0OTJdPTUyNjEwMDg7ZnVuY3Rpb24gVXQoZSl7Zm9yKDswPGUubGVuZ3RoOyl7dmFyIG89ZS5zaGlmdCgpO2lmKHR5cGVvZiBvPT0iZnVuY3Rpb24iKW8odCk7ZWxzZXt2YXIgbj1vLmhpO3R5cGVvZiBuPT0ibnVtYmVyIj9vLmNpPT09dm9pZCAwP3QuZHluQ2FsbF92KG4pOnQuZHluQ2FsbF92aShuLG8uY2kpOm4oby5jaT09PXZvaWQgMD9udWxsOm8uY2kpfX19dmFyIHJlPVtdLF9lPVtdLFZ0PVtdLEllPVtdLE9lPSExO2Z1bmN0aW9uIE9sKCl7dmFyIGU9dC5wcmVSdW4uc2hpZnQoKTtyZS51bnNoaWZ0KGUpfXZhciBRdD0wLHF0PW51bGw7dC5wcmVsb2FkZWRJbWFnZXM9e30sdC5wcmVsb2FkZWRBdWRpb3M9e307ZnVuY3Rpb24gR3QoZSl7dGhyb3cgdC5vbkFib3J0JiZ0Lm9uQWJvcnQoZSksZSs9IiIsTnQoZSksT3QoZSksb2U9ITAsbmV3IFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvcigiYWJvcnQoIitlKyIpLiBCdWlsZCB3aXRoIC1zIEFTU0VSVElPTlM9MSBmb3IgbW9yZSBpbmZvLiIpfWZ1bmN0aW9uIGdlKGUpe3ZhciBvPXh0O3JldHVybiBTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGg/by5zdGFydHNXaXRoKGUpOm8uaW5kZXhPZihlKT09PTB9ZnVuY3Rpb24gQmUoKXtyZXR1cm4gZ2UoImRhdGE6YXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtO2Jhc2U2NCwiKX12YXIgeHQ9ImFtbW8ud2FzbS53YXNtIjtpZighQmUoKSl7dmFyIFBlPXh0O3h0PXQubG9jYXRlRmlsZT90LmxvY2F0ZUZpbGUoUGUsaik6aitQZX1mdW5jdGlvbiB4ZSgpe3RyeXtpZihmdClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZnQpO2lmKGh0KXJldHVybiBodCh4dCk7dGhyb3ciYm90aCBhc3luYyBhbmQgc3luYyBmZXRjaGluZyBvZiB0aGUgd2FzbSBmYWlsZWQifWNhdGNoKGUpe0d0KGUpfX1mdW5jdGlvbiBCbCgpe3JldHVybiBmdHx8IUwmJiFIfHx0eXBlb2YgZmV0Y2ghPSJmdW5jdGlvbiJ8fGdlKCJmaWxlOi8vIik/bmV3IFByb21pc2UoZnVuY3Rpb24oZSl7ZSh4ZSgpKX0pOmZldGNoKHh0LHtjcmVkZW50aWFsczoic2FtZS1vcmlnaW4ifSkudGhlbihmdW5jdGlvbihlKXtpZighZS5vayl0aHJvdyJmYWlsZWQgdG8gbG9hZCB3YXNtIGJpbmFyeSBmaWxlIGF0ICciK3h0KyInIjtyZXR1cm4gZS5hcnJheUJ1ZmZlcigpfSkuY2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4geGUoKX0pfXZhciBQbD17MTM3NjpmdW5jdGlvbihlLG8sbixyLGMsRCxVLGN0KXtpZihlPXQuZ2V0Q2FjaGUodC5Db25jcmV0ZUNvbnRhY3RSZXN1bHRDYWxsYmFjaylbZV0sIWUuaGFzT3duUHJvcGVydHkoImFkZFNpbmdsZVJlc3VsdCIpKXRocm93ImEgSlNJbXBsZW1lbnRhdGlvbiBtdXN0IGltcGxlbWVudCBhbGwgZnVuY3Rpb25zLCB5b3UgZm9yZ290IENvbmNyZXRlQ29udGFjdFJlc3VsdENhbGxiYWNrOjphZGRTaW5nbGVSZXN1bHQuIjtyZXR1cm4gZS5hZGRTaW5nbGVSZXN1bHQobyxuLHIsYyxELFUsY3QpfX07X2UucHVzaCh7aGk6ZnVuY3Rpb24oKXtUZSgpfX0pO3ZhciBkZT1bXSx4bD17ZTpmdW5jdGlvbigpe0d0KCl9LGI6ZnVuY3Rpb24oZSxvLG4pe2RlLmxlbmd0aD0wO3ZhciByO2ZvcihuPj49MjtyPUh0W28rK107KWRlLnB1c2goMTA1PnI/bmVbKytuPj4xXTpZdFtuXSksKytuO3JldHVybiBQbFtlXS5hcHBseShudWxsLGRlKX0sYzpmdW5jdGlvbihlLG8sbil7SHQuY29weVdpdGhpbihlLG8sbytuKX0sZDpmdW5jdGlvbigpe0d0KCJPT00iKX0sYTpmdW5jdGlvbihlKXt2YXIgbz1EYXRlLm5vdygpO3JldHVybiBZdFtlPj4yXT1vLzFlM3wwLFl0W2UrND4+Ml09byUxZTMqMWUzfDAsMH0sbWVtb3J5Omt0LHRhYmxlOld0fTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGMpe3QuYXNtPWMuZXhwb3J0cyxRdC0tLHQubW9uaXRvclJ1bkRlcGVuZGVuY2llcyYmdC5tb25pdG9yUnVuRGVwZW5kZW5jaWVzKFF0KSxRdD09MCYmcXQmJihjPXF0LHF0PW51bGwsYygpKX1mdW5jdGlvbiBvKGMpe2UoYy5pbnN0YW5jZSl9ZnVuY3Rpb24gbihjKXtyZXR1cm4gQmwoKS50aGVuKGZ1bmN0aW9uKEQpe3JldHVybiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShELHIpfSkudGhlbihjLGZ1bmN0aW9uKEQpe090KCJmYWlsZWQgdG8gYXN5bmNocm9ub3VzbHkgcHJlcGFyZSB3YXNtOiAiK0QpLEd0KEQpfSkuY2F0Y2goRD0+e2NvbnNvbGUuZXJyb3IoImVycm9yIixEKSxjb25zb2xlLmVycm9yKGBBbW1vIGZpbGUgJyR7eHR9JyBub3QgZm91bmQuIFRoaXMgaXMgcmVxdWlyZWQgdG8gcnVuIHRoZSBwaHlzaWNzIHNpbXVsYXRpb24uIElzIHlvdXIgJ2Fzc2V0UGF0aCcgY29uZmlnIG9wdGlvbiBjb3JyZWN0IGFuZCBpcyB0aGVyZSBhbiAnYW1tbycgZm9sZGVyIHdpdGggdGhlICdhbW1vLndhc20ud2FzbScgZmlsZT8gRW5zdXJlIHlvdXIgc2VydmVyIGhhcyB0aGUgcHJvcGVyIG1pbWUgdHlwZSBmb3IgJy53YXNtJyBmaWxlcy5gKX0pfXZhciByPXthOnhsfTtpZihRdCsrLHQubW9uaXRvclJ1bkRlcGVuZGVuY2llcyYmdC5tb25pdG9yUnVuRGVwZW5kZW5jaWVzKFF0KSx0Lmluc3RhbnRpYXRlV2FzbSl0cnl7cmV0dXJuIHQuaW5zdGFudGlhdGVXYXNtKHIsZSl9Y2F0Y2goYyl7cmV0dXJuIE90KCJNb2R1bGUuaW5zdGFudGlhdGVXYXNtIGNhbGxiYWNrIGZhaWxlZCB3aXRoIGVycm9yOiAiK2MpLCExfXJldHVybiBmdW5jdGlvbigpe2lmKGZ0fHx0eXBlb2YgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmchPSJmdW5jdGlvbiJ8fEJlKCl8fGdlKCJmaWxlOi8vIil8fHR5cGVvZiBmZXRjaCE9ImZ1bmN0aW9uIilyZXR1cm4gbihvKTtmZXRjaCh4dCx7Y3JlZGVudGlhbHM6InNhbWUtb3JpZ2luIn0pLnRoZW4oZnVuY3Rpb24oYyl7cmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKGMscikudGhlbihvLGZ1bmN0aW9uKEQpe3JldHVybiBPdCgid2FzbSBzdHJlYW1pbmcgY29tcGlsZSBmYWlsZWQ6ICIrRCksT3QoImZhbGxpbmcgYmFjayB0byBBcnJheUJ1ZmZlciBpbnN0YW50aWF0aW9uIiksbihvKX0pfSl9KCkse319KSgpO3ZhciBUZT10Ll9fX3dhc21fY2FsbF9jdG9ycz1mdW5jdGlvbigpe3JldHVybihUZT10Ll9fX3dhc21fY2FsbF9jdG9ycz10LmFzbS5mKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3QuX19fZW1fanNfX2FycmF5X2JvdW5kc19jaGVja19lcnJvcj1mdW5jdGlvbigpe3JldHVybih0Ll9fX2VtX2pzX19hcnJheV9ib3VuZHNfY2hlY2tfZXJyb3I9dC5hc20uZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgRmU9dC5fZWJfYnRDb2xsaXNpb25Xb3JsZF9nZXREaXNwYXRjaGVyXzA9ZnVuY3Rpb24oKXtyZXR1cm4oRmU9dC5fZWJfYnRDb2xsaXNpb25Xb3JsZF9nZXREaXNwYXRjaGVyXzA9dC5hc20uaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxNZT10Ll9lYl9idENvbGxpc2lvbldvcmxkX2dldFBhaXJDYWNoZV8wPWZ1bmN0aW9uKCl7cmV0dXJuKE1lPXQuX2ViX2J0Q29sbGlzaW9uV29ybGRfZ2V0UGFpckNhY2hlXzA9dC5hc20uaSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxBZT10Ll9lYl9idENvbGxpc2lvbldvcmxkX2dldERpc3BhdGNoSW5mb18wPWZ1bmN0aW9uKCl7cmV0dXJuKEFlPXQuX2ViX2J0Q29sbGlzaW9uV29ybGRfZ2V0RGlzcGF0Y2hJbmZvXzA9dC5hc20uaikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx3ZT10Ll9lYl9idENvbGxpc2lvbldvcmxkX2FkZENvbGxpc2lvbk9iamVjdF8xPWZ1bmN0aW9uKCl7cmV0dXJuKHdlPXQuX2ViX2J0Q29sbGlzaW9uV29ybGRfYWRkQ29sbGlzaW9uT2JqZWN0XzE9dC5hc20uaykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxrZT10Ll9lYl9idENvbGxpc2lvbldvcmxkX2FkZENvbGxpc2lvbk9iamVjdF8yPWZ1bmN0aW9uKCl7cmV0dXJuKGtlPXQuX2ViX2J0Q29sbGlzaW9uV29ybGRfYWRkQ29sbGlzaW9uT2JqZWN0XzI9dC5hc20ubCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxMZT10Ll9lYl9idENvbGxpc2lvbldvcmxkX2FkZENvbGxpc2lvbk9iamVjdF8zPWZ1bmN0aW9uKCl7cmV0dXJuKExlPXQuX2ViX2J0Q29sbGlzaW9uV29ybGRfYWRkQ29sbGlzaW9uT2JqZWN0XzM9dC5hc20ubSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxIZT10Ll9lYl9idENvbGxpc2lvbldvcmxkX3JlbW92ZUNvbGxpc2lvbk9iamVjdF8xPWZ1bmN0aW9uKCl7cmV0dXJuKEhlPXQuX2ViX2J0Q29sbGlzaW9uV29ybGRfcmVtb3ZlQ29sbGlzaW9uT2JqZWN0XzE9dC5hc20ubikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxZZT10Ll9lYl9idENvbGxpc2lvbldvcmxkX2dldEJyb2FkcGhhc2VfMD1mdW5jdGlvbigpe3JldHVybihZZT10Ll9lYl9idENvbGxpc2lvbldvcmxkX2dldEJyb2FkcGhhc2VfMD10LmFzbS5vKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFZlPXQuX2ViX2J0Q29sbGlzaW9uV29ybGRfY29udmV4U3dlZXBUZXN0XzU9ZnVuY3Rpb24oKXtyZXR1cm4oVmU9dC5fZWJfYnRDb2xsaXNpb25Xb3JsZF9jb252ZXhTd2VlcFRlc3RfNT10LmFzbS5wKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFFlPXQuX2ViX2J0Q29sbGlzaW9uV29ybGRfY29udGFjdFBhaXJUZXN0XzM9ZnVuY3Rpb24oKXtyZXR1cm4oUWU9dC5fZWJfYnRDb2xsaXNpb25Xb3JsZF9jb250YWN0UGFpclRlc3RfMz10LmFzbS5xKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEVlPXQuX2ViX2J0Q29sbGlzaW9uV29ybGRfY29udGFjdFRlc3RfMj1mdW5jdGlvbigpe3JldHVybihFZT10Ll9lYl9idENvbGxpc2lvbldvcmxkX2NvbnRhY3RUZXN0XzI9dC5hc20ucikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxYZT10Ll9lYl9idENvbGxpc2lvbldvcmxkX3VwZGF0ZVNpbmdsZUFhYmJfMT1mdW5jdGlvbigpe3JldHVybihYZT10Ll9lYl9idENvbGxpc2lvbldvcmxkX3VwZGF0ZVNpbmdsZUFhYmJfMT10LmFzbS5zKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFVlPXQuX2ViX2J0Q29sbGlzaW9uV29ybGRfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihVZT10Ll9lYl9idENvbGxpc2lvbldvcmxkX19fZGVzdHJveV9fXzA9dC5hc20udCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxHZT10Ll9lYl9idFF1YWRXb3JkX3hfMD1mdW5jdGlvbigpe3JldHVybihHZT10Ll9lYl9idFF1YWRXb3JkX3hfMD10LmFzbS51KS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHplPXQuX2ViX2J0UXVhZFdvcmRfeV8wPWZ1bmN0aW9uKCl7cmV0dXJuKHplPXQuX2ViX2J0UXVhZFdvcmRfeV8wPXQuYXNtLnYpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sTmU9dC5fZWJfYnRRdWFkV29yZF96XzA9ZnVuY3Rpb24oKXtyZXR1cm4oTmU9dC5fZWJfYnRRdWFkV29yZF96XzA9dC5hc20udykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxxZT10Ll9lYl9idFF1YWRXb3JkX3dfMD1mdW5jdGlvbigpe3JldHVybihxZT10Ll9lYl9idFF1YWRXb3JkX3dfMD10LmFzbS54KS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFplPXQuX2ViX2J0UXVhZFdvcmRfc2V0WF8xPWZ1bmN0aW9uKCl7cmV0dXJuKFplPXQuX2ViX2J0UXVhZFdvcmRfc2V0WF8xPXQuYXNtLnkpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sS2U9dC5fZWJfYnRRdWFkV29yZF9zZXRZXzE9ZnVuY3Rpb24oKXtyZXR1cm4oS2U9dC5fZWJfYnRRdWFkV29yZF9zZXRZXzE9dC5hc20ueikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSwkZT10Ll9lYl9idFF1YWRXb3JkX3NldFpfMT1mdW5jdGlvbigpe3JldHVybigkZT10Ll9lYl9idFF1YWRXb3JkX3NldFpfMT10LmFzbS5BKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEplPXQuX2ViX2J0UXVhZFdvcmRfc2V0V18xPWZ1bmN0aW9uKCl7cmV0dXJuKEplPXQuX2ViX2J0UXVhZFdvcmRfc2V0V18xPXQuYXNtLkIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdG89dC5fZWJfYnRRdWFkV29yZF9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKHRvPXQuX2ViX2J0UXVhZFdvcmRfX19kZXN0cm95X19fMD10LmFzbS5DKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGVvPXQuX2ViX2J0TW90aW9uU3RhdGVfZ2V0V29ybGRUcmFuc2Zvcm1fMT1mdW5jdGlvbigpe3JldHVybihlbz10Ll9lYl9idE1vdGlvblN0YXRlX2dldFdvcmxkVHJhbnNmb3JtXzE9dC5hc20uRCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxvbz10Ll9lYl9idE1vdGlvblN0YXRlX3NldFdvcmxkVHJhbnNmb3JtXzE9ZnVuY3Rpb24oKXtyZXR1cm4ob289dC5fZWJfYnRNb3Rpb25TdGF0ZV9zZXRXb3JsZFRyYW5zZm9ybV8xPXQuYXNtLkUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbm89dC5fZWJfYnRNb3Rpb25TdGF0ZV9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKG5vPXQuX2ViX2J0TW90aW9uU3RhdGVfX19kZXN0cm95X19fMD10LmFzbS5GKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHJvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X3NldEFuaXNvdHJvcGljRnJpY3Rpb25fMj1mdW5jdGlvbigpe3JldHVybihybz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9zZXRBbmlzb3Ryb3BpY0ZyaWN0aW9uXzI9dC5hc20uRykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxfbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9nZXRDb2xsaXNpb25TaGFwZV8wPWZ1bmN0aW9uKCl7cmV0dXJuKF9vPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2dldENvbGxpc2lvblNoYXBlXzA9dC5hc20uSCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9zZXRDb250YWN0UHJvY2Vzc2luZ1RocmVzaG9sZF8xPWZ1bmN0aW9uKCl7cmV0dXJuKGlvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X3NldENvbnRhY3RQcm9jZXNzaW5nVGhyZXNob2xkXzE9dC5hc20uSSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9zZXRBY3RpdmF0aW9uU3RhdGVfMT1mdW5jdGlvbigpe3JldHVybihhbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9zZXRBY3RpdmF0aW9uU3RhdGVfMT10LmFzbS5KKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHNvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2ZvcmNlQWN0aXZhdGlvblN0YXRlXzE9ZnVuY3Rpb24oKXtyZXR1cm4oc289dC5fZWJfYnRDb2xsaXNpb25PYmplY3RfZm9yY2VBY3RpdmF0aW9uU3RhdGVfMT10LmFzbS5LKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHBvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2FjdGl2YXRlXzA9ZnVuY3Rpb24oKXtyZXR1cm4ocG89dC5fZWJfYnRDb2xsaXNpb25PYmplY3RfYWN0aXZhdGVfMD10LmFzbS5MKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGxvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2FjdGl2YXRlXzE9ZnVuY3Rpb24oKXtyZXR1cm4obG89dC5fZWJfYnRDb2xsaXNpb25PYmplY3RfYWN0aXZhdGVfMT10LmFzbS5NKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHVvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2lzQWN0aXZlXzA9ZnVuY3Rpb24oKXtyZXR1cm4odW89dC5fZWJfYnRDb2xsaXNpb25PYmplY3RfaXNBY3RpdmVfMD10LmFzbS5OKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGNvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2lzS2luZW1hdGljT2JqZWN0XzA9ZnVuY3Rpb24oKXtyZXR1cm4oY289dC5fZWJfYnRDb2xsaXNpb25PYmplY3RfaXNLaW5lbWF0aWNPYmplY3RfMD10LmFzbS5PKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHlvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2lzU3RhdGljT2JqZWN0XzA9ZnVuY3Rpb24oKXtyZXR1cm4oeW89dC5fZWJfYnRDb2xsaXNpb25PYmplY3RfaXNTdGF0aWNPYmplY3RfMD10LmFzbS5QKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGhvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2lzU3RhdGljT3JLaW5lbWF0aWNPYmplY3RfMD1mdW5jdGlvbigpe3JldHVybihobz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9pc1N0YXRpY09yS2luZW1hdGljT2JqZWN0XzA9dC5hc20uUSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxmbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9nZXRSZXN0aXR1dGlvbl8wPWZ1bmN0aW9uKCl7cmV0dXJuKGZvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2dldFJlc3RpdHV0aW9uXzA9dC5hc20uUikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxtbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9nZXRGcmljdGlvbl8wPWZ1bmN0aW9uKCl7cmV0dXJuKG1vPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2dldEZyaWN0aW9uXzA9dC5hc20uUykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxibz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9nZXRSb2xsaW5nRnJpY3Rpb25fMD1mdW5jdGlvbigpe3JldHVybihibz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9nZXRSb2xsaW5nRnJpY3Rpb25fMD10LmFzbS5UKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGdvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X3NldFJlc3RpdHV0aW9uXzE9ZnVuY3Rpb24oKXtyZXR1cm4oZ289dC5fZWJfYnRDb2xsaXNpb25PYmplY3Rfc2V0UmVzdGl0dXRpb25fMT10LmFzbS5VKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFdvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X3NldEZyaWN0aW9uXzE9ZnVuY3Rpb24oKXtyZXR1cm4oV289dC5fZWJfYnRDb2xsaXNpb25PYmplY3Rfc2V0RnJpY3Rpb25fMT10LmFzbS5WKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LENvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X3NldFJvbGxpbmdGcmljdGlvbl8xPWZ1bmN0aW9uKCl7cmV0dXJuKENvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X3NldFJvbGxpbmdGcmljdGlvbl8xPXQuYXNtLlcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sam89dC5fZWJfYnRDb2xsaXNpb25PYmplY3RfZ2V0V29ybGRUcmFuc2Zvcm1fMD1mdW5jdGlvbigpe3JldHVybihqbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9nZXRXb3JsZFRyYW5zZm9ybV8wPXQuYXNtLlgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdm89dC5fZWJfYnRDb2xsaXNpb25PYmplY3RfZ2V0Q29sbGlzaW9uRmxhZ3NfMD1mdW5jdGlvbigpe3JldHVybih2bz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9nZXRDb2xsaXNpb25GbGFnc18wPXQuYXNtLlkpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sRG89dC5fZWJfYnRDb2xsaXNpb25PYmplY3Rfc2V0Q29sbGlzaW9uRmxhZ3NfMT1mdW5jdGlvbigpe3JldHVybihEbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9zZXRDb2xsaXNpb25GbGFnc18xPXQuYXNtLlopLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sUm89dC5fZWJfYnRDb2xsaXNpb25PYmplY3Rfc2V0V29ybGRUcmFuc2Zvcm1fMT1mdW5jdGlvbigpe3JldHVybihSbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9zZXRXb3JsZFRyYW5zZm9ybV8xPXQuYXNtLl8pLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sU289dC5fZWJfYnRDb2xsaXNpb25PYmplY3Rfc2V0Q29sbGlzaW9uU2hhcGVfMT1mdW5jdGlvbigpe3JldHVybihTbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9zZXRDb2xsaXNpb25TaGFwZV8xPXQuYXNtLiQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sSW89dC5fZWJfYnRDb2xsaXNpb25PYmplY3Rfc2V0Q2NkTW90aW9uVGhyZXNob2xkXzE9ZnVuY3Rpb24oKXtyZXR1cm4oSW89dC5fZWJfYnRDb2xsaXNpb25PYmplY3Rfc2V0Q2NkTW90aW9uVGhyZXNob2xkXzE9dC5hc20uYWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sT289dC5fZWJfYnRDb2xsaXNpb25PYmplY3Rfc2V0Q2NkU3dlcHRTcGhlcmVSYWRpdXNfMT1mdW5jdGlvbigpe3JldHVybihPbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9zZXRDY2RTd2VwdFNwaGVyZVJhZGl1c18xPXQuYXNtLmJhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEJvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2dldFVzZXJJbmRleF8wPWZ1bmN0aW9uKCl7cmV0dXJuKEJvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2dldFVzZXJJbmRleF8wPXQuYXNtLmNhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFBvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X3NldFVzZXJJbmRleF8xPWZ1bmN0aW9uKCl7cmV0dXJuKFBvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X3NldFVzZXJJbmRleF8xPXQuYXNtLmRhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHhvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2dldFVzZXJQb2ludGVyXzA9ZnVuY3Rpb24oKXtyZXR1cm4oeG89dC5fZWJfYnRDb2xsaXNpb25PYmplY3RfZ2V0VXNlclBvaW50ZXJfMD10LmFzbS5lYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxUbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9zZXRVc2VyUG9pbnRlcl8xPWZ1bmN0aW9uKCl7cmV0dXJuKFRvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X3NldFVzZXJQb2ludGVyXzE9dC5hc20uZmEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sRm89dC5fZWJfYnRDb2xsaXNpb25PYmplY3RfZ2V0QnJvYWRwaGFzZUhhbmRsZV8wPWZ1bmN0aW9uKCl7cmV0dXJuKEZvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2dldEJyb2FkcGhhc2VIYW5kbGVfMD10LmFzbS5nYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxNbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKE1vPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X19fZGVzdHJveV9fXzA9dC5hc20uaGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sQW89dC5fZWJfQ29udGFjdFJlc3VsdENhbGxiYWNrX2FkZFNpbmdsZVJlc3VsdF83PWZ1bmN0aW9uKCl7cmV0dXJuKEFvPXQuX2ViX0NvbnRhY3RSZXN1bHRDYWxsYmFja19hZGRTaW5nbGVSZXN1bHRfNz10LmFzbS5pYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx3bz10Ll9lYl9Db250YWN0UmVzdWx0Q2FsbGJhY2tfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybih3bz10Ll9lYl9Db250YWN0UmVzdWx0Q2FsbGJhY2tfX19kZXN0cm95X19fMD10LmFzbS5qYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxrbz10Ll9lYl9Db252ZXhSZXN1bHRDYWxsYmFja19oYXNIaXRfMD1mdW5jdGlvbigpe3JldHVybihrbz10Ll9lYl9Db252ZXhSZXN1bHRDYWxsYmFja19oYXNIaXRfMD10LmFzbS5rYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxMbz10Ll9lYl9Db252ZXhSZXN1bHRDYWxsYmFja19nZXRfbV9jb2xsaXNpb25GaWx0ZXJHcm91cF8wPWZ1bmN0aW9uKCl7cmV0dXJuKExvPXQuX2ViX0NvbnZleFJlc3VsdENhbGxiYWNrX2dldF9tX2NvbGxpc2lvbkZpbHRlckdyb3VwXzA9dC5hc20ubGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sSG89dC5fZWJfQ29udmV4UmVzdWx0Q2FsbGJhY2tfc2V0X21fY29sbGlzaW9uRmlsdGVyR3JvdXBfMT1mdW5jdGlvbigpe3JldHVybihIbz10Ll9lYl9Db252ZXhSZXN1bHRDYWxsYmFja19zZXRfbV9jb2xsaXNpb25GaWx0ZXJHcm91cF8xPXQuYXNtLm1hKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFlvPXQuX2ViX0NvbnZleFJlc3VsdENhbGxiYWNrX2dldF9tX2NvbGxpc2lvbkZpbHRlck1hc2tfMD1mdW5jdGlvbigpe3JldHVybihZbz10Ll9lYl9Db252ZXhSZXN1bHRDYWxsYmFja19nZXRfbV9jb2xsaXNpb25GaWx0ZXJNYXNrXzA9dC5hc20ubmEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sVm89dC5fZWJfQ29udmV4UmVzdWx0Q2FsbGJhY2tfc2V0X21fY29sbGlzaW9uRmlsdGVyTWFza18xPWZ1bmN0aW9uKCl7cmV0dXJuKFZvPXQuX2ViX0NvbnZleFJlc3VsdENhbGxiYWNrX3NldF9tX2NvbGxpc2lvbkZpbHRlck1hc2tfMT10LmFzbS5vYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxRbz10Ll9lYl9Db252ZXhSZXN1bHRDYWxsYmFja19nZXRfbV9jbG9zZXN0SGl0RnJhY3Rpb25fMD1mdW5jdGlvbigpe3JldHVybihRbz10Ll9lYl9Db252ZXhSZXN1bHRDYWxsYmFja19nZXRfbV9jbG9zZXN0SGl0RnJhY3Rpb25fMD10LmFzbS5wYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxFbz10Ll9lYl9Db252ZXhSZXN1bHRDYWxsYmFja19zZXRfbV9jbG9zZXN0SGl0RnJhY3Rpb25fMT1mdW5jdGlvbigpe3JldHVybihFbz10Ll9lYl9Db252ZXhSZXN1bHRDYWxsYmFja19zZXRfbV9jbG9zZXN0SGl0RnJhY3Rpb25fMT10LmFzbS5xYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxYbz10Ll9lYl9Db252ZXhSZXN1bHRDYWxsYmFja19fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKFhvPXQuX2ViX0NvbnZleFJlc3VsdENhbGxiYWNrX19fZGVzdHJveV9fXzA9dC5hc20ucmEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sVW89dC5fZWJfYnRDb2xsaXNpb25TaGFwZV9zZXRMb2NhbFNjYWxpbmdfMT1mdW5jdGlvbigpe3JldHVybihVbz10Ll9lYl9idENvbGxpc2lvblNoYXBlX3NldExvY2FsU2NhbGluZ18xPXQuYXNtLnNhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEdvPXQuX2ViX2J0Q29sbGlzaW9uU2hhcGVfZ2V0TG9jYWxTY2FsaW5nXzA9ZnVuY3Rpb24oKXtyZXR1cm4oR289dC5fZWJfYnRDb2xsaXNpb25TaGFwZV9nZXRMb2NhbFNjYWxpbmdfMD10LmFzbS50YSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx6bz10Ll9lYl9idENvbGxpc2lvblNoYXBlX2NhbGN1bGF0ZUxvY2FsSW5lcnRpYV8yPWZ1bmN0aW9uKCl7cmV0dXJuKHpvPXQuX2ViX2J0Q29sbGlzaW9uU2hhcGVfY2FsY3VsYXRlTG9jYWxJbmVydGlhXzI9dC5hc20udWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sTm89dC5fZWJfYnRDb2xsaXNpb25TaGFwZV9zZXRNYXJnaW5fMT1mdW5jdGlvbigpe3JldHVybihObz10Ll9lYl9idENvbGxpc2lvblNoYXBlX3NldE1hcmdpbl8xPXQuYXNtLnZhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHFvPXQuX2ViX2J0Q29sbGlzaW9uU2hhcGVfZ2V0TWFyZ2luXzA9ZnVuY3Rpb24oKXtyZXR1cm4ocW89dC5fZWJfYnRDb2xsaXNpb25TaGFwZV9nZXRNYXJnaW5fMD10LmFzbS53YSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxabz10Ll9lYl9idENvbGxpc2lvblNoYXBlX19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4oWm89dC5fZWJfYnRDb2xsaXNpb25TaGFwZV9fX2Rlc3Ryb3lfX18wPXQuYXNtLnhhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEtvPXQuX2ViX2J0RGlzcGF0Y2hlcl9nZXROdW1NYW5pZm9sZHNfMD1mdW5jdGlvbigpe3JldHVybihLbz10Ll9lYl9idERpc3BhdGNoZXJfZ2V0TnVtTWFuaWZvbGRzXzA9dC5hc20ueWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sJG89dC5fZWJfYnREaXNwYXRjaGVyX2dldE1hbmlmb2xkQnlJbmRleEludGVybmFsXzE9ZnVuY3Rpb24oKXtyZXR1cm4oJG89dC5fZWJfYnREaXNwYXRjaGVyX2dldE1hbmlmb2xkQnlJbmRleEludGVybmFsXzE9dC5hc20uemEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sSm89dC5fZWJfYnREaXNwYXRjaGVyX19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4oSm89dC5fZWJfYnREaXNwYXRjaGVyX19fZGVzdHJveV9fXzA9dC5hc20uQWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdG49dC5fZWJfYnREeW5hbWljc1dvcmxkX2FkZEFjdGlvbl8xPWZ1bmN0aW9uKCl7cmV0dXJuKHRuPXQuX2ViX2J0RHluYW1pY3NXb3JsZF9hZGRBY3Rpb25fMT10LmFzbS5CYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxlbj10Ll9lYl9idER5bmFtaWNzV29ybGRfcmVtb3ZlQWN0aW9uXzE9ZnVuY3Rpb24oKXtyZXR1cm4oZW49dC5fZWJfYnREeW5hbWljc1dvcmxkX3JlbW92ZUFjdGlvbl8xPXQuYXNtLkNhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG9uPXQuX2ViX2J0RHluYW1pY3NXb3JsZF9nZXRTb2x2ZXJJbmZvXzA9ZnVuY3Rpb24oKXtyZXR1cm4ob249dC5fZWJfYnREeW5hbWljc1dvcmxkX2dldFNvbHZlckluZm9fMD10LmFzbS5EYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxubj10Ll9lYl9idER5bmFtaWNzV29ybGRfc2V0SW50ZXJuYWxUaWNrQ2FsbGJhY2tfMT1mdW5jdGlvbigpe3JldHVybihubj10Ll9lYl9idER5bmFtaWNzV29ybGRfc2V0SW50ZXJuYWxUaWNrQ2FsbGJhY2tfMT10LmFzbS5FYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxybj10Ll9lYl9idER5bmFtaWNzV29ybGRfc2V0SW50ZXJuYWxUaWNrQ2FsbGJhY2tfMj1mdW5jdGlvbigpe3JldHVybihybj10Ll9lYl9idER5bmFtaWNzV29ybGRfc2V0SW50ZXJuYWxUaWNrQ2FsbGJhY2tfMj10LmFzbS5GYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxfbj10Ll9lYl9idER5bmFtaWNzV29ybGRfc2V0SW50ZXJuYWxUaWNrQ2FsbGJhY2tfMz1mdW5jdGlvbigpe3JldHVybihfbj10Ll9lYl9idER5bmFtaWNzV29ybGRfc2V0SW50ZXJuYWxUaWNrQ2FsbGJhY2tfMz10LmFzbS5HYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhbj10Ll9lYl9idER5bmFtaWNzV29ybGRfZ2V0RGlzcGF0Y2hlcl8wPWZ1bmN0aW9uKCl7cmV0dXJuKGFuPXQuX2ViX2J0RHluYW1pY3NXb3JsZF9nZXREaXNwYXRjaGVyXzA9dC5hc20uSGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sc249dC5fZWJfYnREeW5hbWljc1dvcmxkX2dldFBhaXJDYWNoZV8wPWZ1bmN0aW9uKCl7cmV0dXJuKHNuPXQuX2ViX2J0RHluYW1pY3NXb3JsZF9nZXRQYWlyQ2FjaGVfMD10LmFzbS5JYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxwbj10Ll9lYl9idER5bmFtaWNzV29ybGRfZ2V0RGlzcGF0Y2hJbmZvXzA9ZnVuY3Rpb24oKXtyZXR1cm4ocG49dC5fZWJfYnREeW5hbWljc1dvcmxkX2dldERpc3BhdGNoSW5mb18wPXQuYXNtLkphKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGxuPXQuX2ViX2J0RHluYW1pY3NXb3JsZF9hZGRDb2xsaXNpb25PYmplY3RfMT1mdW5jdGlvbigpe3JldHVybihsbj10Ll9lYl9idER5bmFtaWNzV29ybGRfYWRkQ29sbGlzaW9uT2JqZWN0XzE9dC5hc20uS2EpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdW49dC5fZWJfYnREeW5hbWljc1dvcmxkX2FkZENvbGxpc2lvbk9iamVjdF8yPWZ1bmN0aW9uKCl7cmV0dXJuKHVuPXQuX2ViX2J0RHluYW1pY3NXb3JsZF9hZGRDb2xsaXNpb25PYmplY3RfMj10LmFzbS5MYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxjbj10Ll9lYl9idER5bmFtaWNzV29ybGRfYWRkQ29sbGlzaW9uT2JqZWN0XzM9ZnVuY3Rpb24oKXtyZXR1cm4oY249dC5fZWJfYnREeW5hbWljc1dvcmxkX2FkZENvbGxpc2lvbk9iamVjdF8zPXQuYXNtLk1hKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHluPXQuX2ViX2J0RHluYW1pY3NXb3JsZF9yZW1vdmVDb2xsaXNpb25PYmplY3RfMT1mdW5jdGlvbigpe3JldHVybih5bj10Ll9lYl9idER5bmFtaWNzV29ybGRfcmVtb3ZlQ29sbGlzaW9uT2JqZWN0XzE9dC5hc20uTmEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saG49dC5fZWJfYnREeW5hbWljc1dvcmxkX2dldEJyb2FkcGhhc2VfMD1mdW5jdGlvbigpe3JldHVybihobj10Ll9lYl9idER5bmFtaWNzV29ybGRfZ2V0QnJvYWRwaGFzZV8wPXQuYXNtLk9hKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGZuPXQuX2ViX2J0RHluYW1pY3NXb3JsZF9jb252ZXhTd2VlcFRlc3RfNT1mdW5jdGlvbigpe3JldHVybihmbj10Ll9lYl9idER5bmFtaWNzV29ybGRfY29udmV4U3dlZXBUZXN0XzU9dC5hc20uUGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbW49dC5fZWJfYnREeW5hbWljc1dvcmxkX2NvbnRhY3RQYWlyVGVzdF8zPWZ1bmN0aW9uKCl7cmV0dXJuKG1uPXQuX2ViX2J0RHluYW1pY3NXb3JsZF9jb250YWN0UGFpclRlc3RfMz10LmFzbS5RYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxibj10Ll9lYl9idER5bmFtaWNzV29ybGRfY29udGFjdFRlc3RfMj1mdW5jdGlvbigpe3JldHVybihibj10Ll9lYl9idER5bmFtaWNzV29ybGRfY29udGFjdFRlc3RfMj10LmFzbS5SYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxnbj10Ll9lYl9idER5bmFtaWNzV29ybGRfdXBkYXRlU2luZ2xlQWFiYl8xPWZ1bmN0aW9uKCl7cmV0dXJuKGduPXQuX2ViX2J0RHluYW1pY3NXb3JsZF91cGRhdGVTaW5nbGVBYWJiXzE9dC5hc20uU2EpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZG49dC5fZWJfYnREeW5hbWljc1dvcmxkX19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4oZG49dC5fZWJfYnREeW5hbWljc1dvcmxkX19fZGVzdHJveV9fXzA9dC5hc20uVGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sV249dC5fZWJfVm9pZFB0cl9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKFduPXQuX2ViX1ZvaWRQdHJfX19kZXN0cm95X19fMD10LmFzbS5VYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxDbj10Ll9lYl9idFZlY3RvcjNfYnRWZWN0b3IzXzA9ZnVuY3Rpb24oKXtyZXR1cm4oQ249dC5fZWJfYnRWZWN0b3IzX2J0VmVjdG9yM18wPXQuYXNtLlZhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGpuPXQuX2ViX2J0VmVjdG9yM19idFZlY3RvcjNfMz1mdW5jdGlvbigpe3JldHVybihqbj10Ll9lYl9idFZlY3RvcjNfYnRWZWN0b3IzXzM9dC5hc20uV2EpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdm49dC5fZWJfYnRWZWN0b3IzX2xlbmd0aF8wPWZ1bmN0aW9uKCl7cmV0dXJuKHZuPXQuX2ViX2J0VmVjdG9yM19sZW5ndGhfMD10LmFzbS5YYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxEbj10Ll9lYl9idFZlY3RvcjNfeF8wPWZ1bmN0aW9uKCl7cmV0dXJuKERuPXQuX2ViX2J0VmVjdG9yM194XzA9dC5hc20uWWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sUm49dC5fZWJfYnRWZWN0b3IzX3lfMD1mdW5jdGlvbigpe3JldHVybihSbj10Ll9lYl9idFZlY3RvcjNfeV8wPXQuYXNtLlphKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFNuPXQuX2ViX2J0VmVjdG9yM196XzA9ZnVuY3Rpb24oKXtyZXR1cm4oU249dC5fZWJfYnRWZWN0b3IzX3pfMD10LmFzbS5fYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxJbj10Ll9lYl9idFZlY3RvcjNfc2V0WF8xPWZ1bmN0aW9uKCl7cmV0dXJuKEluPXQuX2ViX2J0VmVjdG9yM19zZXRYXzE9dC5hc20uJGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sT249dC5fZWJfYnRWZWN0b3IzX3NldFlfMT1mdW5jdGlvbigpe3JldHVybihPbj10Ll9lYl9idFZlY3RvcjNfc2V0WV8xPXQuYXNtLmFiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEJuPXQuX2ViX2J0VmVjdG9yM19zZXRaXzE9ZnVuY3Rpb24oKXtyZXR1cm4oQm49dC5fZWJfYnRWZWN0b3IzX3NldFpfMT10LmFzbS5iYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxQbj10Ll9lYl9idFZlY3RvcjNfc2V0VmFsdWVfMz1mdW5jdGlvbigpe3JldHVybihQbj10Ll9lYl9idFZlY3RvcjNfc2V0VmFsdWVfMz10LmFzbS5jYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx4bj10Ll9lYl9idFZlY3RvcjNfbm9ybWFsaXplXzA9ZnVuY3Rpb24oKXtyZXR1cm4oeG49dC5fZWJfYnRWZWN0b3IzX25vcm1hbGl6ZV8wPXQuYXNtLmRiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFRuPXQuX2ViX2J0VmVjdG9yM19yb3RhdGVfMj1mdW5jdGlvbigpe3JldHVybihUbj10Ll9lYl9idFZlY3RvcjNfcm90YXRlXzI9dC5hc20uZWIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sRm49dC5fZWJfYnRWZWN0b3IzX2RvdF8xPWZ1bmN0aW9uKCl7cmV0dXJuKEZuPXQuX2ViX2J0VmVjdG9yM19kb3RfMT10LmFzbS5mYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxNbj10Ll9lYl9idFZlY3RvcjNfb3BfbXVsXzE9ZnVuY3Rpb24oKXtyZXR1cm4oTW49dC5fZWJfYnRWZWN0b3IzX29wX211bF8xPXQuYXNtLmdiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEFuPXQuX2ViX2J0VmVjdG9yM19vcF9hZGRfMT1mdW5jdGlvbigpe3JldHVybihBbj10Ll9lYl9idFZlY3RvcjNfb3BfYWRkXzE9dC5hc20uaGIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sd249dC5fZWJfYnRWZWN0b3IzX29wX3N1Yl8xPWZ1bmN0aW9uKCl7cmV0dXJuKHduPXQuX2ViX2J0VmVjdG9yM19vcF9zdWJfMT10LmFzbS5pYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxrbj10Ll9lYl9idFZlY3RvcjNfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihrbj10Ll9lYl9idFZlY3RvcjNfX19kZXN0cm95X19fMD10LmFzbS5qYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxMbj10Ll9lYl9idFF1YXRlcm5pb25fYnRRdWF0ZXJuaW9uXzQ9ZnVuY3Rpb24oKXtyZXR1cm4oTG49dC5fZWJfYnRRdWF0ZXJuaW9uX2J0UXVhdGVybmlvbl80PXQuYXNtLmtiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEhuPXQuX2ViX2J0UXVhdGVybmlvbl9zZXRWYWx1ZV80PWZ1bmN0aW9uKCl7cmV0dXJuKEhuPXQuX2ViX2J0UXVhdGVybmlvbl9zZXRWYWx1ZV80PXQuYXNtLmxiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFluPXQuX2ViX2J0UXVhdGVybmlvbl9zZXRFdWxlclpZWF8zPWZ1bmN0aW9uKCl7cmV0dXJuKFluPXQuX2ViX2J0UXVhdGVybmlvbl9zZXRFdWxlclpZWF8zPXQuYXNtLm1iKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFZuPXQuX2ViX2J0UXVhdGVybmlvbl9zZXRSb3RhdGlvbl8yPWZ1bmN0aW9uKCl7cmV0dXJuKFZuPXQuX2ViX2J0UXVhdGVybmlvbl9zZXRSb3RhdGlvbl8yPXQuYXNtLm5iKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFFuPXQuX2ViX2J0UXVhdGVybmlvbl9ub3JtYWxpemVfMD1mdW5jdGlvbigpe3JldHVybihRbj10Ll9lYl9idFF1YXRlcm5pb25fbm9ybWFsaXplXzA9dC5hc20ub2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sRW49dC5fZWJfYnRRdWF0ZXJuaW9uX2xlbmd0aDJfMD1mdW5jdGlvbigpe3JldHVybihFbj10Ll9lYl9idFF1YXRlcm5pb25fbGVuZ3RoMl8wPXQuYXNtLnBiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFhuPXQuX2ViX2J0UXVhdGVybmlvbl9sZW5ndGhfMD1mdW5jdGlvbigpe3JldHVybihYbj10Ll9lYl9idFF1YXRlcm5pb25fbGVuZ3RoXzA9dC5hc20ucWIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sVW49dC5fZWJfYnRRdWF0ZXJuaW9uX2RvdF8xPWZ1bmN0aW9uKCl7cmV0dXJuKFVuPXQuX2ViX2J0UXVhdGVybmlvbl9kb3RfMT10LmFzbS5yYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxHbj10Ll9lYl9idFF1YXRlcm5pb25fbm9ybWFsaXplZF8wPWZ1bmN0aW9uKCl7cmV0dXJuKEduPXQuX2ViX2J0UXVhdGVybmlvbl9ub3JtYWxpemVkXzA9dC5hc20uc2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sem49dC5fZWJfYnRRdWF0ZXJuaW9uX2dldEF4aXNfMD1mdW5jdGlvbigpe3JldHVybih6bj10Ll9lYl9idFF1YXRlcm5pb25fZ2V0QXhpc18wPXQuYXNtLnRiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE5uPXQuX2ViX2J0UXVhdGVybmlvbl9pbnZlcnNlXzA9ZnVuY3Rpb24oKXtyZXR1cm4oTm49dC5fZWJfYnRRdWF0ZXJuaW9uX2ludmVyc2VfMD10LmFzbS51YikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxxbj10Ll9lYl9idFF1YXRlcm5pb25fZ2V0QW5nbGVfMD1mdW5jdGlvbigpe3JldHVybihxbj10Ll9lYl9idFF1YXRlcm5pb25fZ2V0QW5nbGVfMD10LmFzbS52YikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxabj10Ll9lYl9idFF1YXRlcm5pb25fZ2V0QW5nbGVTaG9ydGVzdFBhdGhfMD1mdW5jdGlvbigpe3JldHVybihabj10Ll9lYl9idFF1YXRlcm5pb25fZ2V0QW5nbGVTaG9ydGVzdFBhdGhfMD10LmFzbS53YikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxLbj10Ll9lYl9idFF1YXRlcm5pb25fYW5nbGVfMT1mdW5jdGlvbigpe3JldHVybihLbj10Ll9lYl9idFF1YXRlcm5pb25fYW5nbGVfMT10LmFzbS54YikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSwkbj10Ll9lYl9idFF1YXRlcm5pb25fYW5nbGVTaG9ydGVzdFBhdGhfMT1mdW5jdGlvbigpe3JldHVybigkbj10Ll9lYl9idFF1YXRlcm5pb25fYW5nbGVTaG9ydGVzdFBhdGhfMT10LmFzbS55YikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxKbj10Ll9lYl9idFF1YXRlcm5pb25fb3BfYWRkXzE9ZnVuY3Rpb24oKXtyZXR1cm4oSm49dC5fZWJfYnRRdWF0ZXJuaW9uX29wX2FkZF8xPXQuYXNtLnpiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHRyPXQuX2ViX2J0UXVhdGVybmlvbl9vcF9zdWJfMT1mdW5jdGlvbigpe3JldHVybih0cj10Ll9lYl9idFF1YXRlcm5pb25fb3Bfc3ViXzE9dC5hc20uQWIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZXI9dC5fZWJfYnRRdWF0ZXJuaW9uX29wX211bF8xPWZ1bmN0aW9uKCl7cmV0dXJuKGVyPXQuX2ViX2J0UXVhdGVybmlvbl9vcF9tdWxfMT10LmFzbS5CYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxvcj10Ll9lYl9idFF1YXRlcm5pb25fb3BfbXVscV8xPWZ1bmN0aW9uKCl7cmV0dXJuKG9yPXQuX2ViX2J0UXVhdGVybmlvbl9vcF9tdWxxXzE9dC5hc20uQ2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbnI9dC5fZWJfYnRRdWF0ZXJuaW9uX29wX2Rpdl8xPWZ1bmN0aW9uKCl7cmV0dXJuKG5yPXQuX2ViX2J0UXVhdGVybmlvbl9vcF9kaXZfMT10LmFzbS5EYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxycj10Ll9lYl9idFF1YXRlcm5pb25feF8wPWZ1bmN0aW9uKCl7cmV0dXJuKHJyPXQuX2ViX2J0UXVhdGVybmlvbl94XzA9dC5hc20uRWIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sX3I9dC5fZWJfYnRRdWF0ZXJuaW9uX3lfMD1mdW5jdGlvbigpe3JldHVybihfcj10Ll9lYl9idFF1YXRlcm5pb25feV8wPXQuYXNtLkZiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGlyPXQuX2ViX2J0UXVhdGVybmlvbl96XzA9ZnVuY3Rpb24oKXtyZXR1cm4oaXI9dC5fZWJfYnRRdWF0ZXJuaW9uX3pfMD10LmFzbS5HYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhcj10Ll9lYl9idFF1YXRlcm5pb25fd18wPWZ1bmN0aW9uKCl7cmV0dXJuKGFyPXQuX2ViX2J0UXVhdGVybmlvbl93XzA9dC5hc20uSGIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sc3I9dC5fZWJfYnRRdWF0ZXJuaW9uX3NldFhfMT1mdW5jdGlvbigpe3JldHVybihzcj10Ll9lYl9idFF1YXRlcm5pb25fc2V0WF8xPXQuYXNtLkliKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHByPXQuX2ViX2J0UXVhdGVybmlvbl9zZXRZXzE9ZnVuY3Rpb24oKXtyZXR1cm4ocHI9dC5fZWJfYnRRdWF0ZXJuaW9uX3NldFlfMT10LmFzbS5KYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxscj10Ll9lYl9idFF1YXRlcm5pb25fc2V0Wl8xPWZ1bmN0aW9uKCl7cmV0dXJuKGxyPXQuX2ViX2J0UXVhdGVybmlvbl9zZXRaXzE9dC5hc20uS2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdXI9dC5fZWJfYnRRdWF0ZXJuaW9uX3NldFdfMT1mdW5jdGlvbigpe3JldHVybih1cj10Ll9lYl9idFF1YXRlcm5pb25fc2V0V18xPXQuYXNtLkxiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGNyPXQuX2ViX2J0UXVhdGVybmlvbl9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKGNyPXQuX2ViX2J0UXVhdGVybmlvbl9fX2Rlc3Ryb3lfX18wPXQuYXNtLk1iKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHlyPXQuX2ViX2J0TWF0cml4M3gzX3NldEV1bGVyWllYXzM9ZnVuY3Rpb24oKXtyZXR1cm4oeXI9dC5fZWJfYnRNYXRyaXgzeDNfc2V0RXVsZXJaWVhfMz10LmFzbS5OYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxocj10Ll9lYl9idE1hdHJpeDN4M19nZXRSb3RhdGlvbl8xPWZ1bmN0aW9uKCl7cmV0dXJuKGhyPXQuX2ViX2J0TWF0cml4M3gzX2dldFJvdGF0aW9uXzE9dC5hc20uT2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZnI9dC5fZWJfYnRNYXRyaXgzeDNfZ2V0Um93XzE9ZnVuY3Rpb24oKXtyZXR1cm4oZnI9dC5fZWJfYnRNYXRyaXgzeDNfZ2V0Um93XzE9dC5hc20uUGIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbXI9dC5fZWJfYnRNYXRyaXgzeDNfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihtcj10Ll9lYl9idE1hdHJpeDN4M19fX2Rlc3Ryb3lfX18wPXQuYXNtLlFiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGJyPXQuX2ViX2J0VHJhbnNmb3JtX2J0VHJhbnNmb3JtXzA9ZnVuY3Rpb24oKXtyZXR1cm4oYnI9dC5fZWJfYnRUcmFuc2Zvcm1fYnRUcmFuc2Zvcm1fMD10LmFzbS5SYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxncj10Ll9lYl9idFRyYW5zZm9ybV9idFRyYW5zZm9ybV8yPWZ1bmN0aW9uKCl7cmV0dXJuKGdyPXQuX2ViX2J0VHJhbnNmb3JtX2J0VHJhbnNmb3JtXzI9dC5hc20uU2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZHI9dC5fZWJfYnRUcmFuc2Zvcm1fc2V0SWRlbnRpdHlfMD1mdW5jdGlvbigpe3JldHVybihkcj10Ll9lYl9idFRyYW5zZm9ybV9zZXRJZGVudGl0eV8wPXQuYXNtLlRiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFdyPXQuX2ViX2J0VHJhbnNmb3JtX3NldE9yaWdpbl8xPWZ1bmN0aW9uKCl7cmV0dXJuKFdyPXQuX2ViX2J0VHJhbnNmb3JtX3NldE9yaWdpbl8xPXQuYXNtLlViKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LENyPXQuX2ViX2J0VHJhbnNmb3JtX3NldFJvdGF0aW9uXzE9ZnVuY3Rpb24oKXtyZXR1cm4oQ3I9dC5fZWJfYnRUcmFuc2Zvcm1fc2V0Um90YXRpb25fMT10LmFzbS5WYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxqcj10Ll9lYl9idFRyYW5zZm9ybV9nZXRPcmlnaW5fMD1mdW5jdGlvbigpe3JldHVybihqcj10Ll9lYl9idFRyYW5zZm9ybV9nZXRPcmlnaW5fMD10LmFzbS5XYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx2cj10Ll9lYl9idFRyYW5zZm9ybV9nZXRSb3RhdGlvbl8wPWZ1bmN0aW9uKCl7cmV0dXJuKHZyPXQuX2ViX2J0VHJhbnNmb3JtX2dldFJvdGF0aW9uXzA9dC5hc20uWGIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sRHI9dC5fZWJfYnRUcmFuc2Zvcm1fZ2V0QmFzaXNfMD1mdW5jdGlvbigpe3JldHVybihEcj10Ll9lYl9idFRyYW5zZm9ybV9nZXRCYXNpc18wPXQuYXNtLlliKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFJyPXQuX2ViX2J0VHJhbnNmb3JtX3NldEZyb21PcGVuR0xNYXRyaXhfMT1mdW5jdGlvbigpe3JldHVybihScj10Ll9lYl9idFRyYW5zZm9ybV9zZXRGcm9tT3BlbkdMTWF0cml4XzE9dC5hc20uWmIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sU3I9dC5fZWJfYnRUcmFuc2Zvcm1faW52ZXJzZV8wPWZ1bmN0aW9uKCl7cmV0dXJuKFNyPXQuX2ViX2J0VHJhbnNmb3JtX2ludmVyc2VfMD10LmFzbS5fYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxJcj10Ll9lYl9idFRyYW5zZm9ybV9vcF9tdWxfMT1mdW5jdGlvbigpe3JldHVybihJcj10Ll9lYl9idFRyYW5zZm9ybV9vcF9tdWxfMT10LmFzbS4kYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxPcj10Ll9lYl9idFRyYW5zZm9ybV9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKE9yPXQuX2ViX2J0VHJhbnNmb3JtX19fZGVzdHJveV9fXzA9dC5hc20uYWMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sQnI9dC5fZWJfYnREZWZhdWx0TW90aW9uU3RhdGVfYnREZWZhdWx0TW90aW9uU3RhdGVfMD1mdW5jdGlvbigpe3JldHVybihCcj10Ll9lYl9idERlZmF1bHRNb3Rpb25TdGF0ZV9idERlZmF1bHRNb3Rpb25TdGF0ZV8wPXQuYXNtLmJjKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFByPXQuX2ViX2J0RGVmYXVsdE1vdGlvblN0YXRlX2J0RGVmYXVsdE1vdGlvblN0YXRlXzE9ZnVuY3Rpb24oKXtyZXR1cm4oUHI9dC5fZWJfYnREZWZhdWx0TW90aW9uU3RhdGVfYnREZWZhdWx0TW90aW9uU3RhdGVfMT10LmFzbS5jYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx4cj10Ll9lYl9idERlZmF1bHRNb3Rpb25TdGF0ZV9idERlZmF1bHRNb3Rpb25TdGF0ZV8yPWZ1bmN0aW9uKCl7cmV0dXJuKHhyPXQuX2ViX2J0RGVmYXVsdE1vdGlvblN0YXRlX2J0RGVmYXVsdE1vdGlvblN0YXRlXzI9dC5hc20uZGMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sVHI9dC5fZWJfYnREZWZhdWx0TW90aW9uU3RhdGVfZ2V0V29ybGRUcmFuc2Zvcm1fMT1mdW5jdGlvbigpe3JldHVybihUcj10Ll9lYl9idERlZmF1bHRNb3Rpb25TdGF0ZV9nZXRXb3JsZFRyYW5zZm9ybV8xPXQuYXNtLmVjKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEZyPXQuX2ViX2J0RGVmYXVsdE1vdGlvblN0YXRlX3NldFdvcmxkVHJhbnNmb3JtXzE9ZnVuY3Rpb24oKXtyZXR1cm4oRnI9dC5fZWJfYnREZWZhdWx0TW90aW9uU3RhdGVfc2V0V29ybGRUcmFuc2Zvcm1fMT10LmFzbS5mYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxNcj10Ll9lYl9idERlZmF1bHRNb3Rpb25TdGF0ZV9nZXRfbV9ncmFwaGljc1dvcmxkVHJhbnNfMD1mdW5jdGlvbigpe3JldHVybihNcj10Ll9lYl9idERlZmF1bHRNb3Rpb25TdGF0ZV9nZXRfbV9ncmFwaGljc1dvcmxkVHJhbnNfMD10LmFzbS5nYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxBcj10Ll9lYl9idERlZmF1bHRNb3Rpb25TdGF0ZV9zZXRfbV9ncmFwaGljc1dvcmxkVHJhbnNfMT1mdW5jdGlvbigpe3JldHVybihBcj10Ll9lYl9idERlZmF1bHRNb3Rpb25TdGF0ZV9zZXRfbV9ncmFwaGljc1dvcmxkVHJhbnNfMT10LmFzbS5oYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx3cj10Ll9lYl9idERlZmF1bHRNb3Rpb25TdGF0ZV9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKHdyPXQuX2ViX2J0RGVmYXVsdE1vdGlvblN0YXRlX19fZGVzdHJveV9fXzA9dC5hc20uaWMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sa3I9dC5fZWJfYnRDb2xsaXNpb25PYmplY3RXcmFwcGVyX2dldFdvcmxkVHJhbnNmb3JtXzA9ZnVuY3Rpb24oKXtyZXR1cm4oa3I9dC5fZWJfYnRDb2xsaXNpb25PYmplY3RXcmFwcGVyX2dldFdvcmxkVHJhbnNmb3JtXzA9dC5hc20uamMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sTHI9dC5fZWJfYnRDb2xsaXNpb25PYmplY3RXcmFwcGVyX2dldENvbGxpc2lvbk9iamVjdF8wPWZ1bmN0aW9uKCl7cmV0dXJuKExyPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0V3JhcHBlcl9nZXRDb2xsaXNpb25PYmplY3RfMD10LmFzbS5rYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxIcj10Ll9lYl9idENvbGxpc2lvbk9iamVjdFdyYXBwZXJfZ2V0Q29sbGlzaW9uU2hhcGVfMD1mdW5jdGlvbigpe3JldHVybihIcj10Ll9lYl9idENvbGxpc2lvbk9iamVjdFdyYXBwZXJfZ2V0Q29sbGlzaW9uU2hhcGVfMD10LmFzbS5sYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxZcj10Ll9lYl9idENvbnN0Q29sbGlzaW9uT2JqZWN0QXJyYXlfc2l6ZV8wPWZ1bmN0aW9uKCl7cmV0dXJuKFlyPXQuX2ViX2J0Q29uc3RDb2xsaXNpb25PYmplY3RBcnJheV9zaXplXzA9dC5hc20ubWMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sVnI9dC5fZWJfYnRDb25zdENvbGxpc2lvbk9iamVjdEFycmF5X2F0XzE9ZnVuY3Rpb24oKXtyZXR1cm4oVnI9dC5fZWJfYnRDb25zdENvbGxpc2lvbk9iamVjdEFycmF5X2F0XzE9dC5hc20ubmMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sUXI9dC5fZWJfYnRDb25zdENvbGxpc2lvbk9iamVjdEFycmF5X19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4oUXI9dC5fZWJfYnRDb25zdENvbGxpc2lvbk9iamVjdEFycmF5X19fZGVzdHJveV9fXzA9dC5hc20ub2MpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sRXI9dC5fZWJfYnRTY2FsYXJBcnJheV9zaXplXzA9ZnVuY3Rpb24oKXtyZXR1cm4oRXI9dC5fZWJfYnRTY2FsYXJBcnJheV9zaXplXzA9dC5hc20ucGMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sWHI9dC5fZWJfYnRTY2FsYXJBcnJheV9hdF8xPWZ1bmN0aW9uKCl7cmV0dXJuKFhyPXQuX2ViX2J0U2NhbGFyQXJyYXlfYXRfMT10LmFzbS5xYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxVcj10Ll9lYl9idFNjYWxhckFycmF5X19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4oVXI9dC5fZWJfYnRTY2FsYXJBcnJheV9fX2Rlc3Ryb3lfX18wPXQuYXNtLnJjKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEdyPXQuX2ViX2J0TWFuaWZvbGRQb2ludF9nZXRQb3NpdGlvbldvcmxkT25BXzA9ZnVuY3Rpb24oKXtyZXR1cm4oR3I9dC5fZWJfYnRNYW5pZm9sZFBvaW50X2dldFBvc2l0aW9uV29ybGRPbkFfMD10LmFzbS5zYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx6cj10Ll9lYl9idE1hbmlmb2xkUG9pbnRfZ2V0UG9zaXRpb25Xb3JsZE9uQl8wPWZ1bmN0aW9uKCl7cmV0dXJuKHpyPXQuX2ViX2J0TWFuaWZvbGRQb2ludF9nZXRQb3NpdGlvbldvcmxkT25CXzA9dC5hc20udGMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sTnI9dC5fZWJfYnRNYW5pZm9sZFBvaW50X2dldEFwcGxpZWRJbXB1bHNlXzA9ZnVuY3Rpb24oKXtyZXR1cm4oTnI9dC5fZWJfYnRNYW5pZm9sZFBvaW50X2dldEFwcGxpZWRJbXB1bHNlXzA9dC5hc20udWMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0scXI9dC5fZWJfYnRNYW5pZm9sZFBvaW50X2dldERpc3RhbmNlXzA9ZnVuY3Rpb24oKXtyZXR1cm4ocXI9dC5fZWJfYnRNYW5pZm9sZFBvaW50X2dldERpc3RhbmNlXzA9dC5hc20udmMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sWnI9dC5fZWJfYnRNYW5pZm9sZFBvaW50X2dldF9tX2xvY2FsUG9pbnRBXzA9ZnVuY3Rpb24oKXtyZXR1cm4oWnI9dC5fZWJfYnRNYW5pZm9sZFBvaW50X2dldF9tX2xvY2FsUG9pbnRBXzA9dC5hc20ud2MpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sS3I9dC5fZWJfYnRNYW5pZm9sZFBvaW50X3NldF9tX2xvY2FsUG9pbnRBXzE9ZnVuY3Rpb24oKXtyZXR1cm4oS3I9dC5fZWJfYnRNYW5pZm9sZFBvaW50X3NldF9tX2xvY2FsUG9pbnRBXzE9dC5hc20ueGMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sJHI9dC5fZWJfYnRNYW5pZm9sZFBvaW50X2dldF9tX2xvY2FsUG9pbnRCXzA9ZnVuY3Rpb24oKXtyZXR1cm4oJHI9dC5fZWJfYnRNYW5pZm9sZFBvaW50X2dldF9tX2xvY2FsUG9pbnRCXzA9dC5hc20ueWMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sSnI9dC5fZWJfYnRNYW5pZm9sZFBvaW50X3NldF9tX2xvY2FsUG9pbnRCXzE9ZnVuY3Rpb24oKXtyZXR1cm4oSnI9dC5fZWJfYnRNYW5pZm9sZFBvaW50X3NldF9tX2xvY2FsUG9pbnRCXzE9dC5hc20uemMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdF89dC5fZWJfYnRNYW5pZm9sZFBvaW50X2dldF9tX3Bvc2l0aW9uV29ybGRPbkJfMD1mdW5jdGlvbigpe3JldHVybih0Xz10Ll9lYl9idE1hbmlmb2xkUG9pbnRfZ2V0X21fcG9zaXRpb25Xb3JsZE9uQl8wPXQuYXNtLkFjKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGVfPXQuX2ViX2J0TWFuaWZvbGRQb2ludF9zZXRfbV9wb3NpdGlvbldvcmxkT25CXzE9ZnVuY3Rpb24oKXtyZXR1cm4oZV89dC5fZWJfYnRNYW5pZm9sZFBvaW50X3NldF9tX3Bvc2l0aW9uV29ybGRPbkJfMT10LmFzbS5CYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxvXz10Ll9lYl9idE1hbmlmb2xkUG9pbnRfZ2V0X21fcG9zaXRpb25Xb3JsZE9uQV8wPWZ1bmN0aW9uKCl7cmV0dXJuKG9fPXQuX2ViX2J0TWFuaWZvbGRQb2ludF9nZXRfbV9wb3NpdGlvbldvcmxkT25BXzA9dC5hc20uQ2MpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbl89dC5fZWJfYnRNYW5pZm9sZFBvaW50X3NldF9tX3Bvc2l0aW9uV29ybGRPbkFfMT1mdW5jdGlvbigpe3JldHVybihuXz10Ll9lYl9idE1hbmlmb2xkUG9pbnRfc2V0X21fcG9zaXRpb25Xb3JsZE9uQV8xPXQuYXNtLkRjKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHJfPXQuX2ViX2J0TWFuaWZvbGRQb2ludF9nZXRfbV9ub3JtYWxXb3JsZE9uQl8wPWZ1bmN0aW9uKCl7cmV0dXJuKHJfPXQuX2ViX2J0TWFuaWZvbGRQb2ludF9nZXRfbV9ub3JtYWxXb3JsZE9uQl8wPXQuYXNtLkVjKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LF9fPXQuX2ViX2J0TWFuaWZvbGRQb2ludF9zZXRfbV9ub3JtYWxXb3JsZE9uQl8xPWZ1bmN0aW9uKCl7cmV0dXJuKF9fPXQuX2ViX2J0TWFuaWZvbGRQb2ludF9zZXRfbV9ub3JtYWxXb3JsZE9uQl8xPXQuYXNtLkZjKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGlfPXQuX2ViX2J0TWFuaWZvbGRQb2ludF9nZXRfbV91c2VyUGVyc2lzdGVudERhdGFfMD1mdW5jdGlvbigpe3JldHVybihpXz10Ll9lYl9idE1hbmlmb2xkUG9pbnRfZ2V0X21fdXNlclBlcnNpc3RlbnREYXRhXzA9dC5hc20uR2MpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYV89dC5fZWJfYnRNYW5pZm9sZFBvaW50X3NldF9tX3VzZXJQZXJzaXN0ZW50RGF0YV8xPWZ1bmN0aW9uKCl7cmV0dXJuKGFfPXQuX2ViX2J0TWFuaWZvbGRQb2ludF9zZXRfbV91c2VyUGVyc2lzdGVudERhdGFfMT10LmFzbS5IYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxzXz10Ll9lYl9idE1hbmlmb2xkUG9pbnRfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihzXz10Ll9lYl9idE1hbmlmb2xkUG9pbnRfX19kZXN0cm95X19fMD10LmFzbS5JYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxwXz10Ll9lYl9Db25jcmV0ZUNvbnRhY3RSZXN1bHRDYWxsYmFja19Db25jcmV0ZUNvbnRhY3RSZXN1bHRDYWxsYmFja18wPWZ1bmN0aW9uKCl7cmV0dXJuKHBfPXQuX2ViX0NvbmNyZXRlQ29udGFjdFJlc3VsdENhbGxiYWNrX0NvbmNyZXRlQ29udGFjdFJlc3VsdENhbGxiYWNrXzA9dC5hc20uSmMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbF89dC5fZWJfQ29uY3JldGVDb250YWN0UmVzdWx0Q2FsbGJhY2tfYWRkU2luZ2xlUmVzdWx0Xzc9ZnVuY3Rpb24oKXtyZXR1cm4obF89dC5fZWJfQ29uY3JldGVDb250YWN0UmVzdWx0Q2FsbGJhY2tfYWRkU2luZ2xlUmVzdWx0Xzc9dC5hc20uS2MpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdV89dC5fZWJfQ29uY3JldGVDb250YWN0UmVzdWx0Q2FsbGJhY2tfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybih1Xz10Ll9lYl9Db25jcmV0ZUNvbnRhY3RSZXN1bHRDYWxsYmFja19fX2Rlc3Ryb3lfX18wPXQuYXNtLkxjKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGNfPXQuX2ViX0xvY2FsU2hhcGVJbmZvX2dldF9tX3NoYXBlUGFydF8wPWZ1bmN0aW9uKCl7cmV0dXJuKGNfPXQuX2ViX0xvY2FsU2hhcGVJbmZvX2dldF9tX3NoYXBlUGFydF8wPXQuYXNtLk1jKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHlfPXQuX2ViX0xvY2FsU2hhcGVJbmZvX3NldF9tX3NoYXBlUGFydF8xPWZ1bmN0aW9uKCl7cmV0dXJuKHlfPXQuX2ViX0xvY2FsU2hhcGVJbmZvX3NldF9tX3NoYXBlUGFydF8xPXQuYXNtLk5jKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGhfPXQuX2ViX0xvY2FsU2hhcGVJbmZvX2dldF9tX3RyaWFuZ2xlSW5kZXhfMD1mdW5jdGlvbigpe3JldHVybihoXz10Ll9lYl9Mb2NhbFNoYXBlSW5mb19nZXRfbV90cmlhbmdsZUluZGV4XzA9dC5hc20uT2MpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZl89dC5fZWJfTG9jYWxTaGFwZUluZm9fc2V0X21fdHJpYW5nbGVJbmRleF8xPWZ1bmN0aW9uKCl7cmV0dXJuKGZfPXQuX2ViX0xvY2FsU2hhcGVJbmZvX3NldF9tX3RyaWFuZ2xlSW5kZXhfMT10LmFzbS5QYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxtXz10Ll9lYl9Mb2NhbFNoYXBlSW5mb19fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKG1fPXQuX2ViX0xvY2FsU2hhcGVJbmZvX19fZGVzdHJveV9fXzA9dC5hc20uUWMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYl89dC5fZWJfTG9jYWxDb252ZXhSZXN1bHRfTG9jYWxDb252ZXhSZXN1bHRfNT1mdW5jdGlvbigpe3JldHVybihiXz10Ll9lYl9Mb2NhbENvbnZleFJlc3VsdF9Mb2NhbENvbnZleFJlc3VsdF81PXQuYXNtLlJjKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGdfPXQuX2ViX0xvY2FsQ29udmV4UmVzdWx0X2dldF9tX2hpdENvbGxpc2lvbk9iamVjdF8wPWZ1bmN0aW9uKCl7cmV0dXJuKGdfPXQuX2ViX0xvY2FsQ29udmV4UmVzdWx0X2dldF9tX2hpdENvbGxpc2lvbk9iamVjdF8wPXQuYXNtLlNjKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGRfPXQuX2ViX0xvY2FsQ29udmV4UmVzdWx0X3NldF9tX2hpdENvbGxpc2lvbk9iamVjdF8xPWZ1bmN0aW9uKCl7cmV0dXJuKGRfPXQuX2ViX0xvY2FsQ29udmV4UmVzdWx0X3NldF9tX2hpdENvbGxpc2lvbk9iamVjdF8xPXQuYXNtLlRjKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFdfPXQuX2ViX0xvY2FsQ29udmV4UmVzdWx0X2dldF9tX2xvY2FsU2hhcGVJbmZvXzA9ZnVuY3Rpb24oKXtyZXR1cm4oV189dC5fZWJfTG9jYWxDb252ZXhSZXN1bHRfZ2V0X21fbG9jYWxTaGFwZUluZm9fMD10LmFzbS5VYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxDXz10Ll9lYl9Mb2NhbENvbnZleFJlc3VsdF9zZXRfbV9sb2NhbFNoYXBlSW5mb18xPWZ1bmN0aW9uKCl7cmV0dXJuKENfPXQuX2ViX0xvY2FsQ29udmV4UmVzdWx0X3NldF9tX2xvY2FsU2hhcGVJbmZvXzE9dC5hc20uVmMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sal89dC5fZWJfTG9jYWxDb252ZXhSZXN1bHRfZ2V0X21faGl0Tm9ybWFsTG9jYWxfMD1mdW5jdGlvbigpe3JldHVybihqXz10Ll9lYl9Mb2NhbENvbnZleFJlc3VsdF9nZXRfbV9oaXROb3JtYWxMb2NhbF8wPXQuYXNtLldjKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHZfPXQuX2ViX0xvY2FsQ29udmV4UmVzdWx0X3NldF9tX2hpdE5vcm1hbExvY2FsXzE9ZnVuY3Rpb24oKXtyZXR1cm4odl89dC5fZWJfTG9jYWxDb252ZXhSZXN1bHRfc2V0X21faGl0Tm9ybWFsTG9jYWxfMT10LmFzbS5YYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxEXz10Ll9lYl9Mb2NhbENvbnZleFJlc3VsdF9nZXRfbV9oaXRQb2ludExvY2FsXzA9ZnVuY3Rpb24oKXtyZXR1cm4oRF89dC5fZWJfTG9jYWxDb252ZXhSZXN1bHRfZ2V0X21faGl0UG9pbnRMb2NhbF8wPXQuYXNtLlljKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFJfPXQuX2ViX0xvY2FsQ29udmV4UmVzdWx0X3NldF9tX2hpdFBvaW50TG9jYWxfMT1mdW5jdGlvbigpe3JldHVybihSXz10Ll9lYl9Mb2NhbENvbnZleFJlc3VsdF9zZXRfbV9oaXRQb2ludExvY2FsXzE9dC5hc20uWmMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sU189dC5fZWJfTG9jYWxDb252ZXhSZXN1bHRfZ2V0X21faGl0RnJhY3Rpb25fMD1mdW5jdGlvbigpe3JldHVybihTXz10Ll9lYl9Mb2NhbENvbnZleFJlc3VsdF9nZXRfbV9oaXRGcmFjdGlvbl8wPXQuYXNtLl9jKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LElfPXQuX2ViX0xvY2FsQ29udmV4UmVzdWx0X3NldF9tX2hpdEZyYWN0aW9uXzE9ZnVuY3Rpb24oKXtyZXR1cm4oSV89dC5fZWJfTG9jYWxDb252ZXhSZXN1bHRfc2V0X21faGl0RnJhY3Rpb25fMT10LmFzbS4kYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxPXz10Ll9lYl9Mb2NhbENvbnZleFJlc3VsdF9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKE9fPXQuX2ViX0xvY2FsQ29udmV4UmVzdWx0X19fZGVzdHJveV9fXzA9dC5hc20uYWQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sQl89dC5fZWJfQ2xvc2VzdENvbnZleFJlc3VsdENhbGxiYWNrX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja18yPWZ1bmN0aW9uKCl7cmV0dXJuKEJfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfMj10LmFzbS5iZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxQXz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfaGFzSGl0XzA9ZnVuY3Rpb24oKXtyZXR1cm4oUF89dC5fZWJfQ2xvc2VzdENvbnZleFJlc3VsdENhbGxiYWNrX2hhc0hpdF8wPXQuYXNtLmNkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHhfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19nZXRfbV9oaXRDb2xsaXNpb25PYmplY3RfMD1mdW5jdGlvbigpe3JldHVybih4Xz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfZ2V0X21faGl0Q29sbGlzaW9uT2JqZWN0XzA9dC5hc20uZGQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sVF89dC5fZWJfQ2xvc2VzdENvbnZleFJlc3VsdENhbGxiYWNrX3NldF9tX2hpdENvbGxpc2lvbk9iamVjdF8xPWZ1bmN0aW9uKCl7cmV0dXJuKFRfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19zZXRfbV9oaXRDb2xsaXNpb25PYmplY3RfMT10LmFzbS5lZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxGXz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfZ2V0X21fY29udmV4RnJvbVdvcmxkXzA9ZnVuY3Rpb24oKXtyZXR1cm4oRl89dC5fZWJfQ2xvc2VzdENvbnZleFJlc3VsdENhbGxiYWNrX2dldF9tX2NvbnZleEZyb21Xb3JsZF8wPXQuYXNtLmZkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE1fPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19zZXRfbV9jb252ZXhGcm9tV29ybGRfMT1mdW5jdGlvbigpe3JldHVybihNXz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfc2V0X21fY29udmV4RnJvbVdvcmxkXzE9dC5hc20uZ2QpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sQV89dC5fZWJfQ2xvc2VzdENvbnZleFJlc3VsdENhbGxiYWNrX2dldF9tX2NvbnZleFRvV29ybGRfMD1mdW5jdGlvbigpe3JldHVybihBXz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfZ2V0X21fY29udmV4VG9Xb3JsZF8wPXQuYXNtLmhkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHdfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19zZXRfbV9jb252ZXhUb1dvcmxkXzE9ZnVuY3Rpb24oKXtyZXR1cm4od189dC5fZWJfQ2xvc2VzdENvbnZleFJlc3VsdENhbGxiYWNrX3NldF9tX2NvbnZleFRvV29ybGRfMT10LmFzbS5pZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxrXz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfZ2V0X21faGl0Tm9ybWFsV29ybGRfMD1mdW5jdGlvbigpe3JldHVybihrXz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfZ2V0X21faGl0Tm9ybWFsV29ybGRfMD10LmFzbS5qZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxMXz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfc2V0X21faGl0Tm9ybWFsV29ybGRfMT1mdW5jdGlvbigpe3JldHVybihMXz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfc2V0X21faGl0Tm9ybWFsV29ybGRfMT10LmFzbS5rZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxIXz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfZ2V0X21faGl0UG9pbnRXb3JsZF8wPWZ1bmN0aW9uKCl7cmV0dXJuKEhfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19nZXRfbV9oaXRQb2ludFdvcmxkXzA9dC5hc20ubGQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sWV89dC5fZWJfQ2xvc2VzdENvbnZleFJlc3VsdENhbGxiYWNrX3NldF9tX2hpdFBvaW50V29ybGRfMT1mdW5jdGlvbigpe3JldHVybihZXz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfc2V0X21faGl0UG9pbnRXb3JsZF8xPXQuYXNtLm1kKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFZfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19nZXRfbV9jb2xsaXNpb25GaWx0ZXJHcm91cF8wPWZ1bmN0aW9uKCl7cmV0dXJuKFZfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19nZXRfbV9jb2xsaXNpb25GaWx0ZXJHcm91cF8wPXQuYXNtLm5kKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFFfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19zZXRfbV9jb2xsaXNpb25GaWx0ZXJHcm91cF8xPWZ1bmN0aW9uKCl7cmV0dXJuKFFfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19zZXRfbV9jb2xsaXNpb25GaWx0ZXJHcm91cF8xPXQuYXNtLm9kKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEVfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19nZXRfbV9jb2xsaXNpb25GaWx0ZXJNYXNrXzA9ZnVuY3Rpb24oKXtyZXR1cm4oRV89dC5fZWJfQ2xvc2VzdENvbnZleFJlc3VsdENhbGxiYWNrX2dldF9tX2NvbGxpc2lvbkZpbHRlck1hc2tfMD10LmFzbS5wZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxYXz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfc2V0X21fY29sbGlzaW9uRmlsdGVyTWFza18xPWZ1bmN0aW9uKCl7cmV0dXJuKFhfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19zZXRfbV9jb2xsaXNpb25GaWx0ZXJNYXNrXzE9dC5hc20ucWQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sVV89dC5fZWJfQ2xvc2VzdENvbnZleFJlc3VsdENhbGxiYWNrX2dldF9tX2Nsb3Nlc3RIaXRGcmFjdGlvbl8wPWZ1bmN0aW9uKCl7cmV0dXJuKFVfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19nZXRfbV9jbG9zZXN0SGl0RnJhY3Rpb25fMD10LmFzbS5yZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxHXz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfc2V0X21fY2xvc2VzdEhpdEZyYWN0aW9uXzE9ZnVuY3Rpb24oKXtyZXR1cm4oR189dC5fZWJfQ2xvc2VzdENvbnZleFJlc3VsdENhbGxiYWNrX3NldF9tX2Nsb3Nlc3RIaXRGcmFjdGlvbl8xPXQuYXNtLnNkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHpfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKHpfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19fX2Rlc3Ryb3lfX18wPXQuYXNtLnRkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE5fPXQuX2ViX2J0Q29udmV4U2hhcGVfc2V0TG9jYWxTY2FsaW5nXzE9ZnVuY3Rpb24oKXtyZXR1cm4oTl89dC5fZWJfYnRDb252ZXhTaGFwZV9zZXRMb2NhbFNjYWxpbmdfMT10LmFzbS51ZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxxXz10Ll9lYl9idENvbnZleFNoYXBlX2dldExvY2FsU2NhbGluZ18wPWZ1bmN0aW9uKCl7cmV0dXJuKHFfPXQuX2ViX2J0Q29udmV4U2hhcGVfZ2V0TG9jYWxTY2FsaW5nXzA9dC5hc20udmQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sWl89dC5fZWJfYnRDb252ZXhTaGFwZV9jYWxjdWxhdGVMb2NhbEluZXJ0aWFfMj1mdW5jdGlvbigpe3JldHVybihaXz10Ll9lYl9idENvbnZleFNoYXBlX2NhbGN1bGF0ZUxvY2FsSW5lcnRpYV8yPXQuYXNtLndkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEtfPXQuX2ViX2J0Q29udmV4U2hhcGVfc2V0TWFyZ2luXzE9ZnVuY3Rpb24oKXtyZXR1cm4oS189dC5fZWJfYnRDb252ZXhTaGFwZV9zZXRNYXJnaW5fMT10LmFzbS54ZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSwkXz10Ll9lYl9idENvbnZleFNoYXBlX2dldE1hcmdpbl8wPWZ1bmN0aW9uKCl7cmV0dXJuKCRfPXQuX2ViX2J0Q29udmV4U2hhcGVfZ2V0TWFyZ2luXzA9dC5hc20ueWQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sSl89dC5fZWJfYnRDb252ZXhTaGFwZV9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKEpfPXQuX2ViX2J0Q29udmV4U2hhcGVfX19kZXN0cm95X19fMD10LmFzbS56ZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0aT10Ll9lYl9idEJveFNoYXBlX2J0Qm94U2hhcGVfMT1mdW5jdGlvbigpe3JldHVybih0aT10Ll9lYl9idEJveFNoYXBlX2J0Qm94U2hhcGVfMT10LmFzbS5BZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxlaT10Ll9lYl9idEJveFNoYXBlX3NldE1hcmdpbl8xPWZ1bmN0aW9uKCl7cmV0dXJuKGVpPXQuX2ViX2J0Qm94U2hhcGVfc2V0TWFyZ2luXzE9dC5hc20uQmQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sb2k9dC5fZWJfYnRCb3hTaGFwZV9nZXRNYXJnaW5fMD1mdW5jdGlvbigpe3JldHVybihvaT10Ll9lYl9idEJveFNoYXBlX2dldE1hcmdpbl8wPXQuYXNtLkNkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG5pPXQuX2ViX2J0Qm94U2hhcGVfc2V0TG9jYWxTY2FsaW5nXzE9ZnVuY3Rpb24oKXtyZXR1cm4obmk9dC5fZWJfYnRCb3hTaGFwZV9zZXRMb2NhbFNjYWxpbmdfMT10LmFzbS5EZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxyaT10Ll9lYl9idEJveFNoYXBlX2dldExvY2FsU2NhbGluZ18wPWZ1bmN0aW9uKCl7cmV0dXJuKHJpPXQuX2ViX2J0Qm94U2hhcGVfZ2V0TG9jYWxTY2FsaW5nXzA9dC5hc20uRWQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sX2k9dC5fZWJfYnRCb3hTaGFwZV9jYWxjdWxhdGVMb2NhbEluZXJ0aWFfMj1mdW5jdGlvbigpe3JldHVybihfaT10Ll9lYl9idEJveFNoYXBlX2NhbGN1bGF0ZUxvY2FsSW5lcnRpYV8yPXQuYXNtLkZkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGlpPXQuX2ViX2J0Qm94U2hhcGVfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihpaT10Ll9lYl9idEJveFNoYXBlX19fZGVzdHJveV9fXzA9dC5hc20uR2QpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYWk9dC5fZWJfYnRJbnRBcnJheV9zaXplXzA9ZnVuY3Rpb24oKXtyZXR1cm4oYWk9dC5fZWJfYnRJbnRBcnJheV9zaXplXzA9dC5hc20uSGQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sc2k9dC5fZWJfYnRJbnRBcnJheV9hdF8xPWZ1bmN0aW9uKCl7cmV0dXJuKHNpPXQuX2ViX2J0SW50QXJyYXlfYXRfMT10LmFzbS5JZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxwaT10Ll9lYl9idEludEFycmF5X19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4ocGk9dC5fZWJfYnRJbnRBcnJheV9fX2Rlc3Ryb3lfX18wPXQuYXNtLkpkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGxpPXQuX2ViX2J0RmFjZV9nZXRfbV9pbmRpY2VzXzA9ZnVuY3Rpb24oKXtyZXR1cm4obGk9dC5fZWJfYnRGYWNlX2dldF9tX2luZGljZXNfMD10LmFzbS5LZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx1aT10Ll9lYl9idEZhY2Vfc2V0X21faW5kaWNlc18xPWZ1bmN0aW9uKCl7cmV0dXJuKHVpPXQuX2ViX2J0RmFjZV9zZXRfbV9pbmRpY2VzXzE9dC5hc20uTGQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sY2k9dC5fZWJfYnRGYWNlX2dldF9tX3BsYW5lXzE9ZnVuY3Rpb24oKXtyZXR1cm4oY2k9dC5fZWJfYnRGYWNlX2dldF9tX3BsYW5lXzE9dC5hc20uTWQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0seWk9dC5fZWJfYnRGYWNlX3NldF9tX3BsYW5lXzI9ZnVuY3Rpb24oKXtyZXR1cm4oeWk9dC5fZWJfYnRGYWNlX3NldF9tX3BsYW5lXzI9dC5hc20uTmQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saGk9dC5fZWJfYnRGYWNlX19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4oaGk9dC5fZWJfYnRGYWNlX19fZGVzdHJveV9fXzA9dC5hc20uT2QpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZmk9dC5fZWJfYnRWZWN0b3IzQXJyYXlfc2l6ZV8wPWZ1bmN0aW9uKCl7cmV0dXJuKGZpPXQuX2ViX2J0VmVjdG9yM0FycmF5X3NpemVfMD10LmFzbS5QZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxtaT10Ll9lYl9idFZlY3RvcjNBcnJheV9hdF8xPWZ1bmN0aW9uKCl7cmV0dXJuKG1pPXQuX2ViX2J0VmVjdG9yM0FycmF5X2F0XzE9dC5hc20uUWQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYmk9dC5fZWJfYnRWZWN0b3IzQXJyYXlfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihiaT10Ll9lYl9idFZlY3RvcjNBcnJheV9fX2Rlc3Ryb3lfX18wPXQuYXNtLlJkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGdpPXQuX2ViX2J0RmFjZUFycmF5X3NpemVfMD1mdW5jdGlvbigpe3JldHVybihnaT10Ll9lYl9idEZhY2VBcnJheV9zaXplXzA9dC5hc20uU2QpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZGk9dC5fZWJfYnRGYWNlQXJyYXlfYXRfMT1mdW5jdGlvbigpe3JldHVybihkaT10Ll9lYl9idEZhY2VBcnJheV9hdF8xPXQuYXNtLlRkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFdpPXQuX2ViX2J0RmFjZUFycmF5X19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4oV2k9dC5fZWJfYnRGYWNlQXJyYXlfX19kZXN0cm95X19fMD10LmFzbS5VZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxDaT10Ll9lYl9idENvbnZleFBvbHloZWRyb25fZ2V0X21fdmVydGljZXNfMD1mdW5jdGlvbigpe3JldHVybihDaT10Ll9lYl9idENvbnZleFBvbHloZWRyb25fZ2V0X21fdmVydGljZXNfMD10LmFzbS5WZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxqaT10Ll9lYl9idENvbnZleFBvbHloZWRyb25fc2V0X21fdmVydGljZXNfMT1mdW5jdGlvbigpe3JldHVybihqaT10Ll9lYl9idENvbnZleFBvbHloZWRyb25fc2V0X21fdmVydGljZXNfMT10LmFzbS5XZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx2aT10Ll9lYl9idENvbnZleFBvbHloZWRyb25fZ2V0X21fZmFjZXNfMD1mdW5jdGlvbigpe3JldHVybih2aT10Ll9lYl9idENvbnZleFBvbHloZWRyb25fZ2V0X21fZmFjZXNfMD10LmFzbS5YZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxEaT10Ll9lYl9idENvbnZleFBvbHloZWRyb25fc2V0X21fZmFjZXNfMT1mdW5jdGlvbigpe3JldHVybihEaT10Ll9lYl9idENvbnZleFBvbHloZWRyb25fc2V0X21fZmFjZXNfMT10LmFzbS5ZZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxSaT10Ll9lYl9idENvbnZleFBvbHloZWRyb25fX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihSaT10Ll9lYl9idENvbnZleFBvbHloZWRyb25fX19kZXN0cm95X19fMD10LmFzbS5aZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxTaT10Ll9lYl9idENvbnZleEh1bGxTaGFwZV9idENvbnZleEh1bGxTaGFwZV8wPWZ1bmN0aW9uKCl7cmV0dXJuKFNpPXQuX2ViX2J0Q29udmV4SHVsbFNoYXBlX2J0Q29udmV4SHVsbFNoYXBlXzA9dC5hc20uX2QpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sSWk9dC5fZWJfYnRDb252ZXhIdWxsU2hhcGVfYnRDb252ZXhIdWxsU2hhcGVfMT1mdW5jdGlvbigpe3JldHVybihJaT10Ll9lYl9idENvbnZleEh1bGxTaGFwZV9idENvbnZleEh1bGxTaGFwZV8xPXQuYXNtLiRkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE9pPXQuX2ViX2J0Q29udmV4SHVsbFNoYXBlX2J0Q29udmV4SHVsbFNoYXBlXzI9ZnVuY3Rpb24oKXtyZXR1cm4oT2k9dC5fZWJfYnRDb252ZXhIdWxsU2hhcGVfYnRDb252ZXhIdWxsU2hhcGVfMj10LmFzbS5hZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxCaT10Ll9lYl9idENvbnZleEh1bGxTaGFwZV9hZGRQb2ludF8xPWZ1bmN0aW9uKCl7cmV0dXJuKEJpPXQuX2ViX2J0Q29udmV4SHVsbFNoYXBlX2FkZFBvaW50XzE9dC5hc20uYmUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sUGk9dC5fZWJfYnRDb252ZXhIdWxsU2hhcGVfYWRkUG9pbnRfMj1mdW5jdGlvbigpe3JldHVybihQaT10Ll9lYl9idENvbnZleEh1bGxTaGFwZV9hZGRQb2ludF8yPXQuYXNtLmNlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHhpPXQuX2ViX2J0Q29udmV4SHVsbFNoYXBlX3NldE1hcmdpbl8xPWZ1bmN0aW9uKCl7cmV0dXJuKHhpPXQuX2ViX2J0Q29udmV4SHVsbFNoYXBlX3NldE1hcmdpbl8xPXQuYXNtLmRlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFRpPXQuX2ViX2J0Q29udmV4SHVsbFNoYXBlX2dldE1hcmdpbl8wPWZ1bmN0aW9uKCl7cmV0dXJuKFRpPXQuX2ViX2J0Q29udmV4SHVsbFNoYXBlX2dldE1hcmdpbl8wPXQuYXNtLmVlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEZpPXQuX2ViX2J0Q29udmV4SHVsbFNoYXBlX2dldE51bVZlcnRpY2VzXzA9ZnVuY3Rpb24oKXtyZXR1cm4oRmk9dC5fZWJfYnRDb252ZXhIdWxsU2hhcGVfZ2V0TnVtVmVydGljZXNfMD10LmFzbS5mZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxNaT10Ll9lYl9idENvbnZleEh1bGxTaGFwZV9pbml0aWFsaXplUG9seWhlZHJhbEZlYXR1cmVzXzE9ZnVuY3Rpb24oKXtyZXR1cm4oTWk9dC5fZWJfYnRDb252ZXhIdWxsU2hhcGVfaW5pdGlhbGl6ZVBvbHloZWRyYWxGZWF0dXJlc18xPXQuYXNtLmdlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEFpPXQuX2ViX2J0Q29udmV4SHVsbFNoYXBlX3JlY2FsY0xvY2FsQWFiYl8wPWZ1bmN0aW9uKCl7cmV0dXJuKEFpPXQuX2ViX2J0Q29udmV4SHVsbFNoYXBlX3JlY2FsY0xvY2FsQWFiYl8wPXQuYXNtLmhlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHdpPXQuX2ViX2J0Q29udmV4SHVsbFNoYXBlX2dldENvbnZleFBvbHloZWRyb25fMD1mdW5jdGlvbigpe3JldHVybih3aT10Ll9lYl9idENvbnZleEh1bGxTaGFwZV9nZXRDb252ZXhQb2x5aGVkcm9uXzA9dC5hc20uaWUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sa2k9dC5fZWJfYnRDb252ZXhIdWxsU2hhcGVfc2V0TG9jYWxTY2FsaW5nXzE9ZnVuY3Rpb24oKXtyZXR1cm4oa2k9dC5fZWJfYnRDb252ZXhIdWxsU2hhcGVfc2V0TG9jYWxTY2FsaW5nXzE9dC5hc20uamUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sTGk9dC5fZWJfYnRDb252ZXhIdWxsU2hhcGVfZ2V0TG9jYWxTY2FsaW5nXzA9ZnVuY3Rpb24oKXtyZXR1cm4oTGk9dC5fZWJfYnRDb252ZXhIdWxsU2hhcGVfZ2V0TG9jYWxTY2FsaW5nXzA9dC5hc20ua2UpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sSGk9dC5fZWJfYnRDb252ZXhIdWxsU2hhcGVfY2FsY3VsYXRlTG9jYWxJbmVydGlhXzI9ZnVuY3Rpb24oKXtyZXR1cm4oSGk9dC5fZWJfYnRDb252ZXhIdWxsU2hhcGVfY2FsY3VsYXRlTG9jYWxJbmVydGlhXzI9dC5hc20ubGUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sWWk9dC5fZWJfYnRDb252ZXhIdWxsU2hhcGVfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihZaT10Ll9lYl9idENvbnZleEh1bGxTaGFwZV9fX2Rlc3Ryb3lfX18wPXQuYXNtLm1lKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFZpPXQuX2ViX2J0RGVmYXVsdENvbGxpc2lvbkNvbnN0cnVjdGlvbkluZm9fYnREZWZhdWx0Q29sbGlzaW9uQ29uc3RydWN0aW9uSW5mb18wPWZ1bmN0aW9uKCl7cmV0dXJuKFZpPXQuX2ViX2J0RGVmYXVsdENvbGxpc2lvbkNvbnN0cnVjdGlvbkluZm9fYnREZWZhdWx0Q29sbGlzaW9uQ29uc3RydWN0aW9uSW5mb18wPXQuYXNtLm5lKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFFpPXQuX2ViX2J0RGVmYXVsdENvbGxpc2lvbkNvbnN0cnVjdGlvbkluZm9fX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihRaT10Ll9lYl9idERlZmF1bHRDb2xsaXNpb25Db25zdHJ1Y3Rpb25JbmZvX19fZGVzdHJveV9fXzA9dC5hc20ub2UpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sRWk9dC5fZWJfYnREZWZhdWx0Q29sbGlzaW9uQ29uZmlndXJhdGlvbl9idERlZmF1bHRDb2xsaXNpb25Db25maWd1cmF0aW9uXzA9ZnVuY3Rpb24oKXtyZXR1cm4oRWk9dC5fZWJfYnREZWZhdWx0Q29sbGlzaW9uQ29uZmlndXJhdGlvbl9idERlZmF1bHRDb2xsaXNpb25Db25maWd1cmF0aW9uXzA9dC5hc20ucGUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sWGk9dC5fZWJfYnREZWZhdWx0Q29sbGlzaW9uQ29uZmlndXJhdGlvbl9idERlZmF1bHRDb2xsaXNpb25Db25maWd1cmF0aW9uXzE9ZnVuY3Rpb24oKXtyZXR1cm4oWGk9dC5fZWJfYnREZWZhdWx0Q29sbGlzaW9uQ29uZmlndXJhdGlvbl9idERlZmF1bHRDb2xsaXNpb25Db25maWd1cmF0aW9uXzE9dC5hc20ucWUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sVWk9dC5fZWJfYnREZWZhdWx0Q29sbGlzaW9uQ29uZmlndXJhdGlvbl9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKFVpPXQuX2ViX2J0RGVmYXVsdENvbGxpc2lvbkNvbmZpZ3VyYXRpb25fX19kZXN0cm95X19fMD10LmFzbS5yZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxHaT10Ll9lYl9idFBlcnNpc3RlbnRNYW5pZm9sZF9idFBlcnNpc3RlbnRNYW5pZm9sZF8wPWZ1bmN0aW9uKCl7cmV0dXJuKEdpPXQuX2ViX2J0UGVyc2lzdGVudE1hbmlmb2xkX2J0UGVyc2lzdGVudE1hbmlmb2xkXzA9dC5hc20uc2UpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0semk9dC5fZWJfYnRQZXJzaXN0ZW50TWFuaWZvbGRfZ2V0Qm9keTBfMD1mdW5jdGlvbigpe3JldHVybih6aT10Ll9lYl9idFBlcnNpc3RlbnRNYW5pZm9sZF9nZXRCb2R5MF8wPXQuYXNtLnRlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE5pPXQuX2ViX2J0UGVyc2lzdGVudE1hbmlmb2xkX2dldEJvZHkxXzA9ZnVuY3Rpb24oKXtyZXR1cm4oTmk9dC5fZWJfYnRQZXJzaXN0ZW50TWFuaWZvbGRfZ2V0Qm9keTFfMD10LmFzbS51ZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxxaT10Ll9lYl9idFBlcnNpc3RlbnRNYW5pZm9sZF9nZXROdW1Db250YWN0c18wPWZ1bmN0aW9uKCl7cmV0dXJuKHFpPXQuX2ViX2J0UGVyc2lzdGVudE1hbmlmb2xkX2dldE51bUNvbnRhY3RzXzA9dC5hc20udmUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sWmk9dC5fZWJfYnRQZXJzaXN0ZW50TWFuaWZvbGRfZ2V0Q29udGFjdFBvaW50XzE9ZnVuY3Rpb24oKXtyZXR1cm4oWmk9dC5fZWJfYnRQZXJzaXN0ZW50TWFuaWZvbGRfZ2V0Q29udGFjdFBvaW50XzE9dC5hc20ud2UpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sS2k9dC5fZWJfYnRQZXJzaXN0ZW50TWFuaWZvbGRfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihLaT10Ll9lYl9idFBlcnNpc3RlbnRNYW5pZm9sZF9fX2Rlc3Ryb3lfX18wPXQuYXNtLnhlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LCRpPXQuX2ViX2J0Q29sbGlzaW9uRGlzcGF0Y2hlcl9idENvbGxpc2lvbkRpc3BhdGNoZXJfMT1mdW5jdGlvbigpe3JldHVybigkaT10Ll9lYl9idENvbGxpc2lvbkRpc3BhdGNoZXJfYnRDb2xsaXNpb25EaXNwYXRjaGVyXzE9dC5hc20ueWUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sSmk9dC5fZWJfYnRDb2xsaXNpb25EaXNwYXRjaGVyX2dldE51bU1hbmlmb2xkc18wPWZ1bmN0aW9uKCl7cmV0dXJuKEppPXQuX2ViX2J0Q29sbGlzaW9uRGlzcGF0Y2hlcl9nZXROdW1NYW5pZm9sZHNfMD10LmFzbS56ZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0YT10Ll9lYl9idENvbGxpc2lvbkRpc3BhdGNoZXJfZ2V0TWFuaWZvbGRCeUluZGV4SW50ZXJuYWxfMT1mdW5jdGlvbigpe3JldHVybih0YT10Ll9lYl9idENvbGxpc2lvbkRpc3BhdGNoZXJfZ2V0TWFuaWZvbGRCeUluZGV4SW50ZXJuYWxfMT10LmFzbS5BZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxlYT10Ll9lYl9idENvbGxpc2lvbkRpc3BhdGNoZXJfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihlYT10Ll9lYl9idENvbGxpc2lvbkRpc3BhdGNoZXJfX19kZXN0cm95X19fMD10LmFzbS5CZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxvYT10Ll9lYl9idE92ZXJsYXBwaW5nUGFpckNhbGxiYWNrX19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4ob2E9dC5fZWJfYnRPdmVybGFwcGluZ1BhaXJDYWxsYmFja19fX2Rlc3Ryb3lfX18wPXQuYXNtLkNlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG5hPXQuX2ViX2J0T3ZlcmxhcHBpbmdQYWlyQ2FjaGVfc2V0SW50ZXJuYWxHaG9zdFBhaXJDYWxsYmFja18xPWZ1bmN0aW9uKCl7cmV0dXJuKG5hPXQuX2ViX2J0T3ZlcmxhcHBpbmdQYWlyQ2FjaGVfc2V0SW50ZXJuYWxHaG9zdFBhaXJDYWxsYmFja18xPXQuYXNtLkRlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHJhPXQuX2ViX2J0T3ZlcmxhcHBpbmdQYWlyQ2FjaGVfZ2V0TnVtT3ZlcmxhcHBpbmdQYWlyc18wPWZ1bmN0aW9uKCl7cmV0dXJuKHJhPXQuX2ViX2J0T3ZlcmxhcHBpbmdQYWlyQ2FjaGVfZ2V0TnVtT3ZlcmxhcHBpbmdQYWlyc18wPXQuYXNtLkVlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LF9hPXQuX2ViX2J0T3ZlcmxhcHBpbmdQYWlyQ2FjaGVfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihfYT10Ll9lYl9idE92ZXJsYXBwaW5nUGFpckNhY2hlX19fZGVzdHJveV9fXzA9dC5hc20uRmUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saWE9dC5fZWJfYnRCcm9hZHBoYXNlSW50ZXJmYWNlX2dldE92ZXJsYXBwaW5nUGFpckNhY2hlXzA9ZnVuY3Rpb24oKXtyZXR1cm4oaWE9dC5fZWJfYnRCcm9hZHBoYXNlSW50ZXJmYWNlX2dldE92ZXJsYXBwaW5nUGFpckNhY2hlXzA9dC5hc20uR2UpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYWE9dC5fZWJfYnRCcm9hZHBoYXNlSW50ZXJmYWNlX19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4oYWE9dC5fZWJfYnRCcm9hZHBoYXNlSW50ZXJmYWNlX19fZGVzdHJveV9fXzA9dC5hc20uSGUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sc2E9dC5fZWJfYnRDb2xsaXNpb25Db25maWd1cmF0aW9uX19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4oc2E9dC5fZWJfYnRDb2xsaXNpb25Db25maWd1cmF0aW9uX19fZGVzdHJveV9fXzA9dC5hc20uSWUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0scGE9dC5fZWJfYnREYnZ0QnJvYWRwaGFzZV9idERidnRCcm9hZHBoYXNlXzA9ZnVuY3Rpb24oKXtyZXR1cm4ocGE9dC5fZWJfYnREYnZ0QnJvYWRwaGFzZV9idERidnRCcm9hZHBoYXNlXzA9dC5hc20uSmUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbGE9dC5fZWJfYnREYnZ0QnJvYWRwaGFzZV9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKGxhPXQuX2ViX2J0RGJ2dEJyb2FkcGhhc2VfX19kZXN0cm95X19fMD10LmFzbS5LZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx1YT10Ll9lYl9idEJyb2FkcGhhc2VQcm94eV9nZXRfbV9jb2xsaXNpb25GaWx0ZXJHcm91cF8wPWZ1bmN0aW9uKCl7cmV0dXJuKHVhPXQuX2ViX2J0QnJvYWRwaGFzZVByb3h5X2dldF9tX2NvbGxpc2lvbkZpbHRlckdyb3VwXzA9dC5hc20uTGUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sY2E9dC5fZWJfYnRCcm9hZHBoYXNlUHJveHlfc2V0X21fY29sbGlzaW9uRmlsdGVyR3JvdXBfMT1mdW5jdGlvbigpe3JldHVybihjYT10Ll9lYl9idEJyb2FkcGhhc2VQcm94eV9zZXRfbV9jb2xsaXNpb25GaWx0ZXJHcm91cF8xPXQuYXNtLk1lKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHlhPXQuX2ViX2J0QnJvYWRwaGFzZVByb3h5X2dldF9tX2NvbGxpc2lvbkZpbHRlck1hc2tfMD1mdW5jdGlvbigpe3JldHVybih5YT10Ll9lYl9idEJyb2FkcGhhc2VQcm94eV9nZXRfbV9jb2xsaXNpb25GaWx0ZXJNYXNrXzA9dC5hc20uTmUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saGE9dC5fZWJfYnRCcm9hZHBoYXNlUHJveHlfc2V0X21fY29sbGlzaW9uRmlsdGVyTWFza18xPWZ1bmN0aW9uKCl7cmV0dXJuKGhhPXQuX2ViX2J0QnJvYWRwaGFzZVByb3h5X3NldF9tX2NvbGxpc2lvbkZpbHRlck1hc2tfMT10LmFzbS5PZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxmYT10Ll9lYl9idEJyb2FkcGhhc2VQcm94eV9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKGZhPXQuX2ViX2J0QnJvYWRwaGFzZVByb3h5X19fZGVzdHJveV9fXzA9dC5hc20uUGUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbWE9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb18zPWZ1bmN0aW9uKCl7cmV0dXJuKG1hPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fMz10LmFzbS5RZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxiYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvXzQ9ZnVuY3Rpb24oKXtyZXR1cm4oYmE9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb180PXQuYXNtLlJlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGdhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19nZXRfbV9saW5lYXJEYW1waW5nXzA9ZnVuY3Rpb24oKXtyZXR1cm4oZ2E9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX2dldF9tX2xpbmVhckRhbXBpbmdfMD10LmFzbS5TZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxkYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fc2V0X21fbGluZWFyRGFtcGluZ18xPWZ1bmN0aW9uKCl7cmV0dXJuKGRhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19zZXRfbV9saW5lYXJEYW1waW5nXzE9dC5hc20uVGUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sV2E9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX2dldF9tX2FuZ3VsYXJEYW1waW5nXzA9ZnVuY3Rpb24oKXtyZXR1cm4oV2E9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX2dldF9tX2FuZ3VsYXJEYW1waW5nXzA9dC5hc20uVWUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sQ2E9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX3NldF9tX2FuZ3VsYXJEYW1waW5nXzE9ZnVuY3Rpb24oKXtyZXR1cm4oQ2E9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX3NldF9tX2FuZ3VsYXJEYW1waW5nXzE9dC5hc20uVmUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0samE9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX2dldF9tX2ZyaWN0aW9uXzA9ZnVuY3Rpb24oKXtyZXR1cm4oamE9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX2dldF9tX2ZyaWN0aW9uXzA9dC5hc20uV2UpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdmE9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX3NldF9tX2ZyaWN0aW9uXzE9ZnVuY3Rpb24oKXtyZXR1cm4odmE9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX3NldF9tX2ZyaWN0aW9uXzE9dC5hc20uWGUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sRGE9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX2dldF9tX3JvbGxpbmdGcmljdGlvbl8wPWZ1bmN0aW9uKCl7cmV0dXJuKERhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19nZXRfbV9yb2xsaW5nRnJpY3Rpb25fMD10LmFzbS5ZZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxSYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fc2V0X21fcm9sbGluZ0ZyaWN0aW9uXzE9ZnVuY3Rpb24oKXtyZXR1cm4oUmE9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX3NldF9tX3JvbGxpbmdGcmljdGlvbl8xPXQuYXNtLlplKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFNhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19nZXRfbV9yZXN0aXR1dGlvbl8wPWZ1bmN0aW9uKCl7cmV0dXJuKFNhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19nZXRfbV9yZXN0aXR1dGlvbl8wPXQuYXNtLl9lKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LElhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19zZXRfbV9yZXN0aXR1dGlvbl8xPWZ1bmN0aW9uKCl7cmV0dXJuKElhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19zZXRfbV9yZXN0aXR1dGlvbl8xPXQuYXNtLiRlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE9hPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19nZXRfbV9saW5lYXJTbGVlcGluZ1RocmVzaG9sZF8wPWZ1bmN0aW9uKCl7cmV0dXJuKE9hPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19nZXRfbV9saW5lYXJTbGVlcGluZ1RocmVzaG9sZF8wPXQuYXNtLmFmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEJhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19zZXRfbV9saW5lYXJTbGVlcGluZ1RocmVzaG9sZF8xPWZ1bmN0aW9uKCl7cmV0dXJuKEJhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19zZXRfbV9saW5lYXJTbGVlcGluZ1RocmVzaG9sZF8xPXQuYXNtLmJmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFBhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19nZXRfbV9hbmd1bGFyU2xlZXBpbmdUaHJlc2hvbGRfMD1mdW5jdGlvbigpe3JldHVybihQYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fZ2V0X21fYW5ndWxhclNsZWVwaW5nVGhyZXNob2xkXzA9dC5hc20uY2YpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0seGE9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX3NldF9tX2FuZ3VsYXJTbGVlcGluZ1RocmVzaG9sZF8xPWZ1bmN0aW9uKCl7cmV0dXJuKHhhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19zZXRfbV9hbmd1bGFyU2xlZXBpbmdUaHJlc2hvbGRfMT10LmFzbS5kZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxUYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fZ2V0X21fYWRkaXRpb25hbERhbXBpbmdfMD1mdW5jdGlvbigpe3JldHVybihUYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fZ2V0X21fYWRkaXRpb25hbERhbXBpbmdfMD10LmFzbS5lZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxGYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fc2V0X21fYWRkaXRpb25hbERhbXBpbmdfMT1mdW5jdGlvbigpe3JldHVybihGYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fc2V0X21fYWRkaXRpb25hbERhbXBpbmdfMT10LmFzbS5mZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxNYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fZ2V0X21fYWRkaXRpb25hbERhbXBpbmdGYWN0b3JfMD1mdW5jdGlvbigpe3JldHVybihNYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fZ2V0X21fYWRkaXRpb25hbERhbXBpbmdGYWN0b3JfMD10LmFzbS5nZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxBYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fc2V0X21fYWRkaXRpb25hbERhbXBpbmdGYWN0b3JfMT1mdW5jdGlvbigpe3JldHVybihBYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fc2V0X21fYWRkaXRpb25hbERhbXBpbmdGYWN0b3JfMT10LmFzbS5oZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx3YT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fZ2V0X21fYWRkaXRpb25hbExpbmVhckRhbXBpbmdUaHJlc2hvbGRTcXJfMD1mdW5jdGlvbigpe3JldHVybih3YT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fZ2V0X21fYWRkaXRpb25hbExpbmVhckRhbXBpbmdUaHJlc2hvbGRTcXJfMD10LmFzbS5qZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxrYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fc2V0X21fYWRkaXRpb25hbExpbmVhckRhbXBpbmdUaHJlc2hvbGRTcXJfMT1mdW5jdGlvbigpe3JldHVybihrYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fc2V0X21fYWRkaXRpb25hbExpbmVhckRhbXBpbmdUaHJlc2hvbGRTcXJfMT10LmFzbS5rZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxMYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fZ2V0X21fYWRkaXRpb25hbEFuZ3VsYXJEYW1waW5nVGhyZXNob2xkU3FyXzA9ZnVuY3Rpb24oKXtyZXR1cm4oTGE9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX2dldF9tX2FkZGl0aW9uYWxBbmd1bGFyRGFtcGluZ1RocmVzaG9sZFNxcl8wPXQuYXNtLmxmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEhhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19zZXRfbV9hZGRpdGlvbmFsQW5ndWxhckRhbXBpbmdUaHJlc2hvbGRTcXJfMT1mdW5jdGlvbigpe3JldHVybihIYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fc2V0X21fYWRkaXRpb25hbEFuZ3VsYXJEYW1waW5nVGhyZXNob2xkU3FyXzE9dC5hc20ubWYpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sWWE9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX2dldF9tX2FkZGl0aW9uYWxBbmd1bGFyRGFtcGluZ0ZhY3Rvcl8wPWZ1bmN0aW9uKCl7cmV0dXJuKFlhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19nZXRfbV9hZGRpdGlvbmFsQW5ndWxhckRhbXBpbmdGYWN0b3JfMD10LmFzbS5uZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxWYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fc2V0X21fYWRkaXRpb25hbEFuZ3VsYXJEYW1waW5nRmFjdG9yXzE9ZnVuY3Rpb24oKXtyZXR1cm4oVmE9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX3NldF9tX2FkZGl0aW9uYWxBbmd1bGFyRGFtcGluZ0ZhY3Rvcl8xPXQuYXNtLm9mKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFFhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKFFhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19fX2Rlc3Ryb3lfX18wPXQuYXNtLnBmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEVhPXQuX2ViX2J0UmlnaWRCb2R5X2J0UmlnaWRCb2R5XzE9ZnVuY3Rpb24oKXtyZXR1cm4oRWE9dC5fZWJfYnRSaWdpZEJvZHlfYnRSaWdpZEJvZHlfMT10LmFzbS5xZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxYYT10Ll9lYl9idFJpZ2lkQm9keV9nZXRDZW50ZXJPZk1hc3NUcmFuc2Zvcm1fMD1mdW5jdGlvbigpe3JldHVybihYYT10Ll9lYl9idFJpZ2lkQm9keV9nZXRDZW50ZXJPZk1hc3NUcmFuc2Zvcm1fMD10LmFzbS5yZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxVYT10Ll9lYl9idFJpZ2lkQm9keV9zZXRDZW50ZXJPZk1hc3NUcmFuc2Zvcm1fMT1mdW5jdGlvbigpe3JldHVybihVYT10Ll9lYl9idFJpZ2lkQm9keV9zZXRDZW50ZXJPZk1hc3NUcmFuc2Zvcm1fMT10LmFzbS5zZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxHYT10Ll9lYl9idFJpZ2lkQm9keV9zZXRTbGVlcGluZ1RocmVzaG9sZHNfMj1mdW5jdGlvbigpe3JldHVybihHYT10Ll9lYl9idFJpZ2lkQm9keV9zZXRTbGVlcGluZ1RocmVzaG9sZHNfMj10LmFzbS50ZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx6YT10Ll9lYl9idFJpZ2lkQm9keV9nZXRMaW5lYXJEYW1waW5nXzA9ZnVuY3Rpb24oKXtyZXR1cm4oemE9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0TGluZWFyRGFtcGluZ18wPXQuYXNtLnVmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE5hPXQuX2ViX2J0UmlnaWRCb2R5X2dldEFuZ3VsYXJEYW1waW5nXzA9ZnVuY3Rpb24oKXtyZXR1cm4oTmE9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0QW5ndWxhckRhbXBpbmdfMD10LmFzbS52ZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxxYT10Ll9lYl9idFJpZ2lkQm9keV9zZXREYW1waW5nXzI9ZnVuY3Rpb24oKXtyZXR1cm4ocWE9dC5fZWJfYnRSaWdpZEJvZHlfc2V0RGFtcGluZ18yPXQuYXNtLndmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFphPXQuX2ViX2J0UmlnaWRCb2R5X3NldE1hc3NQcm9wc18yPWZ1bmN0aW9uKCl7cmV0dXJuKFphPXQuX2ViX2J0UmlnaWRCb2R5X3NldE1hc3NQcm9wc18yPXQuYXNtLnhmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEthPXQuX2ViX2J0UmlnaWRCb2R5X2dldExpbmVhckZhY3Rvcl8wPWZ1bmN0aW9uKCl7cmV0dXJuKEthPXQuX2ViX2J0UmlnaWRCb2R5X2dldExpbmVhckZhY3Rvcl8wPXQuYXNtLnlmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LCRhPXQuX2ViX2J0UmlnaWRCb2R5X3NldExpbmVhckZhY3Rvcl8xPWZ1bmN0aW9uKCl7cmV0dXJuKCRhPXQuX2ViX2J0UmlnaWRCb2R5X3NldExpbmVhckZhY3Rvcl8xPXQuYXNtLnpmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEphPXQuX2ViX2J0UmlnaWRCb2R5X2FwcGx5VG9ycXVlXzE9ZnVuY3Rpb24oKXtyZXR1cm4oSmE9dC5fZWJfYnRSaWdpZEJvZHlfYXBwbHlUb3JxdWVfMT10LmFzbS5BZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0cz10Ll9lYl9idFJpZ2lkQm9keV9hcHBseUxvY2FsVG9ycXVlXzE9ZnVuY3Rpb24oKXtyZXR1cm4odHM9dC5fZWJfYnRSaWdpZEJvZHlfYXBwbHlMb2NhbFRvcnF1ZV8xPXQuYXNtLkJmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGVzPXQuX2ViX2J0UmlnaWRCb2R5X2FwcGx5Rm9yY2VfMj1mdW5jdGlvbigpe3JldHVybihlcz10Ll9lYl9idFJpZ2lkQm9keV9hcHBseUZvcmNlXzI9dC5hc20uQ2YpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sb3M9dC5fZWJfYnRSaWdpZEJvZHlfYXBwbHlDZW50cmFsRm9yY2VfMT1mdW5jdGlvbigpe3JldHVybihvcz10Ll9lYl9idFJpZ2lkQm9keV9hcHBseUNlbnRyYWxGb3JjZV8xPXQuYXNtLkRmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG5zPXQuX2ViX2J0UmlnaWRCb2R5X2FwcGx5Q2VudHJhbExvY2FsRm9yY2VfMT1mdW5jdGlvbigpe3JldHVybihucz10Ll9lYl9idFJpZ2lkQm9keV9hcHBseUNlbnRyYWxMb2NhbEZvcmNlXzE9dC5hc20uRWYpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0scnM9dC5fZWJfYnRSaWdpZEJvZHlfYXBwbHlUb3JxdWVJbXB1bHNlXzE9ZnVuY3Rpb24oKXtyZXR1cm4ocnM9dC5fZWJfYnRSaWdpZEJvZHlfYXBwbHlUb3JxdWVJbXB1bHNlXzE9dC5hc20uRmYpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sX3M9dC5fZWJfYnRSaWdpZEJvZHlfYXBwbHlJbXB1bHNlXzI9ZnVuY3Rpb24oKXtyZXR1cm4oX3M9dC5fZWJfYnRSaWdpZEJvZHlfYXBwbHlJbXB1bHNlXzI9dC5hc20uR2YpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saXM9dC5fZWJfYnRSaWdpZEJvZHlfYXBwbHlDZW50cmFsSW1wdWxzZV8xPWZ1bmN0aW9uKCl7cmV0dXJuKGlzPXQuX2ViX2J0UmlnaWRCb2R5X2FwcGx5Q2VudHJhbEltcHVsc2VfMT10LmFzbS5IZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhcz10Ll9lYl9idFJpZ2lkQm9keV91cGRhdGVJbmVydGlhVGVuc29yXzA9ZnVuY3Rpb24oKXtyZXR1cm4oYXM9dC5fZWJfYnRSaWdpZEJvZHlfdXBkYXRlSW5lcnRpYVRlbnNvcl8wPXQuYXNtLklmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHNzPXQuX2ViX2J0UmlnaWRCb2R5X2dldExpbmVhclZlbG9jaXR5XzA9ZnVuY3Rpb24oKXtyZXR1cm4oc3M9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0TGluZWFyVmVsb2NpdHlfMD10LmFzbS5KZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxwcz10Ll9lYl9idFJpZ2lkQm9keV9nZXRBbmd1bGFyVmVsb2NpdHlfMD1mdW5jdGlvbigpe3JldHVybihwcz10Ll9lYl9idFJpZ2lkQm9keV9nZXRBbmd1bGFyVmVsb2NpdHlfMD10LmFzbS5LZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxscz10Ll9lYl9idFJpZ2lkQm9keV9zZXRMaW5lYXJWZWxvY2l0eV8xPWZ1bmN0aW9uKCl7cmV0dXJuKGxzPXQuX2ViX2J0UmlnaWRCb2R5X3NldExpbmVhclZlbG9jaXR5XzE9dC5hc20uTGYpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdXM9dC5fZWJfYnRSaWdpZEJvZHlfc2V0QW5ndWxhclZlbG9jaXR5XzE9ZnVuY3Rpb24oKXtyZXR1cm4odXM9dC5fZWJfYnRSaWdpZEJvZHlfc2V0QW5ndWxhclZlbG9jaXR5XzE9dC5hc20uTWYpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sY3M9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0TW90aW9uU3RhdGVfMD1mdW5jdGlvbigpe3JldHVybihjcz10Ll9lYl9idFJpZ2lkQm9keV9nZXRNb3Rpb25TdGF0ZV8wPXQuYXNtLk5mKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHlzPXQuX2ViX2J0UmlnaWRCb2R5X3NldE1vdGlvblN0YXRlXzE9ZnVuY3Rpb24oKXtyZXR1cm4oeXM9dC5fZWJfYnRSaWdpZEJvZHlfc2V0TW90aW9uU3RhdGVfMT10LmFzbS5PZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxocz10Ll9lYl9idFJpZ2lkQm9keV9nZXRBbmd1bGFyRmFjdG9yXzA9ZnVuY3Rpb24oKXtyZXR1cm4oaHM9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0QW5ndWxhckZhY3Rvcl8wPXQuYXNtLlBmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGZzPXQuX2ViX2J0UmlnaWRCb2R5X3NldEFuZ3VsYXJGYWN0b3JfMT1mdW5jdGlvbigpe3JldHVybihmcz10Ll9lYl9idFJpZ2lkQm9keV9zZXRBbmd1bGFyRmFjdG9yXzE9dC5hc20uUWYpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbXM9dC5fZWJfYnRSaWdpZEJvZHlfdXBjYXN0XzE9ZnVuY3Rpb24oKXtyZXR1cm4obXM9dC5fZWJfYnRSaWdpZEJvZHlfdXBjYXN0XzE9dC5hc20uUmYpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYnM9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0QWFiYl8yPWZ1bmN0aW9uKCl7cmV0dXJuKGJzPXQuX2ViX2J0UmlnaWRCb2R5X2dldEFhYmJfMj10LmFzbS5TZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxncz10Ll9lYl9idFJpZ2lkQm9keV9hcHBseUdyYXZpdHlfMD1mdW5jdGlvbigpe3JldHVybihncz10Ll9lYl9idFJpZ2lkQm9keV9hcHBseUdyYXZpdHlfMD10LmFzbS5UZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxkcz10Ll9lYl9idFJpZ2lkQm9keV9nZXRHcmF2aXR5XzA9ZnVuY3Rpb24oKXtyZXR1cm4oZHM9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0R3Jhdml0eV8wPXQuYXNtLlVmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFdzPXQuX2ViX2J0UmlnaWRCb2R5X3NldEdyYXZpdHlfMT1mdW5jdGlvbigpe3JldHVybihXcz10Ll9lYl9idFJpZ2lkQm9keV9zZXRHcmF2aXR5XzE9dC5hc20uVmYpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sQ3M9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0QnJvYWRwaGFzZVByb3h5XzA9ZnVuY3Rpb24oKXtyZXR1cm4oQ3M9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0QnJvYWRwaGFzZVByb3h5XzA9dC5hc20uV2YpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sanM9dC5fZWJfYnRSaWdpZEJvZHlfY2xlYXJGb3JjZXNfMD1mdW5jdGlvbigpe3JldHVybihqcz10Ll9lYl9idFJpZ2lkQm9keV9jbGVhckZvcmNlc18wPXQuYXNtLlhmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHZzPXQuX2ViX2J0UmlnaWRCb2R5X3NldEFuaXNvdHJvcGljRnJpY3Rpb25fMj1mdW5jdGlvbigpe3JldHVybih2cz10Ll9lYl9idFJpZ2lkQm9keV9zZXRBbmlzb3Ryb3BpY0ZyaWN0aW9uXzI9dC5hc20uWWYpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sRHM9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0Q29sbGlzaW9uU2hhcGVfMD1mdW5jdGlvbigpe3JldHVybihEcz10Ll9lYl9idFJpZ2lkQm9keV9nZXRDb2xsaXNpb25TaGFwZV8wPXQuYXNtLlpmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFJzPXQuX2ViX2J0UmlnaWRCb2R5X3NldENvbnRhY3RQcm9jZXNzaW5nVGhyZXNob2xkXzE9ZnVuY3Rpb24oKXtyZXR1cm4oUnM9dC5fZWJfYnRSaWdpZEJvZHlfc2V0Q29udGFjdFByb2Nlc3NpbmdUaHJlc2hvbGRfMT10LmFzbS5fZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxTcz10Ll9lYl9idFJpZ2lkQm9keV9zZXRBY3RpdmF0aW9uU3RhdGVfMT1mdW5jdGlvbigpe3JldHVybihTcz10Ll9lYl9idFJpZ2lkQm9keV9zZXRBY3RpdmF0aW9uU3RhdGVfMT10LmFzbS4kZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxJcz10Ll9lYl9idFJpZ2lkQm9keV9mb3JjZUFjdGl2YXRpb25TdGF0ZV8xPWZ1bmN0aW9uKCl7cmV0dXJuKElzPXQuX2ViX2J0UmlnaWRCb2R5X2ZvcmNlQWN0aXZhdGlvblN0YXRlXzE9dC5hc20uYWcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sT3M9dC5fZWJfYnRSaWdpZEJvZHlfYWN0aXZhdGVfMD1mdW5jdGlvbigpe3JldHVybihPcz10Ll9lYl9idFJpZ2lkQm9keV9hY3RpdmF0ZV8wPXQuYXNtLmJnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEJzPXQuX2ViX2J0UmlnaWRCb2R5X2FjdGl2YXRlXzE9ZnVuY3Rpb24oKXtyZXR1cm4oQnM9dC5fZWJfYnRSaWdpZEJvZHlfYWN0aXZhdGVfMT10LmFzbS5jZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxQcz10Ll9lYl9idFJpZ2lkQm9keV9pc0FjdGl2ZV8wPWZ1bmN0aW9uKCl7cmV0dXJuKFBzPXQuX2ViX2J0UmlnaWRCb2R5X2lzQWN0aXZlXzA9dC5hc20uZGcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0seHM9dC5fZWJfYnRSaWdpZEJvZHlfaXNLaW5lbWF0aWNPYmplY3RfMD1mdW5jdGlvbigpe3JldHVybih4cz10Ll9lYl9idFJpZ2lkQm9keV9pc0tpbmVtYXRpY09iamVjdF8wPXQuYXNtLmVnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFRzPXQuX2ViX2J0UmlnaWRCb2R5X2lzU3RhdGljT2JqZWN0XzA9ZnVuY3Rpb24oKXtyZXR1cm4oVHM9dC5fZWJfYnRSaWdpZEJvZHlfaXNTdGF0aWNPYmplY3RfMD10LmFzbS5mZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxGcz10Ll9lYl9idFJpZ2lkQm9keV9pc1N0YXRpY09yS2luZW1hdGljT2JqZWN0XzA9ZnVuY3Rpb24oKXtyZXR1cm4oRnM9dC5fZWJfYnRSaWdpZEJvZHlfaXNTdGF0aWNPcktpbmVtYXRpY09iamVjdF8wPXQuYXNtLmdnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE1zPXQuX2ViX2J0UmlnaWRCb2R5X2dldFJlc3RpdHV0aW9uXzA9ZnVuY3Rpb24oKXtyZXR1cm4oTXM9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0UmVzdGl0dXRpb25fMD10LmFzbS5oZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxBcz10Ll9lYl9idFJpZ2lkQm9keV9nZXRGcmljdGlvbl8wPWZ1bmN0aW9uKCl7cmV0dXJuKEFzPXQuX2ViX2J0UmlnaWRCb2R5X2dldEZyaWN0aW9uXzA9dC5hc20uaWcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sd3M9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0Um9sbGluZ0ZyaWN0aW9uXzA9ZnVuY3Rpb24oKXtyZXR1cm4od3M9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0Um9sbGluZ0ZyaWN0aW9uXzA9dC5hc20uamcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sa3M9dC5fZWJfYnRSaWdpZEJvZHlfc2V0UmVzdGl0dXRpb25fMT1mdW5jdGlvbigpe3JldHVybihrcz10Ll9lYl9idFJpZ2lkQm9keV9zZXRSZXN0aXR1dGlvbl8xPXQuYXNtLmtnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LExzPXQuX2ViX2J0UmlnaWRCb2R5X3NldEZyaWN0aW9uXzE9ZnVuY3Rpb24oKXtyZXR1cm4oTHM9dC5fZWJfYnRSaWdpZEJvZHlfc2V0RnJpY3Rpb25fMT10LmFzbS5sZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxIcz10Ll9lYl9idFJpZ2lkQm9keV9zZXRSb2xsaW5nRnJpY3Rpb25fMT1mdW5jdGlvbigpe3JldHVybihIcz10Ll9lYl9idFJpZ2lkQm9keV9zZXRSb2xsaW5nRnJpY3Rpb25fMT10LmFzbS5tZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxZcz10Ll9lYl9idFJpZ2lkQm9keV9nZXRXb3JsZFRyYW5zZm9ybV8wPWZ1bmN0aW9uKCl7cmV0dXJuKFlzPXQuX2ViX2J0UmlnaWRCb2R5X2dldFdvcmxkVHJhbnNmb3JtXzA9dC5hc20ubmcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sVnM9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0Q29sbGlzaW9uRmxhZ3NfMD1mdW5jdGlvbigpe3JldHVybihWcz10Ll9lYl9idFJpZ2lkQm9keV9nZXRDb2xsaXNpb25GbGFnc18wPXQuYXNtLm9nKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFFzPXQuX2ViX2J0UmlnaWRCb2R5X3NldENvbGxpc2lvbkZsYWdzXzE9ZnVuY3Rpb24oKXtyZXR1cm4oUXM9dC5fZWJfYnRSaWdpZEJvZHlfc2V0Q29sbGlzaW9uRmxhZ3NfMT10LmFzbS5wZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxFcz10Ll9lYl9idFJpZ2lkQm9keV9zZXRXb3JsZFRyYW5zZm9ybV8xPWZ1bmN0aW9uKCl7cmV0dXJuKEVzPXQuX2ViX2J0UmlnaWRCb2R5X3NldFdvcmxkVHJhbnNmb3JtXzE9dC5hc20ucWcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sWHM9dC5fZWJfYnRSaWdpZEJvZHlfc2V0Q29sbGlzaW9uU2hhcGVfMT1mdW5jdGlvbigpe3JldHVybihYcz10Ll9lYl9idFJpZ2lkQm9keV9zZXRDb2xsaXNpb25TaGFwZV8xPXQuYXNtLnJnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFVzPXQuX2ViX2J0UmlnaWRCb2R5X3NldENjZE1vdGlvblRocmVzaG9sZF8xPWZ1bmN0aW9uKCl7cmV0dXJuKFVzPXQuX2ViX2J0UmlnaWRCb2R5X3NldENjZE1vdGlvblRocmVzaG9sZF8xPXQuYXNtLnNnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEdzPXQuX2ViX2J0UmlnaWRCb2R5X3NldENjZFN3ZXB0U3BoZXJlUmFkaXVzXzE9ZnVuY3Rpb24oKXtyZXR1cm4oR3M9dC5fZWJfYnRSaWdpZEJvZHlfc2V0Q2NkU3dlcHRTcGhlcmVSYWRpdXNfMT10LmFzbS50ZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx6cz10Ll9lYl9idFJpZ2lkQm9keV9nZXRVc2VySW5kZXhfMD1mdW5jdGlvbigpe3JldHVybih6cz10Ll9lYl9idFJpZ2lkQm9keV9nZXRVc2VySW5kZXhfMD10LmFzbS51ZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxOcz10Ll9lYl9idFJpZ2lkQm9keV9zZXRVc2VySW5kZXhfMT1mdW5jdGlvbigpe3JldHVybihOcz10Ll9lYl9idFJpZ2lkQm9keV9zZXRVc2VySW5kZXhfMT10LmFzbS52ZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxxcz10Ll9lYl9idFJpZ2lkQm9keV9nZXRVc2VyUG9pbnRlcl8wPWZ1bmN0aW9uKCl7cmV0dXJuKHFzPXQuX2ViX2J0UmlnaWRCb2R5X2dldFVzZXJQb2ludGVyXzA9dC5hc20ud2cpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sWnM9dC5fZWJfYnRSaWdpZEJvZHlfc2V0VXNlclBvaW50ZXJfMT1mdW5jdGlvbigpe3JldHVybihacz10Ll9lYl9idFJpZ2lkQm9keV9zZXRVc2VyUG9pbnRlcl8xPXQuYXNtLnhnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEtzPXQuX2ViX2J0UmlnaWRCb2R5X2dldEJyb2FkcGhhc2VIYW5kbGVfMD1mdW5jdGlvbigpe3JldHVybihLcz10Ll9lYl9idFJpZ2lkQm9keV9nZXRCcm9hZHBoYXNlSGFuZGxlXzA9dC5hc20ueWcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sJHM9dC5fZWJfYnRSaWdpZEJvZHlfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybigkcz10Ll9lYl9idFJpZ2lkQm9keV9fX2Rlc3Ryb3lfX18wPXQuYXNtLnpnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEpzPXQuX2ViX2J0U2VxdWVudGlhbEltcHVsc2VDb25zdHJhaW50U29sdmVyX2J0U2VxdWVudGlhbEltcHVsc2VDb25zdHJhaW50U29sdmVyXzA9ZnVuY3Rpb24oKXtyZXR1cm4oSnM9dC5fZWJfYnRTZXF1ZW50aWFsSW1wdWxzZUNvbnN0cmFpbnRTb2x2ZXJfYnRTZXF1ZW50aWFsSW1wdWxzZUNvbnN0cmFpbnRTb2x2ZXJfMD10LmFzbS5BZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0cD10Ll9lYl9idFNlcXVlbnRpYWxJbXB1bHNlQ29uc3RyYWludFNvbHZlcl9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKHRwPXQuX2ViX2J0U2VxdWVudGlhbEltcHVsc2VDb25zdHJhaW50U29sdmVyX19fZGVzdHJveV9fXzA9dC5hc20uQmcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZXA9dC5fZWJfYnRDb25zdHJhaW50U29sdmVyX19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4oZXA9dC5fZWJfYnRDb25zdHJhaW50U29sdmVyX19fZGVzdHJveV9fXzA9dC5hc20uQ2cpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sb3A9dC5fZWJfYnREaXNwYXRjaGVySW5mb19nZXRfbV90aW1lU3RlcF8wPWZ1bmN0aW9uKCl7cmV0dXJuKG9wPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fZ2V0X21fdGltZVN0ZXBfMD10LmFzbS5EZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxucD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX3NldF9tX3RpbWVTdGVwXzE9ZnVuY3Rpb24oKXtyZXR1cm4obnA9dC5fZWJfYnREaXNwYXRjaGVySW5mb19zZXRfbV90aW1lU3RlcF8xPXQuYXNtLkVnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHJwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fZ2V0X21fc3RlcENvdW50XzA9ZnVuY3Rpb24oKXtyZXR1cm4ocnA9dC5fZWJfYnREaXNwYXRjaGVySW5mb19nZXRfbV9zdGVwQ291bnRfMD10LmFzbS5GZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxfcD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX3NldF9tX3N0ZXBDb3VudF8xPWZ1bmN0aW9uKCl7cmV0dXJuKF9wPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fc2V0X21fc3RlcENvdW50XzE9dC5hc20uR2cpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saXA9dC5fZWJfYnREaXNwYXRjaGVySW5mb19nZXRfbV9kaXNwYXRjaEZ1bmNfMD1mdW5jdGlvbigpe3JldHVybihpcD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX2dldF9tX2Rpc3BhdGNoRnVuY18wPXQuYXNtLkhnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGFwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fc2V0X21fZGlzcGF0Y2hGdW5jXzE9ZnVuY3Rpb24oKXtyZXR1cm4oYXA9dC5fZWJfYnREaXNwYXRjaGVySW5mb19zZXRfbV9kaXNwYXRjaEZ1bmNfMT10LmFzbS5JZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxzcD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX2dldF9tX3RpbWVPZkltcGFjdF8wPWZ1bmN0aW9uKCl7cmV0dXJuKHNwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fZ2V0X21fdGltZU9mSW1wYWN0XzA9dC5hc20uSmcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0scHA9dC5fZWJfYnREaXNwYXRjaGVySW5mb19zZXRfbV90aW1lT2ZJbXBhY3RfMT1mdW5jdGlvbigpe3JldHVybihwcD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX3NldF9tX3RpbWVPZkltcGFjdF8xPXQuYXNtLktnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGxwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fZ2V0X21fdXNlQ29udGludW91c18wPWZ1bmN0aW9uKCl7cmV0dXJuKGxwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fZ2V0X21fdXNlQ29udGludW91c18wPXQuYXNtLkxnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHVwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fc2V0X21fdXNlQ29udGludW91c18xPWZ1bmN0aW9uKCl7cmV0dXJuKHVwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fc2V0X21fdXNlQ29udGludW91c18xPXQuYXNtLk1nKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGNwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fZ2V0X21fZW5hYmxlU2F0Q29udmV4XzA9ZnVuY3Rpb24oKXtyZXR1cm4oY3A9dC5fZWJfYnREaXNwYXRjaGVySW5mb19nZXRfbV9lbmFibGVTYXRDb252ZXhfMD10LmFzbS5OZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx5cD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX3NldF9tX2VuYWJsZVNhdENvbnZleF8xPWZ1bmN0aW9uKCl7cmV0dXJuKHlwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fc2V0X21fZW5hYmxlU2F0Q29udmV4XzE9dC5hc20uT2cpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saHA9dC5fZWJfYnREaXNwYXRjaGVySW5mb19nZXRfbV9lbmFibGVTUFVfMD1mdW5jdGlvbigpe3JldHVybihocD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX2dldF9tX2VuYWJsZVNQVV8wPXQuYXNtLlBnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGZwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fc2V0X21fZW5hYmxlU1BVXzE9ZnVuY3Rpb24oKXtyZXR1cm4oZnA9dC5fZWJfYnREaXNwYXRjaGVySW5mb19zZXRfbV9lbmFibGVTUFVfMT10LmFzbS5RZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxtcD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX2dldF9tX3VzZUVwYV8wPWZ1bmN0aW9uKCl7cmV0dXJuKG1wPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fZ2V0X21fdXNlRXBhXzA9dC5hc20uUmcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYnA9dC5fZWJfYnREaXNwYXRjaGVySW5mb19zZXRfbV91c2VFcGFfMT1mdW5jdGlvbigpe3JldHVybihicD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX3NldF9tX3VzZUVwYV8xPXQuYXNtLlNnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGdwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fZ2V0X21fYWxsb3dlZENjZFBlbmV0cmF0aW9uXzA9ZnVuY3Rpb24oKXtyZXR1cm4oZ3A9dC5fZWJfYnREaXNwYXRjaGVySW5mb19nZXRfbV9hbGxvd2VkQ2NkUGVuZXRyYXRpb25fMD10LmFzbS5UZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxkcD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX3NldF9tX2FsbG93ZWRDY2RQZW5ldHJhdGlvbl8xPWZ1bmN0aW9uKCl7cmV0dXJuKGRwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fc2V0X21fYWxsb3dlZENjZFBlbmV0cmF0aW9uXzE9dC5hc20uVWcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sV3A9dC5fZWJfYnREaXNwYXRjaGVySW5mb19nZXRfbV91c2VDb252ZXhDb25zZXJ2YXRpdmVEaXN0YW5jZVV0aWxfMD1mdW5jdGlvbigpe3JldHVybihXcD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX2dldF9tX3VzZUNvbnZleENvbnNlcnZhdGl2ZURpc3RhbmNlVXRpbF8wPXQuYXNtLlZnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LENwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fc2V0X21fdXNlQ29udmV4Q29uc2VydmF0aXZlRGlzdGFuY2VVdGlsXzE9ZnVuY3Rpb24oKXtyZXR1cm4oQ3A9dC5fZWJfYnREaXNwYXRjaGVySW5mb19zZXRfbV91c2VDb252ZXhDb25zZXJ2YXRpdmVEaXN0YW5jZVV0aWxfMT10LmFzbS5XZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxqcD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX2dldF9tX2NvbnZleENvbnNlcnZhdGl2ZURpc3RhbmNlVGhyZXNob2xkXzA9ZnVuY3Rpb24oKXtyZXR1cm4oanA9dC5fZWJfYnREaXNwYXRjaGVySW5mb19nZXRfbV9jb252ZXhDb25zZXJ2YXRpdmVEaXN0YW5jZVRocmVzaG9sZF8wPXQuYXNtLlhnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHZwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fc2V0X21fY29udmV4Q29uc2VydmF0aXZlRGlzdGFuY2VUaHJlc2hvbGRfMT1mdW5jdGlvbigpe3JldHVybih2cD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX3NldF9tX2NvbnZleENvbnNlcnZhdGl2ZURpc3RhbmNlVGhyZXNob2xkXzE9dC5hc20uWWcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sRHA9dC5fZWJfYnREaXNwYXRjaGVySW5mb19fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKERwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fX19kZXN0cm95X19fMD10LmFzbS5aZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxScD10Ll9lYl9idENvbnRhY3RTb2x2ZXJJbmZvX2dldF9tX3NwbGl0SW1wdWxzZV8wPWZ1bmN0aW9uKCl7cmV0dXJuKFJwPXQuX2ViX2J0Q29udGFjdFNvbHZlckluZm9fZ2V0X21fc3BsaXRJbXB1bHNlXzA9dC5hc20uX2cpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sU3A9dC5fZWJfYnRDb250YWN0U29sdmVySW5mb19zZXRfbV9zcGxpdEltcHVsc2VfMT1mdW5jdGlvbigpe3JldHVybihTcD10Ll9lYl9idENvbnRhY3RTb2x2ZXJJbmZvX3NldF9tX3NwbGl0SW1wdWxzZV8xPXQuYXNtLiRnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LElwPXQuX2ViX2J0Q29udGFjdFNvbHZlckluZm9fZ2V0X21fc3BsaXRJbXB1bHNlUGVuZXRyYXRpb25UaHJlc2hvbGRfMD1mdW5jdGlvbigpe3JldHVybihJcD10Ll9lYl9idENvbnRhY3RTb2x2ZXJJbmZvX2dldF9tX3NwbGl0SW1wdWxzZVBlbmV0cmF0aW9uVGhyZXNob2xkXzA9dC5hc20uYWgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sT3A9dC5fZWJfYnRDb250YWN0U29sdmVySW5mb19zZXRfbV9zcGxpdEltcHVsc2VQZW5ldHJhdGlvblRocmVzaG9sZF8xPWZ1bmN0aW9uKCl7cmV0dXJuKE9wPXQuX2ViX2J0Q29udGFjdFNvbHZlckluZm9fc2V0X21fc3BsaXRJbXB1bHNlUGVuZXRyYXRpb25UaHJlc2hvbGRfMT10LmFzbS5iaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxCcD10Ll9lYl9idENvbnRhY3RTb2x2ZXJJbmZvX2dldF9tX251bUl0ZXJhdGlvbnNfMD1mdW5jdGlvbigpe3JldHVybihCcD10Ll9lYl9idENvbnRhY3RTb2x2ZXJJbmZvX2dldF9tX251bUl0ZXJhdGlvbnNfMD10LmFzbS5jaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxQcD10Ll9lYl9idENvbnRhY3RTb2x2ZXJJbmZvX3NldF9tX251bUl0ZXJhdGlvbnNfMT1mdW5jdGlvbigpe3JldHVybihQcD10Ll9lYl9idENvbnRhY3RTb2x2ZXJJbmZvX3NldF9tX251bUl0ZXJhdGlvbnNfMT10LmFzbS5kaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx4cD10Ll9lYl9idENvbnRhY3RTb2x2ZXJJbmZvX19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4oeHA9dC5fZWJfYnRDb250YWN0U29sdmVySW5mb19fX2Rlc3Ryb3lfX18wPXQuYXNtLmVoKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFRwPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkXzQ9ZnVuY3Rpb24oKXtyZXR1cm4oVHA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfND10LmFzbS5maCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxGcD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9zZXRHcmF2aXR5XzE9ZnVuY3Rpb24oKXtyZXR1cm4oRnA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfc2V0R3Jhdml0eV8xPXQuYXNtLmdoKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE1wPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX2dldEdyYXZpdHlfMD1mdW5jdGlvbigpe3JldHVybihNcD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9nZXRHcmF2aXR5XzA9dC5hc20uaGgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sQXA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfYWRkUmlnaWRCb2R5XzE9ZnVuY3Rpb24oKXtyZXR1cm4oQXA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfYWRkUmlnaWRCb2R5XzE9dC5hc20uaWgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sd3A9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfYWRkUmlnaWRCb2R5XzM9ZnVuY3Rpb24oKXtyZXR1cm4od3A9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfYWRkUmlnaWRCb2R5XzM9dC5hc20uamgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sa3A9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfcmVtb3ZlUmlnaWRCb2R5XzE9ZnVuY3Rpb24oKXtyZXR1cm4oa3A9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfcmVtb3ZlUmlnaWRCb2R5XzE9dC5hc20ua2gpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sTHA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfc3RlcFNpbXVsYXRpb25fMT1mdW5jdGlvbigpe3JldHVybihMcD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9zdGVwU2ltdWxhdGlvbl8xPXQuYXNtLmxoKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEhwPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX3N0ZXBTaW11bGF0aW9uXzI9ZnVuY3Rpb24oKXtyZXR1cm4oSHA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfc3RlcFNpbXVsYXRpb25fMj10LmFzbS5taCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxZcD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9zdGVwU2ltdWxhdGlvbl8zPWZ1bmN0aW9uKCl7cmV0dXJuKFlwPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX3N0ZXBTaW11bGF0aW9uXzM9dC5hc20ubmgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sVnA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfc2V0Q29udGFjdEFkZGVkQ2FsbGJhY2tfMT1mdW5jdGlvbigpe3JldHVybihWcD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9zZXRDb250YWN0QWRkZWRDYWxsYmFja18xPXQuYXNtLm9oKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFFwPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX3NldENvbnRhY3RQcm9jZXNzZWRDYWxsYmFja18xPWZ1bmN0aW9uKCl7cmV0dXJuKFFwPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX3NldENvbnRhY3RQcm9jZXNzZWRDYWxsYmFja18xPXQuYXNtLnBoKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEVwPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX3NldENvbnRhY3REZXN0cm95ZWRDYWxsYmFja18xPWZ1bmN0aW9uKCl7cmV0dXJuKEVwPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX3NldENvbnRhY3REZXN0cm95ZWRDYWxsYmFja18xPXQuYXNtLnFoKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFhwPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX2dldERpc3BhdGNoZXJfMD1mdW5jdGlvbigpe3JldHVybihYcD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9nZXREaXNwYXRjaGVyXzA9dC5hc20ucmgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sVXA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfZ2V0UGFpckNhY2hlXzA9ZnVuY3Rpb24oKXtyZXR1cm4oVXA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfZ2V0UGFpckNhY2hlXzA9dC5hc20uc2gpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sR3A9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfZ2V0RGlzcGF0Y2hJbmZvXzA9ZnVuY3Rpb24oKXtyZXR1cm4oR3A9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfZ2V0RGlzcGF0Y2hJbmZvXzA9dC5hc20udGgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0senA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfYWRkQ29sbGlzaW9uT2JqZWN0XzE9ZnVuY3Rpb24oKXtyZXR1cm4oenA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfYWRkQ29sbGlzaW9uT2JqZWN0XzE9dC5hc20udWgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sTnA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfYWRkQ29sbGlzaW9uT2JqZWN0XzI9ZnVuY3Rpb24oKXtyZXR1cm4oTnA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfYWRkQ29sbGlzaW9uT2JqZWN0XzI9dC5hc20udmgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0scXA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfYWRkQ29sbGlzaW9uT2JqZWN0XzM9ZnVuY3Rpb24oKXtyZXR1cm4ocXA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfYWRkQ29sbGlzaW9uT2JqZWN0XzM9dC5hc20ud2gpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sWnA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfcmVtb3ZlQ29sbGlzaW9uT2JqZWN0XzE9ZnVuY3Rpb24oKXtyZXR1cm4oWnA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfcmVtb3ZlQ29sbGlzaW9uT2JqZWN0XzE9dC5hc20ueGgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sS3A9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfZ2V0QnJvYWRwaGFzZV8wPWZ1bmN0aW9uKCl7cmV0dXJuKEtwPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX2dldEJyb2FkcGhhc2VfMD10LmFzbS55aCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSwkcD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9jb252ZXhTd2VlcFRlc3RfNT1mdW5jdGlvbigpe3JldHVybigkcD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9jb252ZXhTd2VlcFRlc3RfNT10LmFzbS56aCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxKcD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9jb250YWN0UGFpclRlc3RfMz1mdW5jdGlvbigpe3JldHVybihKcD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9jb250YWN0UGFpclRlc3RfMz10LmFzbS5BaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0bD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9jb250YWN0VGVzdF8yPWZ1bmN0aW9uKCl7cmV0dXJuKHRsPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX2NvbnRhY3RUZXN0XzI9dC5hc20uQmgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZWw9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfdXBkYXRlU2luZ2xlQWFiYl8xPWZ1bmN0aW9uKCl7cmV0dXJuKGVsPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX3VwZGF0ZVNpbmdsZUFhYmJfMT10LmFzbS5DaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxvbD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9hZGRBY3Rpb25fMT1mdW5jdGlvbigpe3JldHVybihvbD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9hZGRBY3Rpb25fMT10LmFzbS5EaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxubD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9yZW1vdmVBY3Rpb25fMT1mdW5jdGlvbigpe3JldHVybihubD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9yZW1vdmVBY3Rpb25fMT10LmFzbS5FaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxybD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9nZXRTb2x2ZXJJbmZvXzA9ZnVuY3Rpb24oKXtyZXR1cm4ocmw9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfZ2V0U29sdmVySW5mb18wPXQuYXNtLkZoKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LF9sPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX3NldEludGVybmFsVGlja0NhbGxiYWNrXzE9ZnVuY3Rpb24oKXtyZXR1cm4oX2w9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfc2V0SW50ZXJuYWxUaWNrQ2FsbGJhY2tfMT10LmFzbS5HaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpbD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9zZXRJbnRlcm5hbFRpY2tDYWxsYmFja18yPWZ1bmN0aW9uKCl7cmV0dXJuKGlsPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX3NldEludGVybmFsVGlja0NhbGxiYWNrXzI9dC5hc20uSGgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYWw9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfc2V0SW50ZXJuYWxUaWNrQ2FsbGJhY2tfMz1mdW5jdGlvbigpe3JldHVybihhbD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9zZXRJbnRlcm5hbFRpY2tDYWxsYmFja18zPXQuYXNtLkloKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHNsPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4oc2w9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfX19kZXN0cm95X19fMD10LmFzbS5KaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxwbD10Ll9lYl9idEFjdGlvbkludGVyZmFjZV91cGRhdGVBY3Rpb25fMj1mdW5jdGlvbigpe3JldHVybihwbD10Ll9lYl9idEFjdGlvbkludGVyZmFjZV91cGRhdGVBY3Rpb25fMj10LmFzbS5LaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxsbD10Ll9lYl9idEFjdGlvbkludGVyZmFjZV9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKGxsPXQuX2ViX2J0QWN0aW9uSW50ZXJmYWNlX19fZGVzdHJveV9fXzA9dC5hc20uTGgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdWw9dC5fZW1zY3JpcHRlbl9lbnVtX1BIWV9TY2FsYXJUeXBlX1BIWV9GTE9BVD1mdW5jdGlvbigpe3JldHVybih1bD10Ll9lbXNjcmlwdGVuX2VudW1fUEhZX1NjYWxhclR5cGVfUEhZX0ZMT0FUPXQuYXNtLk1oKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGNsPXQuX2Vtc2NyaXB0ZW5fZW51bV9QSFlfU2NhbGFyVHlwZV9QSFlfRE9VQkxFPWZ1bmN0aW9uKCl7cmV0dXJuKGNsPXQuX2Vtc2NyaXB0ZW5fZW51bV9QSFlfU2NhbGFyVHlwZV9QSFlfRE9VQkxFPXQuYXNtLk5oKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHlsPXQuX2Vtc2NyaXB0ZW5fZW51bV9QSFlfU2NhbGFyVHlwZV9QSFlfSU5URUdFUj1mdW5jdGlvbigpe3JldHVybih5bD10Ll9lbXNjcmlwdGVuX2VudW1fUEhZX1NjYWxhclR5cGVfUEhZX0lOVEVHRVI9dC5hc20uT2gpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saGw9dC5fZW1zY3JpcHRlbl9lbnVtX1BIWV9TY2FsYXJUeXBlX1BIWV9TSE9SVD1mdW5jdGlvbigpe3JldHVybihobD10Ll9lbXNjcmlwdGVuX2VudW1fUEhZX1NjYWxhclR5cGVfUEhZX1NIT1JUPXQuYXNtLlBoKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGZsPXQuX2Vtc2NyaXB0ZW5fZW51bV9QSFlfU2NhbGFyVHlwZV9QSFlfRklYRURQT0lOVDg4PWZ1bmN0aW9uKCl7cmV0dXJuKGZsPXQuX2Vtc2NyaXB0ZW5fZW51bV9QSFlfU2NhbGFyVHlwZV9QSFlfRklYRURQT0lOVDg4PXQuYXNtLlFoKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG1sPXQuX2Vtc2NyaXB0ZW5fZW51bV9QSFlfU2NhbGFyVHlwZV9QSFlfVUNIQVI9ZnVuY3Rpb24oKXtyZXR1cm4obWw9dC5fZW1zY3JpcHRlbl9lbnVtX1BIWV9TY2FsYXJUeXBlX1BIWV9VQ0hBUj10LmFzbS5SaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt0Ll9tYWxsb2M9ZnVuY3Rpb24oKXtyZXR1cm4odC5fbWFsbG9jPXQuYXNtLlNoKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX2ZyZWU9ZnVuY3Rpb24oKXtyZXR1cm4odC5fZnJlZT10LmFzbS5UaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0LmR5bkNhbGxfdmk9ZnVuY3Rpb24oKXtyZXR1cm4odC5keW5DYWxsX3ZpPXQuYXNtLlVoKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuZHluQ2FsbF92PWZ1bmN0aW9uKCl7cmV0dXJuKHQuZHluQ2FsbF92PXQuYXNtLlZoKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuYWRkRnVuY3Rpb249ZnVuY3Rpb24oZSxvKXtpZighQnQpe0J0PW5ldyBXZWFrTWFwO2Zvcih2YXIgbj0wO248V3QubGVuZ3RoO24rKyl7dmFyIHI9V3QuZ2V0KG4pO3ImJkJ0LnNldChyLG4pfX1pZihCdC5oYXMoZSkpZT1CdC5nZXQoZSk7ZWxzZXtpZihlZS5sZW5ndGgpbj1lZS5wb3AoKTtlbHNle249V3QubGVuZ3RoO3RyeXtXdC5ncm93KDEpfWNhdGNoKGN0KXt0aHJvdyBjdCBpbnN0YW5jZW9mIFJhbmdlRXJyb3I/IlVuYWJsZSB0byBncm93IHdhc20gdGFibGUuIFNldCBBTExPV19UQUJMRV9HUk9XVEguIjpjdH19dHJ5e1d0LnNldChuLGUpfWNhdGNoKGN0KXtpZighKGN0IGluc3RhbmNlb2YgVHlwZUVycm9yKSl0aHJvdyBjdDtpZih0eXBlb2YgV2ViQXNzZW1ibHkuRnVuY3Rpb249PSJmdW5jdGlvbiIpe3ZhciBjPXtpOiJpMzIiLGo6Imk2NCIsZjoiZjMyIixkOiJmNjQifSxEPXtwYXJhbWV0ZXJzOltdLHJlc3VsdHM6b1swXT09InYiP1tdOltjW29bMF1dXX07Zm9yKHI9MTtyPG8ubGVuZ3RoOysrcilELnBhcmFtZXRlcnMucHVzaChjW29bcl1dKTtvPW5ldyBXZWJBc3NlbWJseS5GdW5jdGlvbihELGUpfWVsc2V7Yz1bMSwwLDEsOTZdLEQ9by5zbGljZSgwLDEpLG89by5zbGljZSgxKTt2YXIgVT17aToxMjcsajoxMjYsZjoxMjUsZDoxMjR9O2ZvcihjLnB1c2goby5sZW5ndGgpLHI9MDtyPG8ubGVuZ3RoOysrciljLnB1c2goVVtvW3JdXSk7RD09InYiP2MucHVzaCgwKTpjPWMuY29uY2F0KFsxLFVbRF1dKSxjWzFdPWMubGVuZ3RoLTIsbz1uZXcgVWludDhBcnJheShbMCw5NywxMTUsMTA5LDEsMCwwLDBdLmNvbmNhdChjLFsyLDcsMSwxLDEwMSwxLDEwMiwwLDAsNyw1LDEsMSwxMDIsMCwwXSkpLG89bmV3IFdlYkFzc2VtYmx5Lk1vZHVsZShvKSxvPW5ldyBXZWJBc3NlbWJseS5JbnN0YW5jZShvLHtlOntmOmV9fSkuZXhwb3J0cy5mfVd0LnNldChuLG8pfUJ0LnNldChlLG4pLGU9bn1yZXR1cm4gZX07dmFyIGllO3F0PWZ1bmN0aW9uIGUoKXtpZXx8V2UoKSxpZXx8KHF0PWUpfTtmdW5jdGlvbiBXZSgpe2Z1bmN0aW9uIGUoKXtpZighaWUmJihpZT0hMCx0LmNhbGxlZFJ1bj0hMCwhb2UpKXtpZihPZT0hMCxVdChfZSksVXQoVnQpLG0odCksdC5vblJ1bnRpbWVJbml0aWFsaXplZCYmdC5vblJ1bnRpbWVJbml0aWFsaXplZCgpLHQucG9zdFJ1bilmb3IodHlwZW9mIHQucG9zdFJ1bj09ImZ1bmN0aW9uIiYmKHQucG9zdFJ1bj1bdC5wb3N0UnVuXSk7dC5wb3N0UnVuLmxlbmd0aDspe3ZhciBvPXQucG9zdFJ1bi5zaGlmdCgpO0llLnVuc2hpZnQobyl9VXQoSWUpfX1pZighKDA8UXQpKXtpZih0LnByZVJ1bilmb3IodHlwZW9mIHQucHJlUnVuPT0iZnVuY3Rpb24iJiYodC5wcmVSdW49W3QucHJlUnVuXSk7dC5wcmVSdW4ubGVuZ3RoOylPbCgpO1V0KHJlKSwwPFF0fHwodC5zZXRTdGF0dXM/KHQuc2V0U3RhdHVzKCJSdW5uaW5nLi4uIiksc2V0VGltZW91dChmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0LnNldFN0YXR1cygiIil9LDEpLGUoKX0sMSkpOmUoKSl9fWlmKHQucnVuPVdlLHQucHJlSW5pdClmb3IodHlwZW9mIHQucHJlSW5pdD09ImZ1bmN0aW9uIiYmKHQucHJlSW5pdD1bdC5wcmVJbml0XSk7MDx0LnByZUluaXQubGVuZ3RoOyl0LnByZUluaXQucG9wKCkoKTtXZSgpO2Z1bmN0aW9uIGIoKXt9Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksYi5wcm90b3R5cGUuY29uc3RydWN0b3I9YixiLnByb3RvdHlwZS5YaD1iLGIuWWg9e30sdC5XcmFwcGVyT2JqZWN0PWI7ZnVuY3Rpb24gQShlKXtyZXR1cm4oZXx8YikuWWh9dC5nZXRDYWNoZT1BO2Z1bmN0aW9uIGEoZSxvKXt2YXIgbj1BKG8pLHI9bltlXTtyZXR1cm4gcnx8KHI9T2JqZWN0LmNyZWF0ZSgob3x8YikucHJvdG90eXBlKSxyLldoPWUsbltlXT1yKX10LndyYXBQb2ludGVyPWEsdC5jYXN0T2JqZWN0PWZ1bmN0aW9uKGUsbyl7cmV0dXJuIGEoZS5XaCxvKX0sdC5OVUxMPWEoMCksdC5kZXN0cm95PWZ1bmN0aW9uKGUpe2lmKCFlLl9fZGVzdHJveV9fKXRocm93IkVycm9yOiBDYW5ub3QgZGVzdHJveSBvYmplY3QuIChEaWQgeW91IGNyZWF0ZSBpdCB5b3Vyc2VsZj8pIjtlLl9fZGVzdHJveV9fKCksZGVsZXRlIEEoZS5YaClbZS5XaF19LHQuY29tcGFyZT1mdW5jdGlvbihlLG8pe3JldHVybiBlLldoPT09by5XaH0sdC5nZXRQb2ludGVyPWZ1bmN0aW9uKGUpe3JldHVybiBlLldofSx0LmdldENsYXNzPWZ1bmN0aW9uKGUpe3JldHVybiBlLlhofTt2YXIgRXQ9MCxhZT0wLHNlPTAscGU9W10sbGU9MDtmdW5jdGlvbiBDZSgpe2lmKGxlKXtmb3IodmFyIGU9MDtlPHBlLmxlbmd0aDtlKyspdC5fZnJlZShwZVtlXSk7cGUubGVuZ3RoPTAsdC5fZnJlZShFdCksRXQ9MCxhZSs9bGUsbGU9MH1FdHx8KGFlKz0xMjgsRXQ9dC5fbWFsbG9jKGFlKSxMdChFdCkpLHNlPTB9ZnVuY3Rpb24gYmwoZSl7aWYodHlwZW9mIGU9PSJvYmplY3QiKXtMdChFdCk7dmFyIG89ZS5sZW5ndGgqWHQuQllURVNfUEVSX0VMRU1FTlQ7aWYobz1vKzcmLTgsc2Urbz49YWUpe0x0KDA8byksbGUrPW87dmFyIG49dC5fbWFsbG9jKG8pO3BlLnB1c2gobil9ZWxzZSBuPUV0K3NlLHNlKz1vO3N3aXRjaChvPW4sbj1vPj4+MCxYdC5CWVRFU19QRVJfRUxFTUVOVCl7Y2FzZSAyOm4+Pj49MTticmVhaztjYXNlIDQ6bj4+Pj0yO2JyZWFrO2Nhc2UgODpuPj4+PTN9Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspWHRbbityXT1lW3JdO3JldHVybiBvfXJldHVybiBlfWZ1bmN0aW9uIFYoKXt0aHJvdyJjYW5ub3QgY29uc3RydWN0IGEgYnRDb2xsaXNpb25Xb3JsZCwgbm8gY29uc3RydWN0b3IgaW4gSURMIn1WLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxWLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1WLFYucHJvdG90eXBlLlhoPVYsVi5ZaD17fSx0LmJ0Q29sbGlzaW9uV29ybGQ9VixWLnByb3RvdHlwZS5nZXREaXNwYXRjaGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGEoRmUodGhpcy5XaCksSyl9LFYucHJvdG90eXBlLmdldFBhaXJDYWNoZT1mdW5jdGlvbigpe3JldHVybiBhKE1lKHRoaXMuV2gpLEopfSxWLnByb3RvdHlwZS5nZXREaXNwYXRjaEluZm89ZnVuY3Rpb24oKXtyZXR1cm4gYShBZSh0aGlzLldoKSxzKX0sVi5wcm90b3R5cGUuYWRkQ29sbGlzaW9uT2JqZWN0PWZ1bmN0aW9uKGUsbyxuKXt2YXIgcj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihuPW4uV2gpLG89PT12b2lkIDA/d2UocixlKTpuPT09dm9pZCAwP2tlKHIsZSxvKTpMZShyLGUsbyxuKX0sVi5wcm90b3R5cGUucmVtb3ZlQ29sbGlzaW9uT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxIZShvLGUpfSxWLnByb3RvdHlwZS5nZXRCcm9hZHBoYXNlPWZ1bmN0aW9uKCl7cmV0dXJuIGEoWWUodGhpcy5XaCksYXQpfSxWLnByb3RvdHlwZS5jb252ZXhTd2VlcFRlc3Q9ZnVuY3Rpb24oZSxvLG4scixjKXt2YXIgRD10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihuPW4uV2gpLHImJnR5cGVvZiByPT0ib2JqZWN0IiYmKHI9ci5XaCksYyYmdHlwZW9mIGM9PSJvYmplY3QiJiYoYz1jLldoKSxWZShELGUsbyxuLHIsYyl9LFYucHJvdG90eXBlLmNvbnRhY3RQYWlyVGVzdD1mdW5jdGlvbihlLG8sbil7dmFyIHI9dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLG8mJnR5cGVvZiBvPT0ib2JqZWN0IiYmKG89by5XaCksbiYmdHlwZW9mIG49PSJvYmplY3QiJiYobj1uLldoKSxRZShyLGUsbyxuKX0sVi5wcm90b3R5cGUuY29udGFjdFRlc3Q9ZnVuY3Rpb24oZSxvKXt2YXIgbj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxFZShuLGUsbyl9LFYucHJvdG90eXBlLnVwZGF0ZVNpbmdsZUFhYmI9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLFhlKG8sZSl9LFYucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7VWUodGhpcy5XaCl9O2Z1bmN0aW9uIHcoKXt0aHJvdyJjYW5ub3QgY29uc3RydWN0IGEgYnRRdWFkV29yZCwgbm8gY29uc3RydWN0b3IgaW4gSURMIn13LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSx3LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj13LHcucHJvdG90eXBlLlhoPXcsdy5ZaD17fSx0LmJ0UXVhZFdvcmQ9dyx3LnByb3RvdHlwZS54PXcucHJvdG90eXBlLng9ZnVuY3Rpb24oKXtyZXR1cm4gR2UodGhpcy5XaCl9LHcucHJvdG90eXBlLnk9dy5wcm90b3R5cGUueT1mdW5jdGlvbigpe3JldHVybiB6ZSh0aGlzLldoKX0sdy5wcm90b3R5cGUuej13LnByb3RvdHlwZS56PWZ1bmN0aW9uKCl7cmV0dXJuIE5lKHRoaXMuV2gpfSx3LnByb3RvdHlwZS53PWZ1bmN0aW9uKCl7cmV0dXJuIHFlKHRoaXMuV2gpfSx3LnByb3RvdHlwZS5zZXRYPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxaZShvLGUpfSx3LnByb3RvdHlwZS5zZXRZPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxLZShvLGUpfSx3LnByb3RvdHlwZS5zZXRaPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSwkZShvLGUpfSx3LnByb3RvdHlwZS5zZXRXPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxKZShvLGUpfSx3LnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe3RvKHRoaXMuV2gpfTtmdW5jdGlvbiBvdCgpe3Rocm93ImNhbm5vdCBjb25zdHJ1Y3QgYSBidE1vdGlvblN0YXRlLCBubyBjb25zdHJ1Y3RvciBpbiBJREwifW90LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxvdC5wcm90b3R5cGUuY29uc3RydWN0b3I9b3Qsb3QucHJvdG90eXBlLlhoPW90LG90LlloPXt9LHQuYnRNb3Rpb25TdGF0ZT1vdCxvdC5wcm90b3R5cGUuZ2V0V29ybGRUcmFuc2Zvcm09ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGVvKG8sZSl9LG90LnByb3RvdHlwZS5zZXRXb3JsZFRyYW5zZm9ybT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksb28obyxlKX0sb3QucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7bm8odGhpcy5XaCl9O2Z1bmN0aW9uIEMoKXt0aHJvdyJjYW5ub3QgY29uc3RydWN0IGEgYnRDb2xsaXNpb25PYmplY3QsIG5vIGNvbnN0cnVjdG9yIGluIElETCJ9Qy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksQy5wcm90b3R5cGUuY29uc3RydWN0b3I9QyxDLnByb3RvdHlwZS5YaD1DLEMuWWg9e30sdC5idENvbGxpc2lvbk9iamVjdD1DLEMucHJvdG90eXBlLnNldEFuaXNvdHJvcGljRnJpY3Rpb249ZnVuY3Rpb24oZSxvKXt2YXIgbj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxybyhuLGUsbyl9LEMucHJvdG90eXBlLmdldENvbGxpc2lvblNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIGEoX28odGhpcy5XaCksUSl9LEMucHJvdG90eXBlLnNldENvbnRhY3RQcm9jZXNzaW5nVGhyZXNob2xkPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxpbyhvLGUpfSxDLnByb3RvdHlwZS5zZXRBY3RpdmF0aW9uU3RhdGU9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGFvKG8sZSl9LEMucHJvdG90eXBlLmZvcmNlQWN0aXZhdGlvblN0YXRlPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxzbyhvLGUpfSxDLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksZT09PXZvaWQgMD9wbyhvKTpsbyhvLGUpfSxDLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiEhdW8odGhpcy5XaCl9LEMucHJvdG90eXBlLmlzS2luZW1hdGljT2JqZWN0PWZ1bmN0aW9uKCl7cmV0dXJuISFjbyh0aGlzLldoKX0sQy5wcm90b3R5cGUuaXNTdGF0aWNPYmplY3Q9ZnVuY3Rpb24oKXtyZXR1cm4hIXlvKHRoaXMuV2gpfSxDLnByb3RvdHlwZS5pc1N0YXRpY09yS2luZW1hdGljT2JqZWN0PWZ1bmN0aW9uKCl7cmV0dXJuISFobyh0aGlzLldoKX0sQy5wcm90b3R5cGUuZ2V0UmVzdGl0dXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gZm8odGhpcy5XaCl9LEMucHJvdG90eXBlLmdldEZyaWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG1vKHRoaXMuV2gpfSxDLnByb3RvdHlwZS5nZXRSb2xsaW5nRnJpY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gYm8odGhpcy5XaCl9LEMucHJvdG90eXBlLnNldFJlc3RpdHV0aW9uPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxnbyhvLGUpfSxDLnByb3RvdHlwZS5zZXRGcmljdGlvbj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksV28obyxlKX0sQy5wcm90b3R5cGUuc2V0Um9sbGluZ0ZyaWN0aW9uPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxDbyhvLGUpfSxDLnByb3RvdHlwZS5nZXRXb3JsZFRyYW5zZm9ybT1mdW5jdGlvbigpe3JldHVybiBhKGpvKHRoaXMuV2gpLE8pfSxDLnByb3RvdHlwZS5nZXRDb2xsaXNpb25GbGFncz1mdW5jdGlvbigpe3JldHVybiB2byh0aGlzLldoKX0sQy5wcm90b3R5cGUuc2V0Q29sbGlzaW9uRmxhZ3M9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLERvKG8sZSl9LEMucHJvdG90eXBlLnNldFdvcmxkVHJhbnNmb3JtPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxSbyhvLGUpfSxDLnByb3RvdHlwZS5zZXRDb2xsaXNpb25TaGFwZT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksU28obyxlKX0sQy5wcm90b3R5cGUuc2V0Q2NkTW90aW9uVGhyZXNob2xkPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxJbyhvLGUpfSxDLnByb3RvdHlwZS5zZXRDY2RTd2VwdFNwaGVyZVJhZGl1cz1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksT28obyxlKX0sQy5wcm90b3R5cGUuZ2V0VXNlckluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIEJvKHRoaXMuV2gpfSxDLnByb3RvdHlwZS5zZXRVc2VySW5kZXg9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLFBvKG8sZSl9LEMucHJvdG90eXBlLmdldFVzZXJQb2ludGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGEoeG8odGhpcy5XaCksYnQpfSxDLnByb3RvdHlwZS5zZXRVc2VyUG9pbnRlcj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksVG8obyxlKX0sQy5wcm90b3R5cGUuZ2V0QnJvYWRwaGFzZUhhbmRsZT1mdW5jdGlvbigpe3JldHVybiBhKEZvKHRoaXMuV2gpLEIpfSxDLnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe01vKHRoaXMuV2gpfTtmdW5jdGlvbiBtdCgpe3Rocm93ImNhbm5vdCBjb25zdHJ1Y3QgYSBDb250YWN0UmVzdWx0Q2FsbGJhY2ssIG5vIGNvbnN0cnVjdG9yIGluIElETCJ9bXQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYi5wcm90b3R5cGUpLG10LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1tdCxtdC5wcm90b3R5cGUuWGg9bXQsbXQuWWg9e30sdC5Db250YWN0UmVzdWx0Q2FsbGJhY2s9bXQsbXQucHJvdG90eXBlLmFkZFNpbmdsZVJlc3VsdD1mdW5jdGlvbihlLG8sbixyLGMsRCxVKXt2YXIgY3Q9dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLG4mJnR5cGVvZiBuPT0ib2JqZWN0IiYmKG49bi5XaCksciYmdHlwZW9mIHI9PSJvYmplY3QiJiYocj1yLldoKSxjJiZ0eXBlb2YgYz09Im9iamVjdCImJihjPWMuV2gpLEQmJnR5cGVvZiBEPT0ib2JqZWN0IiYmKEQ9RC5XaCksVSYmdHlwZW9mIFU9PSJvYmplY3QiJiYoVT1VLldoKSxBbyhjdCxlLG8sbixyLGMsRCxVKX0sbXQucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7d28odGhpcy5XaCl9O2Z1bmN0aW9uIFIoKXt0aHJvdyJjYW5ub3QgY29uc3RydWN0IGEgQ29udmV4UmVzdWx0Q2FsbGJhY2ssIG5vIGNvbnN0cnVjdG9yIGluIElETCJ9Ui5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksUi5wcm90b3R5cGUuY29uc3RydWN0b3I9UixSLnByb3RvdHlwZS5YaD1SLFIuWWg9e30sdC5Db252ZXhSZXN1bHRDYWxsYmFjaz1SLFIucHJvdG90eXBlLmhhc0hpdD1mdW5jdGlvbigpe3JldHVybiEha28odGhpcy5XaCl9LFIucHJvdG90eXBlLmdldF9tX2NvbGxpc2lvbkZpbHRlckdyb3VwPVIucHJvdG90eXBlLlpoPWZ1bmN0aW9uKCl7cmV0dXJuIExvKHRoaXMuV2gpfSxSLnByb3RvdHlwZS5zZXRfbV9jb2xsaXNpb25GaWx0ZXJHcm91cD1SLnByb3RvdHlwZS5haT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksSG8obyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KFIucHJvdG90eXBlLCJtX2NvbGxpc2lvbkZpbHRlckdyb3VwIix7Z2V0OlIucHJvdG90eXBlLlpoLHNldDpSLnByb3RvdHlwZS5haX0pLFIucHJvdG90eXBlLmdldF9tX2NvbGxpc2lvbkZpbHRlck1hc2s9Ui5wcm90b3R5cGUuJGg9ZnVuY3Rpb24oKXtyZXR1cm4gWW8odGhpcy5XaCl9LFIucHJvdG90eXBlLnNldF9tX2NvbGxpc2lvbkZpbHRlck1hc2s9Ui5wcm90b3R5cGUuYmk9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLFZvKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSLnByb3RvdHlwZSwibV9jb2xsaXNpb25GaWx0ZXJNYXNrIix7Z2V0OlIucHJvdG90eXBlLiRoLHNldDpSLnByb3RvdHlwZS5iaX0pLFIucHJvdG90eXBlLmdldF9tX2Nsb3Nlc3RIaXRGcmFjdGlvbj1SLnByb3RvdHlwZS5kaT1mdW5jdGlvbigpe3JldHVybiBRbyh0aGlzLldoKX0sUi5wcm90b3R5cGUuc2V0X21fY2xvc2VzdEhpdEZyYWN0aW9uPVIucHJvdG90eXBlLmZpPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxFbyhvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUi5wcm90b3R5cGUsIm1fY2xvc2VzdEhpdEZyYWN0aW9uIix7Z2V0OlIucHJvdG90eXBlLmRpLHNldDpSLnByb3RvdHlwZS5maX0pLFIucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7WG8odGhpcy5XaCl9O2Z1bmN0aW9uIFEoKXt0aHJvdyJjYW5ub3QgY29uc3RydWN0IGEgYnRDb2xsaXNpb25TaGFwZSwgbm8gY29uc3RydWN0b3IgaW4gSURMIn1RLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxRLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1RLFEucHJvdG90eXBlLlhoPVEsUS5ZaD17fSx0LmJ0Q29sbGlzaW9uU2hhcGU9USxRLnByb3RvdHlwZS5zZXRMb2NhbFNjYWxpbmc9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLFVvKG8sZSl9LFEucHJvdG90eXBlLmdldExvY2FsU2NhbGluZz1mdW5jdGlvbigpe3JldHVybiBhKEdvKHRoaXMuV2gpLHkpfSxRLnByb3RvdHlwZS5jYWxjdWxhdGVMb2NhbEluZXJ0aWE9ZnVuY3Rpb24oZSxvKXt2YXIgbj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSx6byhuLGUsbyl9LFEucHJvdG90eXBlLnNldE1hcmdpbj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksTm8obyxlKX0sUS5wcm90b3R5cGUuZ2V0TWFyZ2luPWZ1bmN0aW9uKCl7cmV0dXJuIHFvKHRoaXMuV2gpfSxRLnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe1pvKHRoaXMuV2gpfTtmdW5jdGlvbiBLKCl7dGhyb3ciY2Fubm90IGNvbnN0cnVjdCBhIGJ0RGlzcGF0Y2hlciwgbm8gY29uc3RydWN0b3IgaW4gSURMIn1LLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxLLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1LLEsucHJvdG90eXBlLlhoPUssSy5ZaD17fSx0LmJ0RGlzcGF0Y2hlcj1LLEsucHJvdG90eXBlLmdldE51bU1hbmlmb2xkcz1mdW5jdGlvbigpe3JldHVybiBLbyh0aGlzLldoKX0sSy5wcm90b3R5cGUuZ2V0TWFuaWZvbGRCeUluZGV4SW50ZXJuYWw9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxhKCRvKG8sZSkseil9LEsucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7Sm8odGhpcy5XaCl9O2Z1bmN0aW9uIHgoKXt0aHJvdyJjYW5ub3QgY29uc3RydWN0IGEgYnREeW5hbWljc1dvcmxkLCBubyBjb25zdHJ1Y3RvciBpbiBJREwifXgucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVi5wcm90b3R5cGUpLHgucHJvdG90eXBlLmNvbnN0cnVjdG9yPXgseC5wcm90b3R5cGUuWGg9eCx4LlloPXt9LHQuYnREeW5hbWljc1dvcmxkPXgseC5wcm90b3R5cGUuYWRkQWN0aW9uPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSx0bihvLGUpfSx4LnByb3RvdHlwZS5yZW1vdmVBY3Rpb249ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGVuKG8sZSl9LHgucHJvdG90eXBlLmdldFNvbHZlckluZm89ZnVuY3Rpb24oKXtyZXR1cm4gYShvbih0aGlzLldoKSxTKX0seC5wcm90b3R5cGUuc2V0SW50ZXJuYWxUaWNrQ2FsbGJhY2s9ZnVuY3Rpb24oZSxvLG4pe3ZhciByPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLG4mJnR5cGVvZiBuPT0ib2JqZWN0IiYmKG49bi5XaCksbz09PXZvaWQgMD9ubihyLGUpOm49PT12b2lkIDA/cm4ocixlLG8pOl9uKHIsZSxvLG4pfSx4LnByb3RvdHlwZS5nZXREaXNwYXRjaGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGEoYW4odGhpcy5XaCksSyl9LHgucHJvdG90eXBlLmdldFBhaXJDYWNoZT1mdW5jdGlvbigpe3JldHVybiBhKHNuKHRoaXMuV2gpLEopfSx4LnByb3RvdHlwZS5nZXREaXNwYXRjaEluZm89ZnVuY3Rpb24oKXtyZXR1cm4gYShwbih0aGlzLldoKSxzKX0seC5wcm90b3R5cGUuYWRkQ29sbGlzaW9uT2JqZWN0PWZ1bmN0aW9uKGUsbyxuKXt2YXIgcj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihuPW4uV2gpLG89PT12b2lkIDA/bG4ocixlKTpuPT09dm9pZCAwP3VuKHIsZSxvKTpjbihyLGUsbyxuKX0seC5wcm90b3R5cGUucmVtb3ZlQ29sbGlzaW9uT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSx5bihvLGUpfSx4LnByb3RvdHlwZS5nZXRCcm9hZHBoYXNlPWZ1bmN0aW9uKCl7cmV0dXJuIGEoaG4odGhpcy5XaCksYXQpfSx4LnByb3RvdHlwZS5jb252ZXhTd2VlcFRlc3Q9ZnVuY3Rpb24oZSxvLG4scixjKXt2YXIgRD10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihuPW4uV2gpLHImJnR5cGVvZiByPT0ib2JqZWN0IiYmKHI9ci5XaCksYyYmdHlwZW9mIGM9PSJvYmplY3QiJiYoYz1jLldoKSxmbihELGUsbyxuLHIsYyl9LHgucHJvdG90eXBlLmNvbnRhY3RQYWlyVGVzdD1mdW5jdGlvbihlLG8sbil7dmFyIHI9dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLG8mJnR5cGVvZiBvPT0ib2JqZWN0IiYmKG89by5XaCksbiYmdHlwZW9mIG49PSJvYmplY3QiJiYobj1uLldoKSxtbihyLGUsbyxuKX0seC5wcm90b3R5cGUuY29udGFjdFRlc3Q9ZnVuY3Rpb24oZSxvKXt2YXIgbj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxibihuLGUsbyl9LHgucHJvdG90eXBlLnVwZGF0ZVNpbmdsZUFhYmI9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGduKG8sZSl9LHgucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7ZG4odGhpcy5XaCl9O2Z1bmN0aW9uIGJ0KCl7dGhyb3ciY2Fubm90IGNvbnN0cnVjdCBhIFZvaWRQdHIsIG5vIGNvbnN0cnVjdG9yIGluIElETCJ9YnQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYi5wcm90b3R5cGUpLGJ0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1idCxidC5wcm90b3R5cGUuWGg9YnQsYnQuWWg9e30sdC5Wb2lkUHRyPWJ0LGJ0LnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe1duKHRoaXMuV2gpfTtmdW5jdGlvbiB5KGUsbyxuKXtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLG8mJnR5cGVvZiBvPT0ib2JqZWN0IiYmKG89by5XaCksbiYmdHlwZW9mIG49PSJvYmplY3QiJiYobj1uLldoKSx0aGlzLldoPWU9PT12b2lkIDA/Q24oKTpvPT09dm9pZCAwP19lYl9idFZlY3RvcjNfYnRWZWN0b3IzXzEoZSk6bj09PXZvaWQgMD9fZWJfYnRWZWN0b3IzX2J0VmVjdG9yM18yKGUsbyk6am4oZSxvLG4pLEEoeSlbdGhpcy5XaF09dGhpc315LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSx5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj15LHkucHJvdG90eXBlLlhoPXkseS5ZaD17fSx0LmJ0VmVjdG9yMz15LHkucHJvdG90eXBlLmxlbmd0aD15LnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdm4odGhpcy5XaCl9LHkucHJvdG90eXBlLng9eS5wcm90b3R5cGUueD1mdW5jdGlvbigpe3JldHVybiBEbih0aGlzLldoKX0seS5wcm90b3R5cGUueT15LnByb3RvdHlwZS55PWZ1bmN0aW9uKCl7cmV0dXJuIFJuKHRoaXMuV2gpfSx5LnByb3RvdHlwZS56PXkucHJvdG90eXBlLno9ZnVuY3Rpb24oKXtyZXR1cm4gU24odGhpcy5XaCl9LHkucHJvdG90eXBlLnNldFg9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLEluKG8sZSl9LHkucHJvdG90eXBlLnNldFk9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLE9uKG8sZSl9LHkucHJvdG90eXBlLnNldFo9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLEJuKG8sZSl9LHkucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGUsbyxuKXt2YXIgcj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihuPW4uV2gpLFBuKHIsZSxvLG4pfSx5LnByb3RvdHlwZS5ub3JtYWxpemU9eS5wcm90b3R5cGUubm9ybWFsaXplPWZ1bmN0aW9uKCl7eG4odGhpcy5XaCl9LHkucHJvdG90eXBlLnJvdGF0ZT15LnByb3RvdHlwZS5yb3RhdGU9ZnVuY3Rpb24oZSxvKXt2YXIgbj10aGlzLldoO3JldHVybiBlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLG8mJnR5cGVvZiBvPT0ib2JqZWN0IiYmKG89by5XaCksYShUbihuLGUsbykseSl9LHkucHJvdG90eXBlLmRvdD1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO3JldHVybiBlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLEZuKG8sZSl9LHkucHJvdG90eXBlLm9wX211bD1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO3JldHVybiBlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGEoTW4obyxlKSx5KX0seS5wcm90b3R5cGUub3BfYWRkPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7cmV0dXJuIGUmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksYShBbihvLGUpLHkpfSx5LnByb3RvdHlwZS5vcF9zdWI9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxhKHduKG8sZSkseSl9LHkucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7a24odGhpcy5XaCl9O2Z1bmN0aW9uIGYoZSxvLG4scil7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLG4mJnR5cGVvZiBuPT0ib2JqZWN0IiYmKG49bi5XaCksciYmdHlwZW9mIHI9PSJvYmplY3QiJiYocj1yLldoKSx0aGlzLldoPUxuKGUsbyxuLHIpLEEoZilbdGhpcy5XaF09dGhpc31mLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHcucHJvdG90eXBlKSxmLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1mLGYucHJvdG90eXBlLlhoPWYsZi5ZaD17fSx0LmJ0UXVhdGVybmlvbj1mLGYucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGUsbyxuLHIpe3ZhciBjPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLG4mJnR5cGVvZiBuPT0ib2JqZWN0IiYmKG49bi5XaCksciYmdHlwZW9mIHI9PSJvYmplY3QiJiYocj1yLldoKSxIbihjLGUsbyxuLHIpfSxmLnByb3RvdHlwZS5zZXRFdWxlclpZWD1mdW5jdGlvbihlLG8sbil7dmFyIHI9dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLG8mJnR5cGVvZiBvPT0ib2JqZWN0IiYmKG89by5XaCksbiYmdHlwZW9mIG49PSJvYmplY3QiJiYobj1uLldoKSxZbihyLGUsbyxuKX0sZi5wcm90b3R5cGUuc2V0Um90YXRpb249ZnVuY3Rpb24oZSxvKXt2YXIgbj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxWbihuLGUsbyl9LGYucHJvdG90eXBlLm5vcm1hbGl6ZT1mLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24oKXtRbih0aGlzLldoKX0sZi5wcm90b3R5cGUubGVuZ3RoMj1mdW5jdGlvbigpe3JldHVybiBFbih0aGlzLldoKX0sZi5wcm90b3R5cGUubGVuZ3RoPWYucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiBYbih0aGlzLldoKX0sZi5wcm90b3R5cGUuZG90PWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7cmV0dXJuIGUmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksVW4obyxlKX0sZi5wcm90b3R5cGUubm9ybWFsaXplZD1mdW5jdGlvbigpe3JldHVybiBhKEduKHRoaXMuV2gpLGYpfSxmLnByb3RvdHlwZS5nZXRBeGlzPWZ1bmN0aW9uKCl7cmV0dXJuIGEoem4odGhpcy5XaCkseSl9LGYucHJvdG90eXBlLmludmVyc2U9Zi5wcm90b3R5cGUuaW52ZXJzZT1mdW5jdGlvbigpe3JldHVybiBhKE5uKHRoaXMuV2gpLGYpfSxmLnByb3RvdHlwZS5nZXRBbmdsZT1mdW5jdGlvbigpe3JldHVybiBxbih0aGlzLldoKX0sZi5wcm90b3R5cGUuZ2V0QW5nbGVTaG9ydGVzdFBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gWm4odGhpcy5XaCl9LGYucHJvdG90eXBlLmFuZ2xlPWYucHJvdG90eXBlLmFuZ2xlPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7cmV0dXJuIGUmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksS24obyxlKX0sZi5wcm90b3R5cGUuYW5nbGVTaG9ydGVzdFBhdGg9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSwkbihvLGUpfSxmLnByb3RvdHlwZS5vcF9hZGQ9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxhKEpuKG8sZSksZil9LGYucHJvdG90eXBlLm9wX3N1Yj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO3JldHVybiBlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGEodHIobyxlKSxmKX0sZi5wcm90b3R5cGUub3BfbXVsPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7cmV0dXJuIGUmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksYShlcihvLGUpLGYpfSxmLnByb3RvdHlwZS5vcF9tdWxxPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7cmV0dXJuIGUmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksYShvcihvLGUpLGYpfSxmLnByb3RvdHlwZS5vcF9kaXY9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxhKG5yKG8sZSksZil9LGYucHJvdG90eXBlLng9Zi5wcm90b3R5cGUueD1mdW5jdGlvbigpe3JldHVybiBycih0aGlzLldoKX0sZi5wcm90b3R5cGUueT1mLnByb3RvdHlwZS55PWZ1bmN0aW9uKCl7cmV0dXJuIF9yKHRoaXMuV2gpfSxmLnByb3RvdHlwZS56PWYucHJvdG90eXBlLno9ZnVuY3Rpb24oKXtyZXR1cm4gaXIodGhpcy5XaCl9LGYucHJvdG90eXBlLnc9ZnVuY3Rpb24oKXtyZXR1cm4gYXIodGhpcy5XaCl9LGYucHJvdG90eXBlLnNldFg9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLHNyKG8sZSl9LGYucHJvdG90eXBlLnNldFk9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLHByKG8sZSl9LGYucHJvdG90eXBlLnNldFo9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGxyKG8sZSl9LGYucHJvdG90eXBlLnNldFc9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLHVyKG8sZSl9LGYucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7Y3IodGhpcy5XaCl9O2Z1bmN0aW9uIG50KCl7dGhyb3ciY2Fubm90IGNvbnN0cnVjdCBhIGJ0TWF0cml4M3gzLCBubyBjb25zdHJ1Y3RvciBpbiBJREwifW50LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxudC5wcm90b3R5cGUuY29uc3RydWN0b3I9bnQsbnQucHJvdG90eXBlLlhoPW50LG50LlloPXt9LHQuYnRNYXRyaXgzeDM9bnQsbnQucHJvdG90eXBlLnNldEV1bGVyWllYPWZ1bmN0aW9uKGUsbyxuKXt2YXIgcj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihuPW4uV2gpLHlyKHIsZSxvLG4pfSxudC5wcm90b3R5cGUuZ2V0Um90YXRpb249ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGhyKG8sZSl9LG50LnByb3RvdHlwZS5nZXRSb3c9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxhKGZyKG8sZSkseSl9LG50LnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe21yKHRoaXMuV2gpfTtmdW5jdGlvbiBPKGUsbyl7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLHRoaXMuV2g9ZT09PXZvaWQgMD9icigpOm89PT12b2lkIDA/X2ViX2J0VHJhbnNmb3JtX2J0VHJhbnNmb3JtXzEoZSk6Z3IoZSxvKSxBKE8pW3RoaXMuV2hdPXRoaXN9Ty5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksTy5wcm90b3R5cGUuY29uc3RydWN0b3I9TyxPLnByb3RvdHlwZS5YaD1PLE8uWWg9e30sdC5idFRyYW5zZm9ybT1PLE8ucHJvdG90eXBlLnNldElkZW50aXR5PWZ1bmN0aW9uKCl7ZHIodGhpcy5XaCl9LE8ucHJvdG90eXBlLnNldE9yaWdpbj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksV3IobyxlKX0sTy5wcm90b3R5cGUuc2V0Um90YXRpb249ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLENyKG8sZSl9LE8ucHJvdG90eXBlLmdldE9yaWdpbj1mdW5jdGlvbigpe3JldHVybiBhKGpyKHRoaXMuV2gpLHkpfSxPLnByb3RvdHlwZS5nZXRSb3RhdGlvbj1mdW5jdGlvbigpe3JldHVybiBhKHZyKHRoaXMuV2gpLGYpfSxPLnByb3RvdHlwZS5nZXRCYXNpcz1mdW5jdGlvbigpe3JldHVybiBhKERyKHRoaXMuV2gpLG50KX0sTy5wcm90b3R5cGUuc2V0RnJvbU9wZW5HTE1hdHJpeD1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO0NlKCksdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1ibChlKSksUnIobyxlKX0sTy5wcm90b3R5cGUuaW52ZXJzZT1PLnByb3RvdHlwZS5pbnZlcnNlPWZ1bmN0aW9uKCl7cmV0dXJuIGEoU3IodGhpcy5XaCksTyl9LE8ucHJvdG90eXBlLm9wX211bD1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO3JldHVybiBlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGEoSXIobyxlKSxPKX0sTy5wcm90b3R5cGUuX19kZXN0cm95X189ZnVuY3Rpb24oKXtPcih0aGlzLldoKX07ZnVuY3Rpb24gWChlLG8pe2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSx0aGlzLldoPWU9PT12b2lkIDA/QnIoKTpvPT09dm9pZCAwP1ByKGUpOnhyKGUsbyksQShYKVt0aGlzLldoXT10aGlzfVgucHJvdG90eXBlPU9iamVjdC5jcmVhdGUob3QucHJvdG90eXBlKSxYLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1YLFgucHJvdG90eXBlLlhoPVgsWC5ZaD17fSx0LmJ0RGVmYXVsdE1vdGlvblN0YXRlPVgsWC5wcm90b3R5cGUuZ2V0V29ybGRUcmFuc2Zvcm09ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLFRyKG8sZSl9LFgucHJvdG90eXBlLnNldFdvcmxkVHJhbnNmb3JtPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxGcihvLGUpfSxYLnByb3RvdHlwZS5nZXRfbV9ncmFwaGljc1dvcmxkVHJhbnM9WC5wcm90b3R5cGUuemk9ZnVuY3Rpb24oKXtyZXR1cm4gYShNcih0aGlzLldoKSxPKX0sWC5wcm90b3R5cGUuc2V0X21fZ3JhcGhpY3NXb3JsZFRyYW5zPVgucHJvdG90eXBlLnRqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxBcihvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoWC5wcm90b3R5cGUsIm1fZ3JhcGhpY3NXb3JsZFRyYW5zIix7Z2V0OlgucHJvdG90eXBlLnppLHNldDpYLnByb3RvdHlwZS50an0pLFgucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7d3IodGhpcy5XaCl9O2Z1bmN0aW9uIGd0KCl7dGhyb3ciY2Fubm90IGNvbnN0cnVjdCBhIGJ0Q29sbGlzaW9uT2JqZWN0V3JhcHBlciwgbm8gY29uc3RydWN0b3IgaW4gSURMIn1ndC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksZ3QucHJvdG90eXBlLmNvbnN0cnVjdG9yPWd0LGd0LnByb3RvdHlwZS5YaD1ndCxndC5ZaD17fSx0LmJ0Q29sbGlzaW9uT2JqZWN0V3JhcHBlcj1ndCxndC5wcm90b3R5cGUuZ2V0V29ybGRUcmFuc2Zvcm09ZnVuY3Rpb24oKXtyZXR1cm4gYShrcih0aGlzLldoKSxPKX0sZ3QucHJvdG90eXBlLmdldENvbGxpc2lvbk9iamVjdD1mdW5jdGlvbigpe3JldHVybiBhKExyKHRoaXMuV2gpLEMpfSxndC5wcm90b3R5cGUuZ2V0Q29sbGlzaW9uU2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gYShIcih0aGlzLldoKSxRKX07ZnVuY3Rpb24gcHQoKXt0aHJvdyJjYW5ub3QgY29uc3RydWN0IGEgYnRDb25zdENvbGxpc2lvbk9iamVjdEFycmF5LCBubyBjb25zdHJ1Y3RvciBpbiBJREwifXB0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxwdC5wcm90b3R5cGUuY29uc3RydWN0b3I9cHQscHQucHJvdG90eXBlLlhoPXB0LHB0LlloPXt9LHQuYnRDb25zdENvbGxpc2lvbk9iamVjdEFycmF5PXB0LHB0LnByb3RvdHlwZS5zaXplPXB0LnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFlyKHRoaXMuV2gpfSxwdC5wcm90b3R5cGUuYXQ9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxhKFZyKG8sZSksQyl9LHB0LnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe1FyKHRoaXMuV2gpfTtmdW5jdGlvbiBsdCgpe3Rocm93ImNhbm5vdCBjb25zdHJ1Y3QgYSBidFNjYWxhckFycmF5LCBubyBjb25zdHJ1Y3RvciBpbiBJREwifWx0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxsdC5wcm90b3R5cGUuY29uc3RydWN0b3I9bHQsbHQucHJvdG90eXBlLlhoPWx0LGx0LlloPXt9LHQuYnRTY2FsYXJBcnJheT1sdCxsdC5wcm90b3R5cGUuc2l6ZT1sdC5wcm90b3R5cGUuc2l6ZT1mdW5jdGlvbigpe3JldHVybiBFcih0aGlzLldoKX0sbHQucHJvdG90eXBlLmF0PWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7cmV0dXJuIGUmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksWHIobyxlKX0sbHQucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7VXIodGhpcy5XaCl9O2Z1bmN0aW9uIGgoKXt0aHJvdyJjYW5ub3QgY29uc3RydWN0IGEgYnRNYW5pZm9sZFBvaW50LCBubyBjb25zdHJ1Y3RvciBpbiBJREwifWgucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYi5wcm90b3R5cGUpLGgucHJvdG90eXBlLmNvbnN0cnVjdG9yPWgsaC5wcm90b3R5cGUuWGg9aCxoLlloPXt9LHQuYnRNYW5pZm9sZFBvaW50PWgsaC5wcm90b3R5cGUuZ2V0UG9zaXRpb25Xb3JsZE9uQT1mdW5jdGlvbigpe3JldHVybiBhKEdyKHRoaXMuV2gpLHkpfSxoLnByb3RvdHlwZS5nZXRQb3NpdGlvbldvcmxkT25CPWZ1bmN0aW9uKCl7cmV0dXJuIGEoenIodGhpcy5XaCkseSl9LGgucHJvdG90eXBlLmdldEFwcGxpZWRJbXB1bHNlPWZ1bmN0aW9uKCl7cmV0dXJuIE5yKHRoaXMuV2gpfSxoLnByb3RvdHlwZS5nZXREaXN0YW5jZT1mdW5jdGlvbigpe3JldHVybiBxcih0aGlzLldoKX0saC5wcm90b3R5cGUuZ2V0X21fbG9jYWxQb2ludEE9aC5wcm90b3R5cGUuSWk9ZnVuY3Rpb24oKXtyZXR1cm4gYShacih0aGlzLldoKSx5KX0saC5wcm90b3R5cGUuc2V0X21fbG9jYWxQb2ludEE9aC5wcm90b3R5cGUuQ2o9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLEtyKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLnByb3RvdHlwZSwibV9sb2NhbFBvaW50QSIse2dldDpoLnByb3RvdHlwZS5JaSxzZXQ6aC5wcm90b3R5cGUuQ2p9KSxoLnByb3RvdHlwZS5nZXRfbV9sb2NhbFBvaW50Qj1oLnByb3RvdHlwZS5KaT1mdW5jdGlvbigpe3JldHVybiBhKCRyKHRoaXMuV2gpLHkpfSxoLnByb3RvdHlwZS5zZXRfbV9sb2NhbFBvaW50Qj1oLnByb3RvdHlwZS5Eaj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksSnIobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGgucHJvdG90eXBlLCJtX2xvY2FsUG9pbnRCIix7Z2V0OmgucHJvdG90eXBlLkppLHNldDpoLnByb3RvdHlwZS5Ean0pLGgucHJvdG90eXBlLmdldF9tX3Bvc2l0aW9uV29ybGRPbkI9aC5wcm90b3R5cGUuUGk9ZnVuY3Rpb24oKXtyZXR1cm4gYSh0Xyh0aGlzLldoKSx5KX0saC5wcm90b3R5cGUuc2V0X21fcG9zaXRpb25Xb3JsZE9uQj1oLnByb3RvdHlwZS5Kaj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksZV8obyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGgucHJvdG90eXBlLCJtX3Bvc2l0aW9uV29ybGRPbkIiLHtnZXQ6aC5wcm90b3R5cGUuUGksc2V0OmgucHJvdG90eXBlLkpqfSksaC5wcm90b3R5cGUuZ2V0X21fcG9zaXRpb25Xb3JsZE9uQT1oLnByb3RvdHlwZS5PaT1mdW5jdGlvbigpe3JldHVybiBhKG9fKHRoaXMuV2gpLHkpfSxoLnByb3RvdHlwZS5zZXRfbV9wb3NpdGlvbldvcmxkT25BPWgucHJvdG90eXBlLklqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxuXyhvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaC5wcm90b3R5cGUsIm1fcG9zaXRpb25Xb3JsZE9uQSIse2dldDpoLnByb3RvdHlwZS5PaSxzZXQ6aC5wcm90b3R5cGUuSWp9KSxoLnByb3RvdHlwZS5nZXRfbV9ub3JtYWxXb3JsZE9uQj1oLnByb3RvdHlwZS5MaT1mdW5jdGlvbigpe3JldHVybiBhKHJfKHRoaXMuV2gpLHkpfSxoLnByb3RvdHlwZS5zZXRfbV9ub3JtYWxXb3JsZE9uQj1oLnByb3RvdHlwZS5Gaj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksX18obyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGgucHJvdG90eXBlLCJtX25vcm1hbFdvcmxkT25CIix7Z2V0OmgucHJvdG90eXBlLkxpLHNldDpoLnByb3RvdHlwZS5Gan0pLGgucHJvdG90eXBlLmdldF9tX3VzZXJQZXJzaXN0ZW50RGF0YT1oLnByb3RvdHlwZS5iaj1mdW5jdGlvbigpe3JldHVybiBpXyh0aGlzLldoKX0saC5wcm90b3R5cGUuc2V0X21fdXNlclBlcnNpc3RlbnREYXRhPWgucHJvdG90eXBlLldqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxhXyhvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaC5wcm90b3R5cGUsIm1fdXNlclBlcnNpc3RlbnREYXRhIix7Z2V0OmgucHJvdG90eXBlLmJqLHNldDpoLnByb3RvdHlwZS5Xan0pLGgucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7c18odGhpcy5XaCl9O2Z1bmN0aW9uIGR0KCl7dGhpcy5XaD1wXygpLEEoZHQpW3RoaXMuV2hdPXRoaXN9ZHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobXQucHJvdG90eXBlKSxkdC5wcm90b3R5cGUuY29uc3RydWN0b3I9ZHQsZHQucHJvdG90eXBlLlhoPWR0LGR0LlloPXt9LHQuQ29uY3JldGVDb250YWN0UmVzdWx0Q2FsbGJhY2s9ZHQsZHQucHJvdG90eXBlLmFkZFNpbmdsZVJlc3VsdD1mdW5jdGlvbihlLG8sbixyLGMsRCxVKXt2YXIgY3Q9dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLG4mJnR5cGVvZiBuPT0ib2JqZWN0IiYmKG49bi5XaCksciYmdHlwZW9mIHI9PSJvYmplY3QiJiYocj1yLldoKSxjJiZ0eXBlb2YgYz09Im9iamVjdCImJihjPWMuV2gpLEQmJnR5cGVvZiBEPT0ib2JqZWN0IiYmKEQ9RC5XaCksVSYmdHlwZW9mIFU9PSJvYmplY3QiJiYoVT1VLldoKSxsXyhjdCxlLG8sbixyLGMsRCxVKX0sZHQucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7dV8odGhpcy5XaCl9O2Z1bmN0aW9uIFQoKXt0aHJvdyJjYW5ub3QgY29uc3RydWN0IGEgTG9jYWxTaGFwZUluZm8sIG5vIGNvbnN0cnVjdG9yIGluIElETCJ9VC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksVC5wcm90b3R5cGUuY29uc3RydWN0b3I9VCxULnByb3RvdHlwZS5YaD1ULFQuWWg9e30sdC5Mb2NhbFNoYXBlSW5mbz1ULFQucHJvdG90eXBlLmdldF9tX3NoYXBlUGFydD1ULnByb3RvdHlwZS5TaT1mdW5jdGlvbigpe3JldHVybiBjXyh0aGlzLldoKX0sVC5wcm90b3R5cGUuc2V0X21fc2hhcGVQYXJ0PVQucHJvdG90eXBlLk1qPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSx5XyhvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoVC5wcm90b3R5cGUsIm1fc2hhcGVQYXJ0Iix7Z2V0OlQucHJvdG90eXBlLlNpLHNldDpULnByb3RvdHlwZS5Nan0pLFQucHJvdG90eXBlLmdldF9tX3RyaWFuZ2xlSW5kZXg9VC5wcm90b3R5cGUuWWk9ZnVuY3Rpb24oKXtyZXR1cm4gaF8odGhpcy5XaCl9LFQucHJvdG90eXBlLnNldF9tX3RyaWFuZ2xlSW5kZXg9VC5wcm90b3R5cGUuU2o9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGZfKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShULnByb3RvdHlwZSwibV90cmlhbmdsZUluZGV4Iix7Z2V0OlQucHJvdG90eXBlLllpLHNldDpULnByb3RvdHlwZS5Tan0pLFQucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7bV8odGhpcy5XaCl9O2Z1bmN0aW9uIFcoZSxvLG4scixjKXtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLG8mJnR5cGVvZiBvPT0ib2JqZWN0IiYmKG89by5XaCksbiYmdHlwZW9mIG49PSJvYmplY3QiJiYobj1uLldoKSxyJiZ0eXBlb2Ygcj09Im9iamVjdCImJihyPXIuV2gpLGMmJnR5cGVvZiBjPT0ib2JqZWN0IiYmKGM9Yy5XaCksdGhpcy5XaD1iXyhlLG8sbixyLGMpLEEoVylbdGhpcy5XaF09dGhpc31XLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxXLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1XLFcucHJvdG90eXBlLlhoPVcsVy5ZaD17fSx0LkxvY2FsQ29udmV4UmVzdWx0PVcsVy5wcm90b3R5cGUuZ2V0X21faGl0Q29sbGlzaW9uT2JqZWN0PVcucHJvdG90eXBlLmVpPWZ1bmN0aW9uKCl7cmV0dXJuIGEoZ18odGhpcy5XaCksQyl9LFcucHJvdG90eXBlLnNldF9tX2hpdENvbGxpc2lvbk9iamVjdD1XLnByb3RvdHlwZS5naT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksZF8obyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KFcucHJvdG90eXBlLCJtX2hpdENvbGxpc2lvbk9iamVjdCIse2dldDpXLnByb3RvdHlwZS5laSxzZXQ6Vy5wcm90b3R5cGUuZ2l9KSxXLnByb3RvdHlwZS5nZXRfbV9sb2NhbFNoYXBlSW5mbz1XLnByb3RvdHlwZS5LaT1mdW5jdGlvbigpe3JldHVybiBhKFdfKHRoaXMuV2gpLFQpfSxXLnByb3RvdHlwZS5zZXRfbV9sb2NhbFNoYXBlSW5mbz1XLnByb3RvdHlwZS5Faj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksQ18obyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KFcucHJvdG90eXBlLCJtX2xvY2FsU2hhcGVJbmZvIix7Z2V0OlcucHJvdG90eXBlLktpLHNldDpXLnByb3RvdHlwZS5Fan0pLFcucHJvdG90eXBlLmdldF9tX2hpdE5vcm1hbExvY2FsPVcucHJvdG90eXBlLkJpPWZ1bmN0aW9uKCl7cmV0dXJuIGEoal8odGhpcy5XaCkseSl9LFcucHJvdG90eXBlLnNldF9tX2hpdE5vcm1hbExvY2FsPVcucHJvdG90eXBlLnZqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSx2XyhvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoVy5wcm90b3R5cGUsIm1faGl0Tm9ybWFsTG9jYWwiLHtnZXQ6Vy5wcm90b3R5cGUuQmksc2V0OlcucHJvdG90eXBlLnZqfSksVy5wcm90b3R5cGUuZ2V0X21faGl0UG9pbnRMb2NhbD1XLnByb3RvdHlwZS5EaT1mdW5jdGlvbigpe3JldHVybiBhKERfKHRoaXMuV2gpLHkpfSxXLnByb3RvdHlwZS5zZXRfbV9oaXRQb2ludExvY2FsPVcucHJvdG90eXBlLnhqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxSXyhvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoVy5wcm90b3R5cGUsIm1faGl0UG9pbnRMb2NhbCIse2dldDpXLnByb3RvdHlwZS5EaSxzZXQ6Vy5wcm90b3R5cGUueGp9KSxXLnByb3RvdHlwZS5nZXRfbV9oaXRGcmFjdGlvbj1XLnByb3RvdHlwZS5BaT1mdW5jdGlvbigpe3JldHVybiBTXyh0aGlzLldoKX0sVy5wcm90b3R5cGUuc2V0X21faGl0RnJhY3Rpb249Vy5wcm90b3R5cGUudWo9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLElfKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXLnByb3RvdHlwZSwibV9oaXRGcmFjdGlvbiIse2dldDpXLnByb3RvdHlwZS5BaSxzZXQ6Vy5wcm90b3R5cGUudWp9KSxXLnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe09fKHRoaXMuV2gpfTtmdW5jdGlvbiB1KGUsbyl7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLHRoaXMuV2g9Ql8oZSxvKSxBKHUpW3RoaXMuV2hdPXRoaXN9dS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShSLnByb3RvdHlwZSksdS5wcm90b3R5cGUuY29uc3RydWN0b3I9dSx1LnByb3RvdHlwZS5YaD11LHUuWWg9e30sdC5DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2s9dSx1LnByb3RvdHlwZS5oYXNIaXQ9ZnVuY3Rpb24oKXtyZXR1cm4hIVBfKHRoaXMuV2gpfSx1LnByb3RvdHlwZS5nZXRfbV9oaXRDb2xsaXNpb25PYmplY3Q9dS5wcm90b3R5cGUuZWk9ZnVuY3Rpb24oKXtyZXR1cm4gYSh4Xyh0aGlzLldoKSxDKX0sdS5wcm90b3R5cGUuc2V0X21faGl0Q29sbGlzaW9uT2JqZWN0PXUucHJvdG90eXBlLmdpPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxUXyhvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodS5wcm90b3R5cGUsIm1faGl0Q29sbGlzaW9uT2JqZWN0Iix7Z2V0OnUucHJvdG90eXBlLmVpLHNldDp1LnByb3RvdHlwZS5naX0pLHUucHJvdG90eXBlLmdldF9tX2NvbnZleEZyb21Xb3JsZD11LnByb3RvdHlwZS5zaT1mdW5jdGlvbigpe3JldHVybiBhKEZfKHRoaXMuV2gpLHkpfSx1LnByb3RvdHlwZS5zZXRfbV9jb252ZXhGcm9tV29ybGQ9dS5wcm90b3R5cGUubWo9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLE1fKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LnByb3RvdHlwZSwibV9jb252ZXhGcm9tV29ybGQiLHtnZXQ6dS5wcm90b3R5cGUuc2ksc2V0OnUucHJvdG90eXBlLm1qfSksdS5wcm90b3R5cGUuZ2V0X21fY29udmV4VG9Xb3JsZD11LnByb3RvdHlwZS50aT1mdW5jdGlvbigpe3JldHVybiBhKEFfKHRoaXMuV2gpLHkpfSx1LnByb3RvdHlwZS5zZXRfbV9jb252ZXhUb1dvcmxkPXUucHJvdG90eXBlLm5qPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSx3XyhvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodS5wcm90b3R5cGUsIm1fY29udmV4VG9Xb3JsZCIse2dldDp1LnByb3RvdHlwZS50aSxzZXQ6dS5wcm90b3R5cGUubmp9KSx1LnByb3RvdHlwZS5nZXRfbV9oaXROb3JtYWxXb3JsZD11LnByb3RvdHlwZS5DaT1mdW5jdGlvbigpe3JldHVybiBhKGtfKHRoaXMuV2gpLHkpfSx1LnByb3RvdHlwZS5zZXRfbV9oaXROb3JtYWxXb3JsZD11LnByb3RvdHlwZS53aj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksTF8obyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHUucHJvdG90eXBlLCJtX2hpdE5vcm1hbFdvcmxkIix7Z2V0OnUucHJvdG90eXBlLkNpLHNldDp1LnByb3RvdHlwZS53an0pLHUucHJvdG90eXBlLmdldF9tX2hpdFBvaW50V29ybGQ9dS5wcm90b3R5cGUuRWk9ZnVuY3Rpb24oKXtyZXR1cm4gYShIXyh0aGlzLldoKSx5KX0sdS5wcm90b3R5cGUuc2V0X21faGl0UG9pbnRXb3JsZD11LnByb3RvdHlwZS55aj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksWV8obyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHUucHJvdG90eXBlLCJtX2hpdFBvaW50V29ybGQiLHtnZXQ6dS5wcm90b3R5cGUuRWksc2V0OnUucHJvdG90eXBlLnlqfSksdS5wcm90b3R5cGUuZ2V0X21fY29sbGlzaW9uRmlsdGVyR3JvdXA9dS5wcm90b3R5cGUuWmg9ZnVuY3Rpb24oKXtyZXR1cm4gVl8odGhpcy5XaCl9LHUucHJvdG90eXBlLnNldF9tX2NvbGxpc2lvbkZpbHRlckdyb3VwPXUucHJvdG90eXBlLmFpPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxRXyhvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodS5wcm90b3R5cGUsIm1fY29sbGlzaW9uRmlsdGVyR3JvdXAiLHtnZXQ6dS5wcm90b3R5cGUuWmgsc2V0OnUucHJvdG90eXBlLmFpfSksdS5wcm90b3R5cGUuZ2V0X21fY29sbGlzaW9uRmlsdGVyTWFzaz11LnByb3RvdHlwZS4kaD1mdW5jdGlvbigpe3JldHVybiBFXyh0aGlzLldoKX0sdS5wcm90b3R5cGUuc2V0X21fY29sbGlzaW9uRmlsdGVyTWFzaz11LnByb3RvdHlwZS5iaT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksWF8obyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHUucHJvdG90eXBlLCJtX2NvbGxpc2lvbkZpbHRlck1hc2siLHtnZXQ6dS5wcm90b3R5cGUuJGgsc2V0OnUucHJvdG90eXBlLmJpfSksdS5wcm90b3R5cGUuZ2V0X21fY2xvc2VzdEhpdEZyYWN0aW9uPXUucHJvdG90eXBlLmRpPWZ1bmN0aW9uKCl7cmV0dXJuIFVfKHRoaXMuV2gpfSx1LnByb3RvdHlwZS5zZXRfbV9jbG9zZXN0SGl0RnJhY3Rpb249dS5wcm90b3R5cGUuZmk9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLEdfKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LnByb3RvdHlwZSwibV9jbG9zZXN0SGl0RnJhY3Rpb24iLHtnZXQ6dS5wcm90b3R5cGUuZGksc2V0OnUucHJvdG90eXBlLmZpfSksdS5wcm90b3R5cGUuX19kZXN0cm95X189ZnVuY3Rpb24oKXt6Xyh0aGlzLldoKX07ZnVuY3Rpb24gZXQoKXt0aHJvdyJjYW5ub3QgY29uc3RydWN0IGEgYnRDb252ZXhTaGFwZSwgbm8gY29uc3RydWN0b3IgaW4gSURMIn1ldC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShRLnByb3RvdHlwZSksZXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWV0LGV0LnByb3RvdHlwZS5YaD1ldCxldC5ZaD17fSx0LmJ0Q29udmV4U2hhcGU9ZXQsZXQucHJvdG90eXBlLnNldExvY2FsU2NhbGluZz1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksTl8obyxlKX0sZXQucHJvdG90eXBlLmdldExvY2FsU2NhbGluZz1mdW5jdGlvbigpe3JldHVybiBhKHFfKHRoaXMuV2gpLHkpfSxldC5wcm90b3R5cGUuY2FsY3VsYXRlTG9jYWxJbmVydGlhPWZ1bmN0aW9uKGUsbyl7dmFyIG49dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLG8mJnR5cGVvZiBvPT0ib2JqZWN0IiYmKG89by5XaCksWl8obixlLG8pfSxldC5wcm90b3R5cGUuc2V0TWFyZ2luPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxLXyhvLGUpfSxldC5wcm90b3R5cGUuZ2V0TWFyZ2luPWZ1bmN0aW9uKCl7cmV0dXJuICRfKHRoaXMuV2gpfSxldC5wcm90b3R5cGUuX19kZXN0cm95X189ZnVuY3Rpb24oKXtKXyh0aGlzLldoKX07ZnVuY3Rpb24gJChlKXtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLHRoaXMuV2g9dGkoZSksQSgkKVt0aGlzLldoXT10aGlzfSQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoUS5wcm90b3R5cGUpLCQucHJvdG90eXBlLmNvbnN0cnVjdG9yPSQsJC5wcm90b3R5cGUuWGg9JCwkLlloPXt9LHQuYnRCb3hTaGFwZT0kLCQucHJvdG90eXBlLnNldE1hcmdpbj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksZWkobyxlKX0sJC5wcm90b3R5cGUuZ2V0TWFyZ2luPWZ1bmN0aW9uKCl7cmV0dXJuIG9pKHRoaXMuV2gpfSwkLnByb3RvdHlwZS5zZXRMb2NhbFNjYWxpbmc9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLG5pKG8sZSl9LCQucHJvdG90eXBlLmdldExvY2FsU2NhbGluZz1mdW5jdGlvbigpe3JldHVybiBhKHJpKHRoaXMuV2gpLHkpfSwkLnByb3RvdHlwZS5jYWxjdWxhdGVMb2NhbEluZXJ0aWE9ZnVuY3Rpb24oZSxvKXt2YXIgbj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxfaShuLGUsbyl9LCQucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7aWkodGhpcy5XaCl9O2Z1bmN0aW9uIHJ0KCl7dGhyb3ciY2Fubm90IGNvbnN0cnVjdCBhIGJ0SW50QXJyYXksIG5vIGNvbnN0cnVjdG9yIGluIElETCJ9cnQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYi5wcm90b3R5cGUpLHJ0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1ydCxydC5wcm90b3R5cGUuWGg9cnQscnQuWWg9e30sdC5idEludEFycmF5PXJ0LHJ0LnByb3RvdHlwZS5zaXplPXJ0LnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIGFpKHRoaXMuV2gpfSxydC5wcm90b3R5cGUuYXQ9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxzaShvLGUpfSxydC5wcm90b3R5cGUuX19kZXN0cm95X189ZnVuY3Rpb24oKXtwaSh0aGlzLldoKX07ZnVuY3Rpb24gRigpe3Rocm93ImNhbm5vdCBjb25zdHJ1Y3QgYSBidEZhY2UsIG5vIGNvbnN0cnVjdG9yIGluIElETCJ9Ri5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksRi5wcm90b3R5cGUuY29uc3RydWN0b3I9RixGLnByb3RvdHlwZS5YaD1GLEYuWWg9e30sdC5idEZhY2U9RixGLnByb3RvdHlwZS5nZXRfbV9pbmRpY2VzPUYucHJvdG90eXBlLkZpPWZ1bmN0aW9uKCl7cmV0dXJuIGEobGkodGhpcy5XaCkscnQpfSxGLnByb3RvdHlwZS5zZXRfbV9pbmRpY2VzPUYucHJvdG90eXBlLnpqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSx1aShvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRi5wcm90b3R5cGUsIm1faW5kaWNlcyIse2dldDpGLnByb3RvdHlwZS5GaSxzZXQ6Ri5wcm90b3R5cGUuemp9KSxGLnByb3RvdHlwZS5nZXRfbV9wbGFuZT1GLnByb3RvdHlwZS5OaT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO3JldHVybiBlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGNpKG8sZSl9LEYucHJvdG90eXBlLnNldF9tX3BsYW5lPUYucHJvdG90eXBlLkhqPWZ1bmN0aW9uKGUsbyl7dmFyIG49dGhpcy5XaDtDZSgpLGUmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSx5aShuLGUsbyl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGLnByb3RvdHlwZSwibV9wbGFuZSIse2dldDpGLnByb3RvdHlwZS5OaSxzZXQ6Ri5wcm90b3R5cGUuSGp9KSxGLnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe2hpKHRoaXMuV2gpfTtmdW5jdGlvbiBfdCgpe3Rocm93ImNhbm5vdCBjb25zdHJ1Y3QgYSBidFZlY3RvcjNBcnJheSwgbm8gY29uc3RydWN0b3IgaW4gSURMIn1fdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksX3QucHJvdG90eXBlLmNvbnN0cnVjdG9yPV90LF90LnByb3RvdHlwZS5YaD1fdCxfdC5ZaD17fSx0LmJ0VmVjdG9yM0FycmF5PV90LF90LnByb3RvdHlwZS5zaXplPV90LnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIGZpKHRoaXMuV2gpfSxfdC5wcm90b3R5cGUuYXQ9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxhKG1pKG8sZSkseSl9LF90LnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe2JpKHRoaXMuV2gpfTtmdW5jdGlvbiBpdCgpe3Rocm93ImNhbm5vdCBjb25zdHJ1Y3QgYSBidEZhY2VBcnJheSwgbm8gY29uc3RydWN0b3IgaW4gSURMIn1pdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksaXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWl0LGl0LnByb3RvdHlwZS5YaD1pdCxpdC5ZaD17fSx0LmJ0RmFjZUFycmF5PWl0LGl0LnByb3RvdHlwZS5zaXplPWl0LnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIGdpKHRoaXMuV2gpfSxpdC5wcm90b3R5cGUuYXQ9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxhKGRpKG8sZSksRil9LGl0LnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe1dpKHRoaXMuV2gpfTtmdW5jdGlvbiBNKCl7dGhyb3ciY2Fubm90IGNvbnN0cnVjdCBhIGJ0Q29udmV4UG9seWhlZHJvbiwgbm8gY29uc3RydWN0b3IgaW4gSURMIn1NLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxNLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1NLE0ucHJvdG90eXBlLlhoPU0sTS5ZaD17fSx0LmJ0Q29udmV4UG9seWhlZHJvbj1NLE0ucHJvdG90eXBlLmdldF9tX3ZlcnRpY2VzPU0ucHJvdG90eXBlLmNqPWZ1bmN0aW9uKCl7cmV0dXJuIGEoQ2kodGhpcy5XaCksX3QpfSxNLnByb3RvdHlwZS5zZXRfbV92ZXJ0aWNlcz1NLnByb3RvdHlwZS5Yaj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksamkobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KE0ucHJvdG90eXBlLCJtX3ZlcnRpY2VzIix7Z2V0Ok0ucHJvdG90eXBlLmNqLHNldDpNLnByb3RvdHlwZS5Yan0pLE0ucHJvdG90eXBlLmdldF9tX2ZhY2VzPU0ucHJvdG90eXBlLnhpPWZ1bmN0aW9uKCl7cmV0dXJuIGEodmkodGhpcy5XaCksaXQpfSxNLnByb3RvdHlwZS5zZXRfbV9mYWNlcz1NLnByb3RvdHlwZS5yaj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksRGkobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KE0ucHJvdG90eXBlLCJtX2ZhY2VzIix7Z2V0Ok0ucHJvdG90eXBlLnhpLHNldDpNLnByb3RvdHlwZS5yan0pLE0ucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7UmkodGhpcy5XaCl9O2Z1bmN0aW9uIEUoZSxvKXtDZSgpLHR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9YmwoZSkpLG8mJnR5cGVvZiBvPT0ib2JqZWN0IiYmKG89by5XaCksdGhpcy5XaD1lPT09dm9pZCAwP1NpKCk6bz09PXZvaWQgMD9JaShlKTpPaShlLG8pLEEoRSlbdGhpcy5XaF09dGhpc31FLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFEucHJvdG90eXBlKSxFLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1FLEUucHJvdG90eXBlLlhoPUUsRS5ZaD17fSx0LmJ0Q29udmV4SHVsbFNoYXBlPUUsRS5wcm90b3R5cGUuYWRkUG9pbnQ9ZnVuY3Rpb24oZSxvKXt2YXIgbj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxvPT09dm9pZCAwP0JpKG4sZSk6UGkobixlLG8pfSxFLnByb3RvdHlwZS5zZXRNYXJnaW49ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLHhpKG8sZSl9LEUucHJvdG90eXBlLmdldE1hcmdpbj1mdW5jdGlvbigpe3JldHVybiBUaSh0aGlzLldoKX0sRS5wcm90b3R5cGUuZ2V0TnVtVmVydGljZXM9ZnVuY3Rpb24oKXtyZXR1cm4gRmkodGhpcy5XaCl9LEUucHJvdG90eXBlLmluaXRpYWxpemVQb2x5aGVkcmFsRmVhdHVyZXM9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSwhIU1pKG8sZSl9LEUucHJvdG90eXBlLnJlY2FsY0xvY2FsQWFiYj1mdW5jdGlvbigpe0FpKHRoaXMuV2gpfSxFLnByb3RvdHlwZS5nZXRDb252ZXhQb2x5aGVkcm9uPWZ1bmN0aW9uKCl7cmV0dXJuIGEod2kodGhpcy5XaCksTSl9LEUucHJvdG90eXBlLnNldExvY2FsU2NhbGluZz1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksa2kobyxlKX0sRS5wcm90b3R5cGUuZ2V0TG9jYWxTY2FsaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGEoTGkodGhpcy5XaCkseSl9LEUucHJvdG90eXBlLmNhbGN1bGF0ZUxvY2FsSW5lcnRpYT1mdW5jdGlvbihlLG8pe3ZhciBuPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLEhpKG4sZSxvKX0sRS5wcm90b3R5cGUuX19kZXN0cm95X189ZnVuY3Rpb24oKXtZaSh0aGlzLldoKX07ZnVuY3Rpb24ganQoKXt0aGlzLldoPVZpKCksQShqdClbdGhpcy5XaF09dGhpc31qdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksanQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWp0LGp0LnByb3RvdHlwZS5YaD1qdCxqdC5ZaD17fSx0LmJ0RGVmYXVsdENvbGxpc2lvbkNvbnN0cnVjdGlvbkluZm89anQsanQucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7UWkodGhpcy5XaCl9O2Z1bmN0aW9uIHZ0KGUpe2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksdGhpcy5XaD1lPT09dm9pZCAwP0VpKCk6WGkoZSksQSh2dClbdGhpcy5XaF09dGhpc312dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksdnQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXZ0LHZ0LnByb3RvdHlwZS5YaD12dCx2dC5ZaD17fSx0LmJ0RGVmYXVsdENvbGxpc2lvbkNvbmZpZ3VyYXRpb249dnQsdnQucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7VWkodGhpcy5XaCl9O2Z1bmN0aW9uIHooKXt0aGlzLldoPUdpKCksQSh6KVt0aGlzLldoXT10aGlzfXoucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYi5wcm90b3R5cGUpLHoucHJvdG90eXBlLmNvbnN0cnVjdG9yPXosei5wcm90b3R5cGUuWGg9eix6LlloPXt9LHQuYnRQZXJzaXN0ZW50TWFuaWZvbGQ9eix6LnByb3RvdHlwZS5nZXRCb2R5MD1mdW5jdGlvbigpe3JldHVybiBhKHppKHRoaXMuV2gpLEMpfSx6LnByb3RvdHlwZS5nZXRCb2R5MT1mdW5jdGlvbigpe3JldHVybiBhKE5pKHRoaXMuV2gpLEMpfSx6LnByb3RvdHlwZS5nZXROdW1Db250YWN0cz1mdW5jdGlvbigpe3JldHVybiBxaSh0aGlzLldoKX0sei5wcm90b3R5cGUuZ2V0Q29udGFjdFBvaW50PWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7cmV0dXJuIGUmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksYShaaShvLGUpLGgpfSx6LnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe0tpKHRoaXMuV2gpfTtmdW5jdGlvbiB1dChlKXtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLHRoaXMuV2g9JGkoZSksQSh1dClbdGhpcy5XaF09dGhpc311dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShLLnByb3RvdHlwZSksdXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXV0LHV0LnByb3RvdHlwZS5YaD11dCx1dC5ZaD17fSx0LmJ0Q29sbGlzaW9uRGlzcGF0Y2hlcj11dCx1dC5wcm90b3R5cGUuZ2V0TnVtTWFuaWZvbGRzPWZ1bmN0aW9uKCl7cmV0dXJuIEppKHRoaXMuV2gpfSx1dC5wcm90b3R5cGUuZ2V0TWFuaWZvbGRCeUluZGV4SW50ZXJuYWw9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxhKHRhKG8sZSkseil9LHV0LnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe2VhKHRoaXMuV2gpfTtmdW5jdGlvbiBUdCgpe3Rocm93ImNhbm5vdCBjb25zdHJ1Y3QgYSBidE92ZXJsYXBwaW5nUGFpckNhbGxiYWNrLCBubyBjb25zdHJ1Y3RvciBpbiBJREwifVR0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxUdC5wcm90b3R5cGUuY29uc3RydWN0b3I9VHQsVHQucHJvdG90eXBlLlhoPVR0LFR0LlloPXt9LHQuYnRPdmVybGFwcGluZ1BhaXJDYWxsYmFjaz1UdCxUdC5wcm90b3R5cGUuX19kZXN0cm95X189ZnVuY3Rpb24oKXtvYSh0aGlzLldoKX07ZnVuY3Rpb24gSigpe3Rocm93ImNhbm5vdCBjb25zdHJ1Y3QgYSBidE92ZXJsYXBwaW5nUGFpckNhY2hlLCBubyBjb25zdHJ1Y3RvciBpbiBJREwifUoucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYi5wcm90b3R5cGUpLEoucHJvdG90eXBlLmNvbnN0cnVjdG9yPUosSi5wcm90b3R5cGUuWGg9SixKLlloPXt9LHQuYnRPdmVybGFwcGluZ1BhaXJDYWNoZT1KLEoucHJvdG90eXBlLnNldEludGVybmFsR2hvc3RQYWlyQ2FsbGJhY2s9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLG5hKG8sZSl9LEoucHJvdG90eXBlLmdldE51bU92ZXJsYXBwaW5nUGFpcnM9ZnVuY3Rpb24oKXtyZXR1cm4gcmEodGhpcy5XaCl9LEoucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7X2EodGhpcy5XaCl9O2Z1bmN0aW9uIGF0KCl7dGhyb3ciY2Fubm90IGNvbnN0cnVjdCBhIGJ0QnJvYWRwaGFzZUludGVyZmFjZSwgbm8gY29uc3RydWN0b3IgaW4gSURMIn1hdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksYXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWF0LGF0LnByb3RvdHlwZS5YaD1hdCxhdC5ZaD17fSx0LmJ0QnJvYWRwaGFzZUludGVyZmFjZT1hdCxhdC5wcm90b3R5cGUuZ2V0T3ZlcmxhcHBpbmdQYWlyQ2FjaGU9ZnVuY3Rpb24oKXtyZXR1cm4gYShpYSh0aGlzLldoKSxKKX0sYXQucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7YWEodGhpcy5XaCl9O2Z1bmN0aW9uIEZ0KCl7dGhyb3ciY2Fubm90IGNvbnN0cnVjdCBhIGJ0Q29sbGlzaW9uQ29uZmlndXJhdGlvbiwgbm8gY29uc3RydWN0b3IgaW4gSURMIn1GdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksRnQucHJvdG90eXBlLmNvbnN0cnVjdG9yPUZ0LEZ0LnByb3RvdHlwZS5YaD1GdCxGdC5ZaD17fSx0LmJ0Q29sbGlzaW9uQ29uZmlndXJhdGlvbj1GdCxGdC5wcm90b3R5cGUuX19kZXN0cm95X189ZnVuY3Rpb24oKXtzYSh0aGlzLldoKX07ZnVuY3Rpb24gRHQoKXt0aGlzLldoPXBhKCksQShEdClbdGhpcy5XaF09dGhpc31EdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksRHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPUR0LER0LnByb3RvdHlwZS5YaD1EdCxEdC5ZaD17fSx0LmJ0RGJ2dEJyb2FkcGhhc2U9RHQsRHQucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7bGEodGhpcy5XaCl9O2Z1bmN0aW9uIEIoKXt0aHJvdyJjYW5ub3QgY29uc3RydWN0IGEgYnRCcm9hZHBoYXNlUHJveHksIG5vIGNvbnN0cnVjdG9yIGluIElETCJ9Qi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksQi5wcm90b3R5cGUuY29uc3RydWN0b3I9QixCLnByb3RvdHlwZS5YaD1CLEIuWWg9e30sdC5idEJyb2FkcGhhc2VQcm94eT1CLEIucHJvdG90eXBlLmdldF9tX2NvbGxpc2lvbkZpbHRlckdyb3VwPUIucHJvdG90eXBlLlpoPWZ1bmN0aW9uKCl7cmV0dXJuIHVhKHRoaXMuV2gpfSxCLnByb3RvdHlwZS5zZXRfbV9jb2xsaXNpb25GaWx0ZXJHcm91cD1CLnByb3RvdHlwZS5haT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksY2EobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KEIucHJvdG90eXBlLCJtX2NvbGxpc2lvbkZpbHRlckdyb3VwIix7Z2V0OkIucHJvdG90eXBlLlpoLHNldDpCLnByb3RvdHlwZS5haX0pLEIucHJvdG90eXBlLmdldF9tX2NvbGxpc2lvbkZpbHRlck1hc2s9Qi5wcm90b3R5cGUuJGg9ZnVuY3Rpb24oKXtyZXR1cm4geWEodGhpcy5XaCl9LEIucHJvdG90eXBlLnNldF9tX2NvbGxpc2lvbkZpbHRlck1hc2s9Qi5wcm90b3R5cGUuYmk9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGhhKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCLnByb3RvdHlwZSwibV9jb2xsaXNpb25GaWx0ZXJNYXNrIix7Z2V0OkIucHJvdG90eXBlLiRoLHNldDpCLnByb3RvdHlwZS5iaX0pLEIucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7ZmEodGhpcy5XaCl9O2Z1bmN0aW9uIF8oZSxvLG4scil7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLG4mJnR5cGVvZiBuPT0ib2JqZWN0IiYmKG49bi5XaCksciYmdHlwZW9mIHI9PSJvYmplY3QiJiYocj1yLldoKSx0aGlzLldoPXI9PT12b2lkIDA/bWEoZSxvLG4pOmJhKGUsbyxuLHIpLEEoXylbdGhpcy5XaF09dGhpc31fLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxfLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1fLF8ucHJvdG90eXBlLlhoPV8sXy5ZaD17fSx0LmJ0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mbz1fLF8ucHJvdG90eXBlLmdldF9tX2xpbmVhckRhbXBpbmc9Xy5wcm90b3R5cGUuR2k9ZnVuY3Rpb24oKXtyZXR1cm4gZ2EodGhpcy5XaCl9LF8ucHJvdG90eXBlLnNldF9tX2xpbmVhckRhbXBpbmc9Xy5wcm90b3R5cGUuQWo9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGRhKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfLnByb3RvdHlwZSwibV9saW5lYXJEYW1waW5nIix7Z2V0Ol8ucHJvdG90eXBlLkdpLHNldDpfLnByb3RvdHlwZS5Ban0pLF8ucHJvdG90eXBlLmdldF9tX2FuZ3VsYXJEYW1waW5nPV8ucHJvdG90eXBlLm9pPWZ1bmN0aW9uKCl7cmV0dXJuIFdhKHRoaXMuV2gpfSxfLnByb3RvdHlwZS5zZXRfbV9hbmd1bGFyRGFtcGluZz1fLnByb3RvdHlwZS5qaj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksQ2EobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KF8ucHJvdG90eXBlLCJtX2FuZ3VsYXJEYW1waW5nIix7Z2V0Ol8ucHJvdG90eXBlLm9pLHNldDpfLnByb3RvdHlwZS5qan0pLF8ucHJvdG90eXBlLmdldF9tX2ZyaWN0aW9uPV8ucHJvdG90eXBlLnlpPWZ1bmN0aW9uKCl7cmV0dXJuIGphKHRoaXMuV2gpfSxfLnByb3RvdHlwZS5zZXRfbV9mcmljdGlvbj1fLnByb3RvdHlwZS5zaj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksdmEobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KF8ucHJvdG90eXBlLCJtX2ZyaWN0aW9uIix7Z2V0Ol8ucHJvdG90eXBlLnlpLHNldDpfLnByb3RvdHlwZS5zan0pLF8ucHJvdG90eXBlLmdldF9tX3JvbGxpbmdGcmljdGlvbj1fLnByb3RvdHlwZS5SaT1mdW5jdGlvbigpe3JldHVybiBEYSh0aGlzLldoKX0sXy5wcm90b3R5cGUuc2V0X21fcm9sbGluZ0ZyaWN0aW9uPV8ucHJvdG90eXBlLkxqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxSYShvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoXy5wcm90b3R5cGUsIm1fcm9sbGluZ0ZyaWN0aW9uIix7Z2V0Ol8ucHJvdG90eXBlLlJpLHNldDpfLnByb3RvdHlwZS5Man0pLF8ucHJvdG90eXBlLmdldF9tX3Jlc3RpdHV0aW9uPV8ucHJvdG90eXBlLlFpPWZ1bmN0aW9uKCl7cmV0dXJuIFNhKHRoaXMuV2gpfSxfLnByb3RvdHlwZS5zZXRfbV9yZXN0aXR1dGlvbj1fLnByb3RvdHlwZS5Laj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksSWEobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KF8ucHJvdG90eXBlLCJtX3Jlc3RpdHV0aW9uIix7Z2V0Ol8ucHJvdG90eXBlLlFpLHNldDpfLnByb3RvdHlwZS5Lan0pLF8ucHJvdG90eXBlLmdldF9tX2xpbmVhclNsZWVwaW5nVGhyZXNob2xkPV8ucHJvdG90eXBlLkhpPWZ1bmN0aW9uKCl7cmV0dXJuIE9hKHRoaXMuV2gpfSxfLnByb3RvdHlwZS5zZXRfbV9saW5lYXJTbGVlcGluZ1RocmVzaG9sZD1fLnByb3RvdHlwZS5Caj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksQmEobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KF8ucHJvdG90eXBlLCJtX2xpbmVhclNsZWVwaW5nVGhyZXNob2xkIix7Z2V0Ol8ucHJvdG90eXBlLkhpLHNldDpfLnByb3RvdHlwZS5Can0pLF8ucHJvdG90eXBlLmdldF9tX2FuZ3VsYXJTbGVlcGluZ1RocmVzaG9sZD1fLnByb3RvdHlwZS5waT1mdW5jdGlvbigpe3JldHVybiBQYSh0aGlzLldoKX0sXy5wcm90b3R5cGUuc2V0X21fYW5ndWxhclNsZWVwaW5nVGhyZXNob2xkPV8ucHJvdG90eXBlLmtqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSx4YShvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoXy5wcm90b3R5cGUsIm1fYW5ndWxhclNsZWVwaW5nVGhyZXNob2xkIix7Z2V0Ol8ucHJvdG90eXBlLnBpLHNldDpfLnByb3RvdHlwZS5ran0pLF8ucHJvdG90eXBlLmdldF9tX2FkZGl0aW9uYWxEYW1waW5nPV8ucHJvdG90eXBlLmtpPWZ1bmN0aW9uKCl7cmV0dXJuISFUYSh0aGlzLldoKX0sXy5wcm90b3R5cGUuc2V0X21fYWRkaXRpb25hbERhbXBpbmc9Xy5wcm90b3R5cGUuZmo9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLEZhKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfLnByb3RvdHlwZSwibV9hZGRpdGlvbmFsRGFtcGluZyIse2dldDpfLnByb3RvdHlwZS5raSxzZXQ6Xy5wcm90b3R5cGUuZmp9KSxfLnByb3RvdHlwZS5nZXRfbV9hZGRpdGlvbmFsRGFtcGluZ0ZhY3Rvcj1fLnByb3RvdHlwZS5saT1mdW5jdGlvbigpe3JldHVybiBNYSh0aGlzLldoKX0sXy5wcm90b3R5cGUuc2V0X21fYWRkaXRpb25hbERhbXBpbmdGYWN0b3I9Xy5wcm90b3R5cGUuZ2o9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLEFhKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfLnByb3RvdHlwZSwibV9hZGRpdGlvbmFsRGFtcGluZ0ZhY3RvciIse2dldDpfLnByb3RvdHlwZS5saSxzZXQ6Xy5wcm90b3R5cGUuZ2p9KSxfLnByb3RvdHlwZS5nZXRfbV9hZGRpdGlvbmFsTGluZWFyRGFtcGluZ1RocmVzaG9sZFNxcj1fLnByb3RvdHlwZS5taT1mdW5jdGlvbigpe3JldHVybiB3YSh0aGlzLldoKX0sXy5wcm90b3R5cGUuc2V0X21fYWRkaXRpb25hbExpbmVhckRhbXBpbmdUaHJlc2hvbGRTcXI9Xy5wcm90b3R5cGUuaGo9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGthKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfLnByb3RvdHlwZSwibV9hZGRpdGlvbmFsTGluZWFyRGFtcGluZ1RocmVzaG9sZFNxciIse2dldDpfLnByb3RvdHlwZS5taSxzZXQ6Xy5wcm90b3R5cGUuaGp9KSxfLnByb3RvdHlwZS5nZXRfbV9hZGRpdGlvbmFsQW5ndWxhckRhbXBpbmdUaHJlc2hvbGRTcXI9Xy5wcm90b3R5cGUuamk9ZnVuY3Rpb24oKXtyZXR1cm4gTGEodGhpcy5XaCl9LF8ucHJvdG90eXBlLnNldF9tX2FkZGl0aW9uYWxBbmd1bGFyRGFtcGluZ1RocmVzaG9sZFNxcj1fLnByb3RvdHlwZS5laj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksSGEobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KF8ucHJvdG90eXBlLCJtX2FkZGl0aW9uYWxBbmd1bGFyRGFtcGluZ1RocmVzaG9sZFNxciIse2dldDpfLnByb3RvdHlwZS5qaSxzZXQ6Xy5wcm90b3R5cGUuZWp9KSxfLnByb3RvdHlwZS5nZXRfbV9hZGRpdGlvbmFsQW5ndWxhckRhbXBpbmdGYWN0b3I9Xy5wcm90b3R5cGUuaWk9ZnVuY3Rpb24oKXtyZXR1cm4gWWEodGhpcy5XaCl9LF8ucHJvdG90eXBlLnNldF9tX2FkZGl0aW9uYWxBbmd1bGFyRGFtcGluZ0ZhY3Rvcj1fLnByb3RvdHlwZS5kaj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksVmEobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KF8ucHJvdG90eXBlLCJtX2FkZGl0aW9uYWxBbmd1bGFyRGFtcGluZ0ZhY3RvciIse2dldDpfLnByb3RvdHlwZS5paSxzZXQ6Xy5wcm90b3R5cGUuZGp9KSxfLnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe1FhKHRoaXMuV2gpfTtmdW5jdGlvbiBsKGUpe2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksdGhpcy5XaD1FYShlKSxBKGwpW3RoaXMuV2hdPXRoaXN9bC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDLnByb3RvdHlwZSksbC5wcm90b3R5cGUuY29uc3RydWN0b3I9bCxsLnByb3RvdHlwZS5YaD1sLGwuWWg9e30sdC5idFJpZ2lkQm9keT1sLGwucHJvdG90eXBlLmdldENlbnRlck9mTWFzc1RyYW5zZm9ybT1mdW5jdGlvbigpe3JldHVybiBhKFhhKHRoaXMuV2gpLE8pfSxsLnByb3RvdHlwZS5zZXRDZW50ZXJPZk1hc3NUcmFuc2Zvcm09ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLFVhKG8sZSl9LGwucHJvdG90eXBlLnNldFNsZWVwaW5nVGhyZXNob2xkcz1mdW5jdGlvbihlLG8pe3ZhciBuPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLEdhKG4sZSxvKX0sbC5wcm90b3R5cGUuZ2V0TGluZWFyRGFtcGluZz1mdW5jdGlvbigpe3JldHVybiB6YSh0aGlzLldoKX0sbC5wcm90b3R5cGUuZ2V0QW5ndWxhckRhbXBpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gTmEodGhpcy5XaCl9LGwucHJvdG90eXBlLnNldERhbXBpbmc9ZnVuY3Rpb24oZSxvKXt2YXIgbj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxxYShuLGUsbyl9LGwucHJvdG90eXBlLnNldE1hc3NQcm9wcz1mdW5jdGlvbihlLG8pe3ZhciBuPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLFphKG4sZSxvKX0sbC5wcm90b3R5cGUuZ2V0TGluZWFyRmFjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIGEoS2EodGhpcy5XaCkseSl9LGwucHJvdG90eXBlLnNldExpbmVhckZhY3Rvcj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksJGEobyxlKX0sbC5wcm90b3R5cGUuYXBwbHlUb3JxdWU9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLEphKG8sZSl9LGwucHJvdG90eXBlLmFwcGx5TG9jYWxUb3JxdWU9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLHRzKG8sZSl9LGwucHJvdG90eXBlLmFwcGx5Rm9yY2U9ZnVuY3Rpb24oZSxvKXt2YXIgbj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxlcyhuLGUsbyl9LGwucHJvdG90eXBlLmFwcGx5Q2VudHJhbEZvcmNlPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvcyhvLGUpfSxsLnByb3RvdHlwZS5hcHBseUNlbnRyYWxMb2NhbEZvcmNlPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxucyhvLGUpfSxsLnByb3RvdHlwZS5hcHBseVRvcnF1ZUltcHVsc2U9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLHJzKG8sZSl9LGwucHJvdG90eXBlLmFwcGx5SW1wdWxzZT1mdW5jdGlvbihlLG8pe3ZhciBuPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLF9zKG4sZSxvKX0sbC5wcm90b3R5cGUuYXBwbHlDZW50cmFsSW1wdWxzZT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksaXMobyxlKX0sbC5wcm90b3R5cGUudXBkYXRlSW5lcnRpYVRlbnNvcj1mdW5jdGlvbigpe2FzKHRoaXMuV2gpfSxsLnByb3RvdHlwZS5nZXRMaW5lYXJWZWxvY2l0eT1mdW5jdGlvbigpe3JldHVybiBhKHNzKHRoaXMuV2gpLHkpfSxsLnByb3RvdHlwZS5nZXRBbmd1bGFyVmVsb2NpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gYShwcyh0aGlzLldoKSx5KX0sbC5wcm90b3R5cGUuc2V0TGluZWFyVmVsb2NpdHk9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGxzKG8sZSl9LGwucHJvdG90eXBlLnNldEFuZ3VsYXJWZWxvY2l0eT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksdXMobyxlKX0sbC5wcm90b3R5cGUuZ2V0TW90aW9uU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gYShjcyh0aGlzLldoKSxvdCl9LGwucHJvdG90eXBlLnNldE1vdGlvblN0YXRlPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSx5cyhvLGUpfSxsLnByb3RvdHlwZS5nZXRBbmd1bGFyRmFjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIGEoaHModGhpcy5XaCkseSl9LGwucHJvdG90eXBlLnNldEFuZ3VsYXJGYWN0b3I9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGZzKG8sZSl9LGwucHJvdG90eXBlLnVwY2FzdD1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO3JldHVybiBlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGEobXMobyxlKSxsKX0sbC5wcm90b3R5cGUuZ2V0QWFiYj1mdW5jdGlvbihlLG8pe3ZhciBuPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLGJzKG4sZSxvKX0sbC5wcm90b3R5cGUuYXBwbHlHcmF2aXR5PWZ1bmN0aW9uKCl7Z3ModGhpcy5XaCl9LGwucHJvdG90eXBlLmdldEdyYXZpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gYShkcyh0aGlzLldoKSx5KX0sbC5wcm90b3R5cGUuc2V0R3Jhdml0eT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksV3MobyxlKX0sbC5wcm90b3R5cGUuZ2V0QnJvYWRwaGFzZVByb3h5PWZ1bmN0aW9uKCl7cmV0dXJuIGEoQ3ModGhpcy5XaCksQil9LGwucHJvdG90eXBlLmNsZWFyRm9yY2VzPWZ1bmN0aW9uKCl7anModGhpcy5XaCl9LGwucHJvdG90eXBlLnNldEFuaXNvdHJvcGljRnJpY3Rpb249ZnVuY3Rpb24oZSxvKXt2YXIgbj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSx2cyhuLGUsbyl9LGwucHJvdG90eXBlLmdldENvbGxpc2lvblNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIGEoRHModGhpcy5XaCksUSl9LGwucHJvdG90eXBlLnNldENvbnRhY3RQcm9jZXNzaW5nVGhyZXNob2xkPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxScyhvLGUpfSxsLnByb3RvdHlwZS5zZXRBY3RpdmF0aW9uU3RhdGU9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLFNzKG8sZSl9LGwucHJvdG90eXBlLmZvcmNlQWN0aXZhdGlvblN0YXRlPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxJcyhvLGUpfSxsLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksZT09PXZvaWQgMD9PcyhvKTpCcyhvLGUpfSxsLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiEhUHModGhpcy5XaCl9LGwucHJvdG90eXBlLmlzS2luZW1hdGljT2JqZWN0PWZ1bmN0aW9uKCl7cmV0dXJuISF4cyh0aGlzLldoKX0sbC5wcm90b3R5cGUuaXNTdGF0aWNPYmplY3Q9ZnVuY3Rpb24oKXtyZXR1cm4hIVRzKHRoaXMuV2gpfSxsLnByb3RvdHlwZS5pc1N0YXRpY09yS2luZW1hdGljT2JqZWN0PWZ1bmN0aW9uKCl7cmV0dXJuISFGcyh0aGlzLldoKX0sbC5wcm90b3R5cGUuZ2V0UmVzdGl0dXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gTXModGhpcy5XaCl9LGwucHJvdG90eXBlLmdldEZyaWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIEFzKHRoaXMuV2gpfSxsLnByb3RvdHlwZS5nZXRSb2xsaW5nRnJpY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gd3ModGhpcy5XaCl9LGwucHJvdG90eXBlLnNldFJlc3RpdHV0aW9uPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxrcyhvLGUpfSxsLnByb3RvdHlwZS5zZXRGcmljdGlvbj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksTHMobyxlKX0sbC5wcm90b3R5cGUuc2V0Um9sbGluZ0ZyaWN0aW9uPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxIcyhvLGUpfSxsLnByb3RvdHlwZS5nZXRXb3JsZFRyYW5zZm9ybT1mdW5jdGlvbigpe3JldHVybiBhKFlzKHRoaXMuV2gpLE8pfSxsLnByb3RvdHlwZS5nZXRDb2xsaXNpb25GbGFncz1mdW5jdGlvbigpe3JldHVybiBWcyh0aGlzLldoKX0sbC5wcm90b3R5cGUuc2V0Q29sbGlzaW9uRmxhZ3M9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLFFzKG8sZSl9LGwucHJvdG90eXBlLnNldFdvcmxkVHJhbnNmb3JtPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxFcyhvLGUpfSxsLnByb3RvdHlwZS5zZXRDb2xsaXNpb25TaGFwZT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksWHMobyxlKX0sbC5wcm90b3R5cGUuc2V0Q2NkTW90aW9uVGhyZXNob2xkPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxVcyhvLGUpfSxsLnByb3RvdHlwZS5zZXRDY2RTd2VwdFNwaGVyZVJhZGl1cz1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksR3MobyxlKX0sbC5wcm90b3R5cGUuZ2V0VXNlckluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHpzKHRoaXMuV2gpfSxsLnByb3RvdHlwZS5zZXRVc2VySW5kZXg9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLE5zKG8sZSl9LGwucHJvdG90eXBlLmdldFVzZXJQb2ludGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGEocXModGhpcy5XaCksYnQpfSxsLnByb3RvdHlwZS5zZXRVc2VyUG9pbnRlcj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksWnMobyxlKX0sbC5wcm90b3R5cGUuZ2V0QnJvYWRwaGFzZUhhbmRsZT1mdW5jdGlvbigpe3JldHVybiBhKEtzKHRoaXMuV2gpLEIpfSxsLnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpeyRzKHRoaXMuV2gpfTtmdW5jdGlvbiBSdCgpe3RoaXMuV2g9SnMoKSxBKFJ0KVt0aGlzLldoXT10aGlzfVJ0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxSdC5wcm90b3R5cGUuY29uc3RydWN0b3I9UnQsUnQucHJvdG90eXBlLlhoPVJ0LFJ0LlloPXt9LHQuYnRTZXF1ZW50aWFsSW1wdWxzZUNvbnN0cmFpbnRTb2x2ZXI9UnQsUnQucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7dHAodGhpcy5XaCl9O2Z1bmN0aW9uIE10KCl7dGhyb3ciY2Fubm90IGNvbnN0cnVjdCBhIGJ0Q29uc3RyYWludFNvbHZlciwgbm8gY29uc3RydWN0b3IgaW4gSURMIn1NdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksTXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPU10LE10LnByb3RvdHlwZS5YaD1NdCxNdC5ZaD17fSx0LmJ0Q29uc3RyYWludFNvbHZlcj1NdCxNdC5wcm90b3R5cGUuX19kZXN0cm95X189ZnVuY3Rpb24oKXtlcCh0aGlzLldoKX07ZnVuY3Rpb24gcygpe3Rocm93ImNhbm5vdCBjb25zdHJ1Y3QgYSBidERpc3BhdGNoZXJJbmZvLCBubyBjb25zdHJ1Y3RvciBpbiBJREwifXMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYi5wcm90b3R5cGUpLHMucHJvdG90eXBlLmNvbnN0cnVjdG9yPXMscy5wcm90b3R5cGUuWGg9cyxzLlloPXt9LHQuYnREaXNwYXRjaGVySW5mbz1zLHMucHJvdG90eXBlLmdldF9tX3RpbWVTdGVwPXMucHJvdG90eXBlLlhpPWZ1bmN0aW9uKCl7cmV0dXJuIG9wKHRoaXMuV2gpfSxzLnByb3RvdHlwZS5zZXRfbV90aW1lU3RlcD1zLnByb3RvdHlwZS5Saj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbnAobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHMucHJvdG90eXBlLCJtX3RpbWVTdGVwIix7Z2V0OnMucHJvdG90eXBlLlhpLHNldDpzLnByb3RvdHlwZS5San0pLHMucHJvdG90eXBlLmdldF9tX3N0ZXBDb3VudD1zLnByb3RvdHlwZS5WaT1mdW5jdGlvbigpe3JldHVybiBycCh0aGlzLldoKX0scy5wcm90b3R5cGUuc2V0X21fc3RlcENvdW50PXMucHJvdG90eXBlLlBqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxfcChvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsIm1fc3RlcENvdW50Iix7Z2V0OnMucHJvdG90eXBlLlZpLHNldDpzLnByb3RvdHlwZS5Qan0pLHMucHJvdG90eXBlLmdldF9tX2Rpc3BhdGNoRnVuYz1zLnByb3RvdHlwZS51aT1mdW5jdGlvbigpe3JldHVybiBpcCh0aGlzLldoKX0scy5wcm90b3R5cGUuc2V0X21fZGlzcGF0Y2hGdW5jPXMucHJvdG90eXBlLm9qPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxhcChvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsIm1fZGlzcGF0Y2hGdW5jIix7Z2V0OnMucHJvdG90eXBlLnVpLHNldDpzLnByb3RvdHlwZS5van0pLHMucHJvdG90eXBlLmdldF9tX3RpbWVPZkltcGFjdD1zLnByb3RvdHlwZS5XaT1mdW5jdGlvbigpe3JldHVybiBzcCh0aGlzLldoKX0scy5wcm90b3R5cGUuc2V0X21fdGltZU9mSW1wYWN0PXMucHJvdG90eXBlLlFqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxwcChvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsIm1fdGltZU9mSW1wYWN0Iix7Z2V0OnMucHJvdG90eXBlLldpLHNldDpzLnByb3RvdHlwZS5Ran0pLHMucHJvdG90eXBlLmdldF9tX3VzZUNvbnRpbnVvdXM9cy5wcm90b3R5cGUuWmk9ZnVuY3Rpb24oKXtyZXR1cm4hIWxwKHRoaXMuV2gpfSxzLnByb3RvdHlwZS5zZXRfbV91c2VDb250aW51b3VzPXMucHJvdG90eXBlLlRqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSx1cChvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsIm1fdXNlQ29udGludW91cyIse2dldDpzLnByb3RvdHlwZS5aaSxzZXQ6cy5wcm90b3R5cGUuVGp9KSxzLnByb3RvdHlwZS5nZXRfbV9lbmFibGVTYXRDb252ZXg9cy5wcm90b3R5cGUud2k9ZnVuY3Rpb24oKXtyZXR1cm4hIWNwKHRoaXMuV2gpfSxzLnByb3RvdHlwZS5zZXRfbV9lbmFibGVTYXRDb252ZXg9cy5wcm90b3R5cGUucWo9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLHlwKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLnByb3RvdHlwZSwibV9lbmFibGVTYXRDb252ZXgiLHtnZXQ6cy5wcm90b3R5cGUud2ksc2V0OnMucHJvdG90eXBlLnFqfSkscy5wcm90b3R5cGUuZ2V0X21fZW5hYmxlU1BVPXMucHJvdG90eXBlLnZpPWZ1bmN0aW9uKCl7cmV0dXJuISFocCh0aGlzLldoKX0scy5wcm90b3R5cGUuc2V0X21fZW5hYmxlU1BVPXMucHJvdG90eXBlLnBqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxmcChvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsIm1fZW5hYmxlU1BVIix7Z2V0OnMucHJvdG90eXBlLnZpLHNldDpzLnByb3RvdHlwZS5wan0pLHMucHJvdG90eXBlLmdldF9tX3VzZUVwYT1zLnByb3RvdHlwZS5haj1mdW5jdGlvbigpe3JldHVybiEhbXAodGhpcy5XaCl9LHMucHJvdG90eXBlLnNldF9tX3VzZUVwYT1zLnByb3RvdHlwZS5Waj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksYnAobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHMucHJvdG90eXBlLCJtX3VzZUVwYSIse2dldDpzLnByb3RvdHlwZS5haixzZXQ6cy5wcm90b3R5cGUuVmp9KSxzLnByb3RvdHlwZS5nZXRfbV9hbGxvd2VkQ2NkUGVuZXRyYXRpb249cy5wcm90b3R5cGUubmk9ZnVuY3Rpb24oKXtyZXR1cm4gZ3AodGhpcy5XaCl9LHMucHJvdG90eXBlLnNldF9tX2FsbG93ZWRDY2RQZW5ldHJhdGlvbj1zLnByb3RvdHlwZS5paj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksZHAobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHMucHJvdG90eXBlLCJtX2FsbG93ZWRDY2RQZW5ldHJhdGlvbiIse2dldDpzLnByb3RvdHlwZS5uaSxzZXQ6cy5wcm90b3R5cGUuaWp9KSxzLnByb3RvdHlwZS5nZXRfbV91c2VDb252ZXhDb25zZXJ2YXRpdmVEaXN0YW5jZVV0aWw9cy5wcm90b3R5cGUuJGk9ZnVuY3Rpb24oKXtyZXR1cm4hIVdwKHRoaXMuV2gpfSxzLnByb3RvdHlwZS5zZXRfbV91c2VDb252ZXhDb25zZXJ2YXRpdmVEaXN0YW5jZVV0aWw9cy5wcm90b3R5cGUuVWo9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLENwKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLnByb3RvdHlwZSwibV91c2VDb252ZXhDb25zZXJ2YXRpdmVEaXN0YW5jZVV0aWwiLHtnZXQ6cy5wcm90b3R5cGUuJGksc2V0OnMucHJvdG90eXBlLlVqfSkscy5wcm90b3R5cGUuZ2V0X21fY29udmV4Q29uc2VydmF0aXZlRGlzdGFuY2VUaHJlc2hvbGQ9cy5wcm90b3R5cGUucmk9ZnVuY3Rpb24oKXtyZXR1cm4ganAodGhpcy5XaCl9LHMucHJvdG90eXBlLnNldF9tX2NvbnZleENvbnNlcnZhdGl2ZURpc3RhbmNlVGhyZXNob2xkPXMucHJvdG90eXBlLmxqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSx2cChvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsIm1fY29udmV4Q29uc2VydmF0aXZlRGlzdGFuY2VUaHJlc2hvbGQiLHtnZXQ6cy5wcm90b3R5cGUucmksc2V0OnMucHJvdG90eXBlLmxqfSkscy5wcm90b3R5cGUuX19kZXN0cm95X189ZnVuY3Rpb24oKXtEcCh0aGlzLldoKX07ZnVuY3Rpb24gUygpe3Rocm93ImNhbm5vdCBjb25zdHJ1Y3QgYSBidENvbnRhY3RTb2x2ZXJJbmZvLCBubyBjb25zdHJ1Y3RvciBpbiBJREwifVMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYi5wcm90b3R5cGUpLFMucHJvdG90eXBlLmNvbnN0cnVjdG9yPVMsUy5wcm90b3R5cGUuWGg9UyxTLlloPXt9LHQuYnRDb250YWN0U29sdmVySW5mbz1TLFMucHJvdG90eXBlLmdldF9tX3NwbGl0SW1wdWxzZT1TLnByb3RvdHlwZS5UaT1mdW5jdGlvbigpe3JldHVybiEhUnAodGhpcy5XaCl9LFMucHJvdG90eXBlLnNldF9tX3NwbGl0SW1wdWxzZT1TLnByb3RvdHlwZS5Oaj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksU3AobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KFMucHJvdG90eXBlLCJtX3NwbGl0SW1wdWxzZSIse2dldDpTLnByb3RvdHlwZS5UaSxzZXQ6Uy5wcm90b3R5cGUuTmp9KSxTLnByb3RvdHlwZS5nZXRfbV9zcGxpdEltcHVsc2VQZW5ldHJhdGlvblRocmVzaG9sZD1TLnByb3RvdHlwZS5VaT1mdW5jdGlvbigpe3JldHVybiBJcCh0aGlzLldoKX0sUy5wcm90b3R5cGUuc2V0X21fc3BsaXRJbXB1bHNlUGVuZXRyYXRpb25UaHJlc2hvbGQ9Uy5wcm90b3R5cGUuT2o9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLE9wKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTLnByb3RvdHlwZSwibV9zcGxpdEltcHVsc2VQZW5ldHJhdGlvblRocmVzaG9sZCIse2dldDpTLnByb3RvdHlwZS5VaSxzZXQ6Uy5wcm90b3R5cGUuT2p9KSxTLnByb3RvdHlwZS5nZXRfbV9udW1JdGVyYXRpb25zPVMucHJvdG90eXBlLk1pPWZ1bmN0aW9uKCl7cmV0dXJuIEJwKHRoaXMuV2gpfSxTLnByb3RvdHlwZS5zZXRfbV9udW1JdGVyYXRpb25zPVMucHJvdG90eXBlLkdqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxQcChvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUy5wcm90b3R5cGUsIm1fbnVtSXRlcmF0aW9ucyIse2dldDpTLnByb3RvdHlwZS5NaSxzZXQ6Uy5wcm90b3R5cGUuR2p9KSxTLnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe3hwKHRoaXMuV2gpfTtmdW5jdGlvbiBJKGUsbyxuLHIpe2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihuPW4uV2gpLHImJnR5cGVvZiByPT0ib2JqZWN0IiYmKHI9ci5XaCksdGhpcy5XaD1UcChlLG8sbixyKSxBKEkpW3RoaXMuV2hdPXRoaXN9SS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh4LnByb3RvdHlwZSksSS5wcm90b3R5cGUuY29uc3RydWN0b3I9SSxJLnByb3RvdHlwZS5YaD1JLEkuWWg9e30sdC5idERpc2NyZXRlRHluYW1pY3NXb3JsZD1JLEkucHJvdG90eXBlLnNldEdyYXZpdHk9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLEZwKG8sZSl9LEkucHJvdG90eXBlLmdldEdyYXZpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gYShNcCh0aGlzLldoKSx5KX0sSS5wcm90b3R5cGUuYWRkUmlnaWRCb2R5PWZ1bmN0aW9uKGUsbyxuKXt2YXIgcj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihuPW4uV2gpLG89PT12b2lkIDA/QXAocixlKTpuPT09dm9pZCAwP19lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9hZGRSaWdpZEJvZHlfMihyLGUsbyk6d3AocixlLG8sbil9LEkucHJvdG90eXBlLnJlbW92ZVJpZ2lkQm9keT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksa3AobyxlKX0sSS5wcm90b3R5cGUuc3RlcFNpbXVsYXRpb249ZnVuY3Rpb24oZSxvLG4pe3ZhciByPXRoaXMuV2g7cmV0dXJuIGUmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihuPW4uV2gpLG89PT12b2lkIDA/THAocixlKTpuPT09dm9pZCAwP0hwKHIsZSxvKTpZcChyLGUsbyxuKX0sSS5wcm90b3R5cGUuc2V0Q29udGFjdEFkZGVkQ2FsbGJhY2s9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLFZwKG8sZSl9LEkucHJvdG90eXBlLnNldENvbnRhY3RQcm9jZXNzZWRDYWxsYmFjaz1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksUXAobyxlKX0sSS5wcm90b3R5cGUuc2V0Q29udGFjdERlc3Ryb3llZENhbGxiYWNrPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxFcChvLGUpfSxJLnByb3RvdHlwZS5nZXREaXNwYXRjaGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGEoWHAodGhpcy5XaCksSyl9LEkucHJvdG90eXBlLmdldFBhaXJDYWNoZT1mdW5jdGlvbigpe3JldHVybiBhKFVwKHRoaXMuV2gpLEopfSxJLnByb3RvdHlwZS5nZXREaXNwYXRjaEluZm89ZnVuY3Rpb24oKXtyZXR1cm4gYShHcCh0aGlzLldoKSxzKX0sSS5wcm90b3R5cGUuYWRkQ29sbGlzaW9uT2JqZWN0PWZ1bmN0aW9uKGUsbyxuKXt2YXIgcj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihuPW4uV2gpLG89PT12b2lkIDA/enAocixlKTpuPT09dm9pZCAwP05wKHIsZSxvKTpxcChyLGUsbyxuKX0sSS5wcm90b3R5cGUucmVtb3ZlQ29sbGlzaW9uT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxacChvLGUpfSxJLnByb3RvdHlwZS5nZXRCcm9hZHBoYXNlPWZ1bmN0aW9uKCl7cmV0dXJuIGEoS3AodGhpcy5XaCksYXQpfSxJLnByb3RvdHlwZS5jb252ZXhTd2VlcFRlc3Q9ZnVuY3Rpb24oZSxvLG4scixjKXt2YXIgRD10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihuPW4uV2gpLHImJnR5cGVvZiByPT0ib2JqZWN0IiYmKHI9ci5XaCksYyYmdHlwZW9mIGM9PSJvYmplY3QiJiYoYz1jLldoKSwkcChELGUsbyxuLHIsYyl9LEkucHJvdG90eXBlLmNvbnRhY3RQYWlyVGVzdD1mdW5jdGlvbihlLG8sbil7dmFyIHI9dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLG8mJnR5cGVvZiBvPT0ib2JqZWN0IiYmKG89by5XaCksbiYmdHlwZW9mIG49PSJvYmplY3QiJiYobj1uLldoKSxKcChyLGUsbyxuKX0sSS5wcm90b3R5cGUuY29udGFjdFRlc3Q9ZnVuY3Rpb24oZSxvKXt2YXIgbj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSx0bChuLGUsbyl9LEkucHJvdG90eXBlLnVwZGF0ZVNpbmdsZUFhYmI9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGVsKG8sZSl9LEkucHJvdG90eXBlLmFkZEFjdGlvbj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksb2wobyxlKX0sSS5wcm90b3R5cGUucmVtb3ZlQWN0aW9uPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxubChvLGUpfSxJLnByb3RvdHlwZS5nZXRTb2x2ZXJJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIGEocmwodGhpcy5XaCksUyl9LEkucHJvdG90eXBlLnNldEludGVybmFsVGlja0NhbGxiYWNrPWZ1bmN0aW9uKGUsbyxuKXt2YXIgcj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihuPW4uV2gpLG89PT12b2lkIDA/X2wocixlKTpuPT09dm9pZCAwP2lsKHIsZSxvKTphbChyLGUsbyxuKX0sSS5wcm90b3R5cGUuX19kZXN0cm95X189ZnVuY3Rpb24oKXtzbCh0aGlzLldoKX07ZnVuY3Rpb24gU3QoKXt0aHJvdyJjYW5ub3QgY29uc3RydWN0IGEgYnRBY3Rpb25JbnRlcmZhY2UsIG5vIGNvbnN0cnVjdG9yIGluIElETCJ9cmV0dXJuIFN0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxTdC5wcm90b3R5cGUuY29uc3RydWN0b3I9U3QsU3QucHJvdG90eXBlLlhoPVN0LFN0LlloPXt9LHQuYnRBY3Rpb25JbnRlcmZhY2U9U3QsU3QucHJvdG90eXBlLnVwZGF0ZUFjdGlvbj1mdW5jdGlvbihlLG8pe3ZhciBuPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLHBsKG4sZSxvKX0sU3QucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7bGwodGhpcy5XaCl9LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3QuUEhZX0ZMT0FUPXVsKCksdC5QSFlfRE9VQkxFPWNsKCksdC5QSFlfSU5URUdFUj15bCgpLHQuUEhZX1NIT1JUPWhsKCksdC5QSFlfRklYRURQT0lOVDg4PWZsKCksdC5QSFlfVUNIQVI9bWwoKX1PZT9lKCk6VnQudW5zaGlmdChlKX0oKSx0LkNPTlRBQ1RfQURERURfQ0FMTEJBQ0tfU0lHTkFUVVJFPSJpaWlpaWlpaSIsdC5DT05UQUNUX0RFU1RST1lFRF9DQUxMQkFDS19TSUdOQVRVUkU9ImlpIix0LkNPTlRBQ1RfUFJPQ0VTU0VEX0NBTExCQUNLX1NJR05BVFVSRT0iaWlpaSIsdC5JTlRFUk5BTF9USUNLX0NBTExCQUNLX1NJR05BVFVSRT0idmlmIix0aGlzLkFtbW89dCxwLnJlYWR5fWxldCBBdD1bXSx6dD1bXSxJdD17fSxOLGcsdWUsS3QsY2UsJHQ9MTUwLEp0PTE1MCx5dD0xLHRlPSExLGplPTYwLGk9ey4uLntzaXplOjkuNSxzdGFydGluZ0hlaWdodDo4LHNwaW5Gb3JjZTo2LHRocm93Rm9yY2U6NSxncmF2aXR5OjEsbWFzczoxLGZyaWN0aW9uOi44LHJlc3RpdHV0aW9uOi4xLGxpbmVhckRhbXBpbmc6LjUsYW5ndWxhckRhbXBpbmc6LjQsc2V0dGxlVGltZW91dDo1ZTN9fSx5ZSxrO3NlbGYub25tZXNzYWdlPXA9Pntzd2l0Y2gocC5kYXRhLmFjdGlvbil7Y2FzZSJyb2xsRGllIjpiZShwLmRhdGEuc2lkZXMpO2JyZWFrO2Nhc2UiaW5pdCI6ZGwocC5kYXRhKS50aGVuKCgpPT57c2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOiJpbml0LWNvbXBsZXRlIn0pfSk7YnJlYWs7Y2FzZSJjbGVhckRpY2UiOlJsKCk7YnJlYWs7Y2FzZSJyZW1vdmVEaWUiOkRlKHAuZGF0YS5pZCk7YnJlYWs7Y2FzZSJyZXNpemUiOiR0PXAuZGF0YS53aWR0aCxKdD1wLmRhdGEuaGVpZ2h0LHl0PSR0L0p0LG1lKGkuc2l6ZSxpLnN0YXJ0aW5nSGVpZ2h0KzEwKTticmVhaztjYXNlInVwZGF0ZUNvbmZpZyI6V2wocC5kYXRhLm9wdGlvbnMpO2JyZWFrO2Nhc2UiY29ubmVjdCI6dWU9cC5wb3J0c1swXSx1ZS5vbm1lc3NhZ2U9dD0+e3N3aXRjaCh0LmRhdGEuYWN0aW9uKXtjYXNlImluaXRCdWZmZXIiOms9bmV3IEZsb2F0MzJBcnJheSh0LmRhdGEuZGljZUJ1ZmZlciksa1swXT0tMTticmVhaztjYXNlImxvYWRNb2RlbHMiOkNsKHQuZGF0YS5vcHRpb25zKTticmVhaztjYXNlImFkZERpZSI6dC5kYXRhLm9wdGlvbnMubmV3U3RhcnRQb2ludCYmaGUoKTtjb25zdCBtPURsKHQuZGF0YS5vcHRpb25zKTtiZShtKTticmVhaztjYXNlInJvbGxEaWUiOmJlKHQuZGF0YS5pZCk7YnJlYWs7Y2FzZSJyZW1vdmVEaWUiOkRlKHQuZGF0YS5pZCk7YnJlYWs7Y2FzZSJzdG9wU2ltdWxhdGlvbiI6dGU9ITA7YnJlYWs7Y2FzZSJyZXN1bWVTaW11bGF0aW9uIjp0LmRhdGEubmV3U3RhcnRQb2ludCYmaGUoKSx0ZT0hMSxTZSgpO2JyZWFrO2Nhc2Uic3RlcFNpbXVsYXRpb24iOms9bmV3IEZsb2F0MzJBcnJheSh0LmRhdGEuZGljZUJ1ZmZlciksU2UoKTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoImFjdGlvbiBub3QgZm91bmQgaW4gcGh5c2ljcyB3b3JrZXIgZnJvbSB3b3JsZE9mZnNjcmVlbiB3b3JrZXI6Iix0LmRhdGEuYWN0aW9uKX19O2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcigiYWN0aW9uIG5vdCBmb3VuZCBpbiBwaHlzaWNzIHdvcmtlcjoiLHAuZGF0YS5hY3Rpb24pfX07Y29uc3QgZGw9YXN5bmMgcD0+eyR0PXAud2lkdGgsSnQ9cC5oZWlnaHQseXQ9JHQvSnQsaT17Li4uaSwuLi5wLm9wdGlvbnN9LGkuZ3Jhdml0eT09PTB8fGkuZ3Jhdml0eStpLm1hc3MvMyxpLm1hc3M9MStpLm1hc3MvMyxpLnNwaW5Gb3JjZT1pLnNwaW5Gb3JjZS9qZSxpLnRocm93Rm9yY2U9aS50aHJvd0ZvcmNlLzIvaS5tYXNzKigxK2kuc2NhbGUvNiksaS5zdGFydGluZ0hlaWdodD1pLnN0YXJ0aW5nSGVpZ2h0PDE/MTppLnN0YXJ0aW5nSGVpZ2h0O2NvbnN0IHQ9e2xvY2F0ZUZpbGU6KCk9PmAke2kub3JpZ2luK2kuYXNzZXRQYXRofWFtbW8vYW1tby53YXNtLndhc21gfTtnPWF3YWl0IG5ldyBnbCh0KSxLdD1uZXcgZy5idFRyYW5zZm9ybSxjZT1uZXcgZy5idFZlY3RvcjMoMCwwLDApLHllPVAoMCwwLDApLGhlKCksTj1TbCgpLG1lKGkuc2l6ZSxpLnN0YXJ0aW5nSGVpZ2h0KzEwKX0sV2w9cD0+e2k9ey4uLmksLi4ucH0saS5tYXNzPTEraS5tYXNzLzMsaS5ncmF2aXR5PWkuZ3Jhdml0eT09PTA/MDppLmdyYXZpdHkraS5tYXNzLzMsaS5zcGluRm9yY2U9aS5zcGluRm9yY2UvamUsaS50aHJvd0ZvcmNlPWkudGhyb3dGb3JjZS8yL2kubWFzcyooMStpLnNjYWxlLzYpLGkuc3RhcnRpbmdIZWlnaHQ9aS5zdGFydGluZ0hlaWdodDwxPzE6aS5zdGFydGluZ0hlaWdodCx2ZSgpLG1lKGkuc2l6ZSxpLnN0YXJ0aW5nSGVpZ2h0KzEwKSxOLnNldEdyYXZpdHkoUCgwLC05LjgxKmkuZ3Jhdml0eSwwKSksT2JqZWN0LnZhbHVlcyhJdCkubWFwKHQ9Pnt0LmNvbnZleEh1bGwuc2V0TG9jYWxTY2FsaW5nKFAoaS5zY2FsZSxpLnNjYWxlLGkuc2NhbGUpKX0pfSxDbD1hc3luYyh7Y29sbGlkZXJzOnAsbWVzaE5hbWU6dH0pPT57bGV0IG09ITEsZD0hMTtwLmZvckVhY2goKHYsTCk9PntJdFt0KyJfIit2Lm5hbWVdPXYsSXRbdCsiXyIrdi5uYW1lXS5jb252ZXhIdWxsPWpsKHYpLGR8fChkPXYuaWQ9PT0iZDEwX2NvbGxpZGVyIiksbXx8KG09di5pZD09PSJkMTAwX2NvbGxpZGVyIil9KSwhbSYmZCYmKEl0W2Ake3R9X2QxMDBfY29sbGlkZXJgXT1JdFtgJHt0fV9kMTBfY29sbGlkZXJgXSl9LFA9KHAsdCxtKT0+KGNlLnNldFZhbHVlKHAsdCxtKSxjZSksaGU9KCk9PntsZXQgcD1pLnNpemUsdD0uNSxtPXAqeXQvMi10LGQ9cCp5dC8tMit0LHY9cC8yLXQsTD1wLy0yK3QsSD1zdChtLGQsTWF0aC5yYW5kb20oKSkscT1zdCh2LEwsTWF0aC5yYW5kb20oKSksWT1NYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkpLGo9TWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKSxaPU1hdGgucm91bmQoTWF0aC5yYW5kb20oKSk7aS5zdGFydFBvc2l0aW9uPVtaP0g6aj9kOm0saS5zdGFydGluZ0hlaWdodCxaP1k/TDp2OnFdfSxqbD1wPT57Y29uc3QgdD1uZXcgZy5idENvbnZleEh1bGxTaGFwZTtsZXQgbT1wLnBvc2l0aW9ucy5sZW5ndGg7Zm9yKGxldCBkPTA7ZDxtO2QrPTMpe2xldCB2PVAocC5wb3NpdGlvbnNbZF0scC5wb3NpdGlvbnNbZCsxXSxwLnBvc2l0aW9uc1tkKzJdKTt0LmFkZFBvaW50KHYsITApfXJldHVybiB0LnNldExvY2FsU2NhbGluZyhQKHAuc2NhbGluZ1swXSppLnNjYWxlLHAuc2NhbGluZ1sxXSppLnNjYWxlLHAuc2NhbGluZ1syXSppLnNjYWxlKSksdH0sdmw9KHAsdCk9Pntjb25zdHttYXNzOm09LjEsY29sbGlzaW9uRmxhZ3M6ZD0wLHBvczp2PVswLDAsMF0scXVhdDpMPVtzdCgtMS41LDEuNSxNYXRoLnJhbmRvbSgpKSxzdCgtMS41LDEuNSxNYXRoLnJhbmRvbSgpKSxzdCgtMS41LDEuNSxNYXRoLnJhbmRvbSgpKSwtMV0sc2NhbGU6SD1bMSwxLDFdLGZyaWN0aW9uOnE9aS5mcmljdGlvbixyZXN0aXR1dGlvbjpZPWkucmVzdGl0dXRpb259PXQsaj1uZXcgZy5idFRyYW5zZm9ybTtqLnNldElkZW50aXR5KCksai5zZXRPcmlnaW4oUCh2WzBdLHZbMV0sdlsyXSkpLGouc2V0Um90YXRpb24obmV3IGcuYnRRdWF0ZXJuaW9uKExbMF0sTFsxXSxMWzJdLExbM10pKTtjb25zdCBaPW5ldyBnLmJ0RGVmYXVsdE1vdGlvblN0YXRlKGopLGh0PVAoMCwwLDApO20+MCYmcC5jYWxjdWxhdGVMb2NhbEluZXJ0aWEobSxodCk7Y29uc3Qgd3Q9bmV3IGcuYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvKG0sWixwLGh0KSxHPW5ldyBnLmJ0UmlnaWRCb2R5KHd0KTtyZXR1cm4gbT4wJiZHLnNldEFjdGl2YXRpb25TdGF0ZSg0KSxHLnNldENvbGxpc2lvbkZsYWdzKGQpLEcuc2V0RnJpY3Rpb24ocSksRy5zZXRSZXN0aXR1dGlvbihZKSxHLnNldERhbXBpbmcoaS5saW5lYXJEYW1waW5nLGkuYW5ndWxhckRhbXBpbmcpLEd9O2xldCBmZT1bXTtjb25zdCBtZT0ocCx0KT0+e2NvbnN0IG09W10sZD1QKDAsMCwwKSx2PW5ldyBnLmJ0VHJhbnNmb3JtO3Yuc2V0SWRlbnRpdHkoKSx2LnNldE9yaWdpbihQKDAsLS41LDApKTtjb25zdCBMPW5ldyBnLmJ0Qm94U2hhcGUoUChwKnl0LDEscCkpLEg9bmV3IGcuYnREZWZhdWx0TW90aW9uU3RhdGUodikscT1uZXcgZy5idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm8oMCxILEwsZCksWT1uZXcgZy5idFJpZ2lkQm9keShxKTtZLnNldEZyaWN0aW9uKGkuZnJpY3Rpb24pLFkuc2V0UmVzdGl0dXRpb24oaS5yZXN0aXR1dGlvbiksTi5hZGRSaWdpZEJvZHkoWSksbS5wdXNoKFkpO2NvbnN0IGo9bmV3IGcuYnRUcmFuc2Zvcm07ai5zZXRJZGVudGl0eSgpLGouc2V0T3JpZ2luKFAoMCx0LS41LDApKTtjb25zdCBaPW5ldyBnLmJ0Qm94U2hhcGUoUChwKnl0LDEscCkpLGh0PW5ldyBnLmJ0RGVmYXVsdE1vdGlvblN0YXRlKGopLHd0PW5ldyBnLmJ0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mbygwLGh0LFosZCksRz1uZXcgZy5idFJpZ2lkQm9keSh3dCk7Ry5zZXRGcmljdGlvbihpLmZyaWN0aW9uKSxHLnNldFJlc3RpdHV0aW9uKGkucmVzdGl0dXRpb24pLE4uYWRkUmlnaWRCb2R5KEcpLG0ucHVzaChHKTtjb25zdCBOdD1uZXcgZy5idFRyYW5zZm9ybTtOdC5zZXRJZGVudGl0eSgpLE50LnNldE9yaWdpbihQKDAsMCxwLy0yLS41KSk7Y29uc3QgT3Q9bmV3IGcuYnRCb3hTaGFwZShQKHAqeXQsdCwxKSksZWU9bmV3IGcuYnREZWZhdWx0TW90aW9uU3RhdGUoTnQpLEJ0PW5ldyBnLmJ0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mbygwLGVlLE90LGQpLGZ0PW5ldyBnLmJ0UmlnaWRCb2R5KEJ0KTtmdC5zZXRGcmljdGlvbihpLmZyaWN0aW9uKSxmdC5zZXRSZXN0aXR1dGlvbihpLnJlc3RpdHV0aW9uKSxOLmFkZFJpZ2lkQm9keShmdCksbS5wdXNoKGZ0KTtjb25zdCBrdD1uZXcgZy5idFRyYW5zZm9ybTtrdC5zZXRJZGVudGl0eSgpLGt0LnNldE9yaWdpbihQKDAsMCxwLzIrLjUpKTtjb25zdCBXdD1uZXcgZy5idEJveFNoYXBlKFAocCp5dCx0LDEpKSxvZT1uZXcgZy5idERlZmF1bHRNb3Rpb25TdGF0ZShrdCksTHQ9bmV3IGcuYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvKDAsb2UsV3QsZCksQ3Q9bmV3IGcuYnRSaWdpZEJvZHkoTHQpO0N0LnNldEZyaWN0aW9uKGkuZnJpY3Rpb24pLEN0LnNldFJlc3RpdHV0aW9uKGkucmVzdGl0dXRpb24pLE4uYWRkUmlnaWRCb2R5KEN0KSxtLnB1c2goQ3QpO2NvbnN0IEh0PW5ldyBnLmJ0VHJhbnNmb3JtO0h0LnNldElkZW50aXR5KCksSHQuc2V0T3JpZ2luKFAocCp5dC8tMi0uNSwwLDApKTtjb25zdCBZdD1uZXcgZy5idEJveFNoYXBlKFAoMSx0LHApKSxYdD1uZXcgZy5idERlZmF1bHRNb3Rpb25TdGF0ZShIdCksbmU9bmV3IGcuYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvKDAsWHQsWXQsZCksUHQ9bmV3IGcuYnRSaWdpZEJvZHkobmUpO1B0LnNldEZyaWN0aW9uKGkuZnJpY3Rpb24pLFB0LnNldFJlc3RpdHV0aW9uKGkucmVzdGl0dXRpb24pLE4uYWRkUmlnaWRCb2R5KFB0KSxtLnB1c2goUHQpO2NvbnN0IHR0PW5ldyBnLmJ0VHJhbnNmb3JtO3R0LnNldElkZW50aXR5KCksdHQuc2V0T3JpZ2luKFAocCp5dC8yKy41LDAsMCkpO2NvbnN0IFV0PW5ldyBnLmJ0Qm94U2hhcGUoUCgxLHQscCkpLHJlPW5ldyBnLmJ0RGVmYXVsdE1vdGlvblN0YXRlKHR0KSxfZT1uZXcgZy5idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm8oMCxyZSxVdCxkKSxWdD1uZXcgZy5idFJpZ2lkQm9keShfZSk7VnQuc2V0RnJpY3Rpb24oaS5mcmljdGlvbiksVnQuc2V0UmVzdGl0dXRpb24oaS5yZXN0aXR1dGlvbiksTi5hZGRSaWdpZEJvZHkoVnQpLG0ucHVzaChWdCksZmUubGVuZ3RoJiZ2ZSgpLGZlPVsuLi5tXX0sdmU9KCk9PntmZS5mb3JFYWNoKHA9Pk4ucmVtb3ZlUmlnaWRCb2R5KHApKX0sRGw9cD0+e3ZhciBaO2NvbnN0e3NpZGVzOnQsaWQ6bSxtZXNoTmFtZTpkLHNjYWxlOnZ9PXA7bGV0IEw9YCR7dH1fY29sbGlkZXJgO2NvbnN0IEg9YCR7ZH1fJHtMfWAsWT0oKChaPUl0W0hdKT09bnVsbD92b2lkIDA6Wi5waHlzaWNzTWFzcyl8fC4xKSppLm1hc3MqaS5zY2FsZSxqPXZsKEl0W0hdLmNvbnZleEh1bGwse21hc3M6WSxzY2FsaW5nOkl0W0hdLnNjYWxpbmcscG9zOmkuc3RhcnRQb3NpdGlvbn0pO3JldHVybiBqLmlkPW0sai50aW1lb3V0PWkuc2V0dGxlVGltZW91dCxqLm1hc3M9WSxOLmFkZFJpZ2lkQm9keShqKSxBdC5wdXNoKGopLGp9LGJlPXA9PntwLnNldExpbmVhclZlbG9jaXR5KFAoc3QoLWkuc3RhcnRQb3NpdGlvblswXSouNSwtaS5zdGFydFBvc2l0aW9uWzBdKmkudGhyb3dGb3JjZSxNYXRoLnJhbmRvbSgpKSxzdCgtaS5zdGFydFBvc2l0aW9uWzFdLC1pLnN0YXJ0UG9zaXRpb25bMV0qMixNYXRoLnJhbmRvbSgpKSxzdCgtaS5zdGFydFBvc2l0aW9uWzJdKi41LC1pLnN0YXJ0UG9zaXRpb25bMl0qaS50aHJvd0ZvcmNlLE1hdGgucmFuZG9tKCkpKSk7Y29uc3QgdD1uZXcgZy5idFZlY3RvcjMoc3QoLWkuc3BpbkZvcmNlLGkuc3BpbkZvcmNlLE1hdGgucmFuZG9tKCkpLHN0KC1pLnNwaW5Gb3JjZSxpLnNwaW5Gb3JjZSxNYXRoLnJhbmRvbSgpKSxzdCgtaS5zcGluRm9yY2UsaS5zcGluRm9yY2UsTWF0aC5yYW5kb20oKSkpLG09TWF0aC5hYnMoaS5zY2FsZS0xKStpLnNjYWxlKmkuc2NhbGUqKHAubWFzcy9pLm1hc3MpKi43NTtwLmFwcGx5SW1wdWxzZSh0LFAobSxtLG0pKX0sRGU9cD0+e3p0PXp0LmZpbHRlcih0PT57bGV0IG09dC5pZD09PXA7cmV0dXJuIG0mJk4ucmVtb3ZlUmlnaWRCb2R5KHQpLCFtfSl9LFJsPSgpPT57ay5ieXRlTGVuZ3RoJiZrLmZpbGwoMCksdGU9ITAsQXQuZm9yRWFjaChwPT5OLnJlbW92ZVJpZ2lkQm9keShwKSksenQuZm9yRWFjaChwPT5OLnJlbW92ZVJpZ2lkQm9keShwKSksQXQ9W10senQ9W119LFNsPSgpPT57Y29uc3QgcD1uZXcgZy5idERlZmF1bHRDb2xsaXNpb25Db25maWd1cmF0aW9uLHQ9bmV3IGcuYnREYnZ0QnJvYWRwaGFzZSxtPW5ldyBnLmJ0U2VxdWVudGlhbEltcHVsc2VDb25zdHJhaW50U29sdmVyLGQ9bmV3IGcuYnRDb2xsaXNpb25EaXNwYXRjaGVyKHApLHY9bmV3IGcuYnREaXNjcmV0ZUR5bmFtaWNzV29ybGQoZCx0LG0scCk7cmV0dXJuIHYuc2V0R3Jhdml0eShQKDAsLTkuODEqaS5ncmF2aXR5LDApKSx2fSxJbD1wPT57Y29uc3QgdD1wLzFlMztOLnN0ZXBTaW11bGF0aW9uKHQsMiwxLzkwKSxrWzBdPUF0Lmxlbmd0aDtmb3IobGV0IG09QXQubGVuZ3RoLTE7bT49MDttLS0pe2NvbnN0IGQ9QXRbbV0sdj1kLmdldExpbmVhclZlbG9jaXR5KCkubGVuZ3RoKCksTD1kLmdldEFuZ3VsYXJWZWxvY2l0eSgpLmxlbmd0aCgpO2lmKHY8LjAxJiZMPC4wMDV8fGQudGltZW91dDwwKXtrW20qOCsxXT1kLmlkLGtbbSo4KzJdPS0xLGQuYXNsZWVwPSEwLGQuc2V0TWFzc1Byb3BzKDApLGQuZm9yY2VBY3RpdmF0aW9uU3RhdGUoMyksZC5zZXRMaW5lYXJWZWxvY2l0eSh5ZSksZC5zZXRBbmd1bGFyVmVsb2NpdHkoeWUpLHp0LnB1c2goQXQuc3BsaWNlKG0sMSlbMF0pO2NvbnRpbnVlfWQudGltZW91dC09cDtjb25zdCBIPWQuZ2V0TW90aW9uU3RhdGUoKTtpZihIKXtILmdldFdvcmxkVHJhbnNmb3JtKEt0KTtsZXQgcT1LdC5nZXRPcmlnaW4oKSxZPUt0LmdldFJvdGF0aW9uKCksaj1tKjgrMTtrW2pdPWQuaWQsa1tqKzFdPXEueCgpLGtbaisyXT1xLnkoKSxrW2orM109cS56KCksa1tqKzRdPVkueCgpLGtbais1XT1ZLnkoKSxrW2orNl09WS56KCksa1tqKzddPVkudygpfX19O2xldCBSZT1uZXcgRGF0ZSgpLmdldFRpbWUoKTtjb25zdCBTZT0oKT0+e2xldCBwPW5ldyBEYXRlKCkuZ2V0VGltZSgpO2NvbnN0IHQ9cC1SZTtSZT1wLCF0ZSYmay5ieXRlTGVuZ3RoJiYoSWwodCksdWUucG9zdE1lc3NhZ2Uoe2FjdGlvbjoidXBkYXRlcyIsZGljZUJ1ZmZlcjprLmJ1ZmZlcn0sW2suYnVmZmVyXSkpfX0pKCk7Cg==",O=typeof window<"u"&&window.Blob&&new Blob([atob($)],{type:"text/javascript;charset=utf-8"});function Gl(){const I=O&&(window.URL||window.webkitURL).createObjectURL(O);try{return I?new Worker(I):new Worker("data:application/javascript;base64,"+$)}finally{I&&(window.URL||window.webkitURL).revokeObjectURL(I)}}const Wl=I=>{let V;return function(){let h=this,L=arguments;V&&window.cancelAnimationFrame(V),V=window.requestAnimationFrame(function(){I.apply(h,L)})}},Vl=(I={dedupe:!1})=>{const{dedupe:V}=I;let h=[],L;const J=d=>(V&&(h=[]),h.push(d),L||(L=s()),L.finally(()=>{L=void 0})),s=async()=>{const d=[];for(;h.length;){const c=h.shift();d.push(await c())}return d};return{push:J,queue:h,flush:()=>L||Promise.resolve([])}},Jl=I=>JSON.parse(JSON.stringify(I));class q{static value(){const V=window.crypto||window.msCrypto,h=new Uint32Array(1);return V.getRandomValues(h)[0]/2**32}static range(V,h){return Math.floor(Math.pow(10,14)*this.value()*this.value())%(h-V+1)+V}}const Rl=I=>{let V=!1,h=I.slice(I.startsWith("#")?1:0);h.length===3?h=[...h].map(J=>J+J).join(""):h.length===8&&(V=!0),h=parseInt(h,16);let L={r:h>>>16,g:(h&65280)>>>8,b:h&255};return V&&(L.r=h>>>24,L.g=(h&16711680)>>>16,L.b=(h&65280)>>>8,L.a=h&255),L},ul={id:`dice-canvas-${Date.now()}`,enableShadows:!0,shadowTransparency:.8,lightIntensity:1,delay:10,scale:5,theme:"default",themeColor:"#2e8555",offscreen:!0,assetPath:"/assets/dice-box/",origin:location.origin,meshFile:"models/default.json",suspendSimulation:!1};var H,o,f,x,u,e,K,a,z,t,k,_,Q,ll,P,bl,B,g,w,M;class pl{constructor(V,h={}){if(p(this,k),p(this,Q),p(this,P),p(this,B),p(this,w),N(this,"rollCollectionData",{}),N(this,"rollGroupData",{}),N(this,"rollDiceData",{}),N(this,"themeData",[]),N(this,"themesLoadedData",{}),p(this,H,0),p(this,o,0),p(this,f,0),p(this,x,0),p(this,u,{}),p(this,e,void 0),p(this,K,void 0),p(this,a,void 0),p(this,z,void 0),p(this,t,void 0),N(this,"noop",()=>{}),typeof h!="object")throw new Error("Config options should be an object. Config reference: https://fantasticdice.games/docs/usage/config#configuration-options");const{onDieComplete:L,onRollComplete:J,onRemoveComplete:s,onThemeConfigLoaded:d,onThemeLoaded:c,...b}=h;this.config={...ul,...b},this.onDieComplete=h.onDieComplete||this.noop,this.onRollComplete=h.onRollComplete||this.noop,this.onRemoveComplete=h.onRemoveComplete||this.noop,this.onThemeLoaded=h.onThemeLoaded||this.noop,this.onThemeConfigLoaded=h.onThemeConfigLoaded||this.noop,this.canvas=cl({selector:V,id:this.config.id}),this.loadThemeQueue=Vl({dedupe:!0})}resizeWorld(){const V=Wl(()=>{W(this,u).resize({width:this.canvas.clientWidth,height:this.canvas.clientHeight}),W(this,a).postMessage({action:"resize",width:this.canvas.clientWidth,height:this.canvas.clientHeight})});window.addEventListener("resize",V)}async init(){return y(this,Q,ll).call(this),await y(this,k,_).call(this),this.resizeWorld(),W(this,u).onRollResult=V=>{const h=this.rollDiceData[V.rollId],L=this.rollGroupData[h.groupId],J=this.rollCollectionData[h.collectionId];L.rolls[h.rollId].value=V.value,J.completedRolls++,J.completedRolls==J.rolls.length&&J.resolve(Object.values(J.rolls).map(({collectionId:b,id:l,meshName:G,...v})=>v));const{collectionId:s,id:d,...c}=h;this.onDieComplete(c)},W(this,u).onRollComplete=()=>{this.onRollComplete(this.getRollResults())},W(this,u).onDieRemoved=V=>{let h=this.rollDiceData[V];const L=this.rollCollectionData[h.removeCollectionId];L.completedRolls++,delete this.rollDiceData[h.rollId];const J=this.rollGroupData[h.groupId];delete J.rolls[h.rollId];const s=y(this,w,M).call(this,h.groupId);J.value=s.value,J.qty=s.rollsArray.length,L.completedRolls==L.rolls.length&&L.resolve(Object.values(L.rolls).map(({id:v,...R})=>R));const{collectionId:d,id:c,removeCollectionId:b,meshName:l,...G}=h;this.onRemoveComplete(G)},await Promise.all([W(this,e),W(this,z)]),y(this,P,bl).call(this),await this.loadThemeQueue.push(()=>this.loadTheme(this.config.theme)),this}async getThemeConfig(V){const h=`${this.config.origin}${this.config.assetPath}themes/${V}`;let L;V==="default"?L={name:"Default Colors",material:{type:"color",diffuseTexture:{light:"diffuse-light.png",dark:"diffuse-dark.png"},diffuseLevel:1,bumpTexture:"normal.png",bumpLevel:.5,specularTexture:"specular.jpg",specularPower:1}}:L=await fetch(`${h}/theme.config.json`).then(d=>{if(d.ok){const c=d.headers.get("content-type");if(c&&c.indexOf("application/json")!==-1||d.type&&d.type==="basic")return d.json();throw new Error(`Incorrect contentType: ${c}. Expected "application/json" or "basic"`)}else throw new Error(`Unable to fetch config file for theme: '${V}'. Request rejected with status ${d.status}: ${d.statusText}`)}).catch(d=>console.error(d));let J=this.config.origin+this.config.assetPath+this.config.meshFile,s="default";if(!L)throw new Error("No theme config data to work with.");if(L.hasOwnProperty("meshFile")&&(J=`${h}/${L.meshFile}`,L.hasOwnProperty("meshName")?s=L.meshName:(console.warn("You should provide a meshName in your theme.config.json file"),s=L.meshFile.replace(/(.*)\..{2,4}$/,"$1"))),L.hasOwnProperty("diceAvailable")||(L.diceAvailable=["d4","d6","d8","d10","d12","d20","d100"]),L.hasOwnProperty("extends")){let d=this.themesLoadedData[L.extends];d||(d=await this.loadTheme(L.extends).catch(c=>console.error(c))),d&&(L.diceInherited=[...L.diceInherited||[]],d.diceAvailable.map(c=>{L.diceInherited[c]=d.systemName}))}return Object.assign(L,{basePath:h,meshFilePath:J,meshName:s,theme:V}),L}async loadTheme(V){if(this.themesLoadedData[V])return this.themesLoadedData[V];const h=this.themesLoadedData[V]=await this.getThemeConfig(V).catch(L=>console.error(L));if(this.onThemeConfigLoaded(h),!!h)return await W(this,u).loadTheme(h).catch(L=>console.error(L)),this.onThemeLoaded(h),h}async updateConfig(V){const h={...this.config,...V};return await this.loadThemeQueue.push(()=>this.loadTheme(h.theme)),this.config=h,W(this,u).updateConfig(h),W(this,a).postMessage({action:"updateConfig",options:h}),this}clear(){return i(this,H,0),i(this,o,0),i(this,f,0),i(this,x,0),this.rollCollectionData={},this.rollGroupData={},this.rollDiceData={},W(this,u).clear(),W(this,a).postMessage({action:"clearDice"}),this}hide(){return this.canvas.style.display="none",this}show(){return this.canvas.style.display="block",this}roll(V,{theme:h=this.config.theme,themeColor:L=this.config.themeColor,newStartPoint:J=!0}={}){this.clear();const s=S(this,H)._++;this.rollCollectionData[s]=new T({id:s,notation:V,theme:h,themeColor:L,newStartPoint:J});const d=this.createNotationArray(V,this.themesLoadedData[h].diceAvailable);return y(this,B,g).call(this,d,s),this.rollCollectionData[s].promise}add(V,{theme:h=this.config.theme,themeColor:L=this.config.themeColor,newStartPoint:J=!0}={}){const s=S(this,H)._++;this.rollCollectionData[s]=new T({id:s,notation:V,theme:h,themeColor:L,newStartPoint:J});const d=this.createNotationArray(V,this.themesLoadedData[h].diceAvailable);return y(this,B,g).call(this,d,s),this.rollCollectionData[s].promise}reroll(V,{remove:h=!1,hide:L=!1,newStartPoint:J=!0}={}){const s=(Array.isArray(V)?V:[V]).map(({value:d,...c})=>c);return h===!0&&this.remove(s,{hide:L}),this.add(s,{newStartPoint:J})}remove(V,{hide:h=!1}={}){const L=Array.isArray(V)?V:[V],J=S(this,H)._++;return this.rollCollectionData[J]=new T({id:J,notation:V,rolls:L}),L.map(s=>{this.rollDiceData[s.rollId].removeCollectionId=J;let d=this.rollDiceData[s.rollId].id;W(this,u).remove({id:d,rollId:s.rollId}),W(this,a).postMessage({action:"removeDie",id:d})}),this.rollCollectionData[J].promise}createNotationArray(V,h){const L=Array.isArray(V)?V:[V];let J=[];const s=b=>{if(b.hasOwnProperty("qty")||(b.qty=1),b.hasOwnProperty("sides"))return!0;{const l="Roll notation is missing sides";throw new Error(l)}},d=b=>{b=b.toString();let l=b.split(".");return l[1]?l[1]=parseInt(l[1])+1:l[1]=1,l[0]+"."+l[1]},c=b=>{b.hasOwnProperty("rollId")&&this.rollDiceData.hasOwnProperty(b.rollId)&&(b.rollId=d(b.rollId))};return L.forEach(b=>{typeof b=="string"?J.push(this.parse(b,h)):typeof L=="object"&&(c(b),s(b)&&J.push(b))}),J}parse(V,h){const L=/(\d+)([dD]{1}\d+)(.*)$/i,J=/(\d+)[dD]([0%]+)(.*)$/i,s=/(\d+)[dD](f+[ate]*)(.*)$/i,d=/(\d+)[dD]([\d\w]+)([+-]{0,1}\d+)?/i,c=/([+-])(\d+)/,b=V.trim().replace(/\s+/g,""),l=(dl,il)=>{if(dl=Number(dl),Number.isNaN(dl)||!Number.isInteger(dl)||dl<1)throw new Error(il);return dl},G=b.match(J)||b.match(L)||b.match(s)||b.match(d);let v=0;const R="Invalid notation: "+V;if(!G||!G.length||G.length<3)throw new Error(R);if(G[3]&&c.test(G[3])){const dl=G[3].match(c);let il=l(dl[2],R);dl[1].trim()==="-"&&(il*=-1),v=il}const C={qty:l(G[1],R),modifier:v};return b.match(J)?C.sides="100":b.match(s)?C.sides="fate":(h.includes(b.match(d)[2]),C.sides=G[2]),C}getRollResults(){return Object.entries(this.rollGroupData).map(([V,h])=>{const L=y(this,w,M).call(this,V);h.value=L.value,h.qty=L.rollsArray.length;const J={...h};return J.rolls=L.rollsArray,J})}}H=new WeakMap,o=new WeakMap,f=new WeakMap,x=new WeakMap,u=new WeakMap,e=new WeakMap,K=new WeakMap,a=new WeakMap,z=new WeakMap,t=new WeakMap,k=new WeakSet,_=async function(){i(this,e,new Promise((V,h)=>{i(this,K,V)}));const I=()=>{W(this,K).call(this)};if("OffscreenCanvas"in window&&"transferControlToOffscreen"in this.canvas&&this.config.offscreen){const V=await __vitePreload(()=>import("./world.offscreen-932287d9.js"),[]).then(h=>h.default);i(this,u,new V({canvas:this.canvas,options:this.config,onInitComplete:I}))}else{this.config.offscreen&&(console.warn("This browser does not support OffscreenCanvas. Using standard canvas fallback."),this.config.offscreen=!1);const V=await __vitePreload(()=>import("./world.onscreen-b1b97abc.js"),["assets/world.onscreen-b1b97abc.js","assets/index-9d7b9487.js"]).then(h=>h.default);i(this,u,new V({canvas:this.canvas,options:this.config,onInitComplete:I}))}},Q=new WeakSet,ll=function(){i(this,a,new Gl),i(this,z,new Promise((I,V)=>{i(this,t,I)})),W(this,a).onmessage=I=>{switch(I.data.action){case"init-complete":W(this,t).call(this)}},W(this,a).postMessage({action:"init",width:this.canvas.clientWidth,height:this.canvas.clientHeight,options:this.config})},P=new WeakSet,bl=function(){const I=new MessageChannel;W(this,u).connect(I.port1),W(this,a).postMessage({action:"connect"},[I.port2])},B=new WeakSet,g=async function(I,V){const h=this.rollCollectionData[V];let L=h.newStartPoint;I.forEach(async J=>{if(!J.sides)throw new Error("Improper dice notation or unable to parse notation");const s=J.theme||h.theme||this.config.theme,d=J.themeColor||h.themeColor||this.config.themeColor,c={},b=J.groupId!==void 0;let l;const G=()=>this.loadTheme(s);await this.loadThemeQueue.push(G);const{meshName:v,diceAvailable:R,diceInherited:C={},material:{type:dl}}=this.themesLoadedData[s],il=Object.keys(C);let nl="",Yl;dl==="color"&&(Yl=Rl(d),nl=Yl.r*.299+Yl.g*.587+Yl.b*.114>175?"_dark":"_light");for(var Kl=0,Ul=J.qty;Kl<Ul;Kl++){let kl=J.rollId!==void 0?J.rollId:S(this,f)._++,jl=J.id!==void 0?J.id:S(this,x)._++;l=b?J.groupId:W(this,o);const Xd=Number.isInteger(J.sides)?`d${J.sides}`:J.sides;J.sides=Xd;const Ql={sides:Xd,groupId:l,collectionId:h.id,rollId:kl,id:jl,theme:s,themeColor:d,meshName:v};if(c[kl]=Ql,this.rollDiceData[kl]=Ql,h.rolls.push(this.rollDiceData[kl]),Ql.sides==="fate"&&!R.includes(Ql.sides)&&!il.includes(Ql.sides)){console.warn(`fate die unavailable in '${s}' theme. Using fallback.`);const ql=-1,dd=1;Ql.value=q.range(ql,dd),W(this,u).addNonDie(Ql)}else if(this.config.suspendSimulation||!R.includes(Ql.sides)&&!il.includes(Ql.sides))console.warn(this.config.suspendSimulation?"3D simulation suspended. Using fallback.":`${Ql.sides} die unavailable in '${s}' theme. Using fallback.`),Ql.value=q.range(1,Ql.sides),W(this,u).addNonDie(Ql);else{let ql;if(il.includes(Ql.sides)){const dd=C[Ql.sides];ql=this.themesLoadedData[dd]}W(this,u).add({...Ql,newStartPoint:L,theme:ql?.systemName||s,meshName:ql?.meshName||v,colorSuffix:nl})}L=!1}b?Object.assign(this.rollGroupData[l].rolls,c):(J.rolls=c,J.id=l,this.rollGroupData[l]=J,++S(this,o)._)})},w=new WeakSet,M=function(I){const V=this.rollGroupData[I],h=Object.values(V.rolls).map(({collectionId:J,id:s,meshName:d,...c})=>c);let L=h.reduce((J,s)=>{const d=isNaN(s.value)?0:s.value;return J+d},0);return L+=V.modifier?V.modifier:0,{value:L,rollsArray:h}};class T{constructor(V){Object.assign(this,V),this.rolls=V.rolls||[],this.completedRolls=0;const h=this;this.promise=new Promise((L,J)=>{h.resolve=L,h.reject=J})}}function SetThemeMode(I,V){const h=window.matchMedia("(prefers-color-scheme: dark)");console.log(h.matches);const L=h.matches?"dark":"light",J=h.matches?"light":"dark";for(var s=0;s<V.styleSheets.length;s++)for(var d=0;d<V.styleSheets[s].cssRules.length;d++){let c=V.styleSheets[s].cssRules[d];c&&c.media&&c.media.mediaText.includes("prefers-color-scheme")&&(I.mode=="LIGHT"?(c.media.appendMedium(`(prefers-color-scheme: ${L})`),c.media.mediaText.includes(J)&&c.media.deleteMedium(`(prefers-color-scheme: ${J})`)):I.mode=="DARK"&&(c.media.appendMedium(`(prefers-color-scheme: ${J})`),c.media.mediaText.includes(L)&&c.media.deleteMedium(`(prefers-color-scheme: ${L})`)))}}function evaluateMathExpression(command){const expression=command.replace("/math","").trim(),validExpressionRegex=/^[-+*/()\d\s]+$/;if(!validExpressionRegex.test(expression))return"That's not math. (Invalid expression.)";try{const result=eval(expression);return`The answer to ${expression} is ${result}.`}catch(I){return`Error: ${I}`}}const style="",mobile=window.innerWidth<Constants.MOBILEWIDTH;let currentTheme;document.querySelector("#app").innerHTML=`
<header id="headerContainer" class="headerContainer"></header>
<section id="chatContainer" class="chatContainer">
    <div id="diceContainer" class="diceCont"></div>
    <ul id="chatLog">
    </ul>
</section>
<div class="inputContainer">
    <div id="targetSelect">
        <label for="players">${mobile?"Send:":"Send To:"}</label>

        <select name="players" id="playerSelect">
        </select>
        <div id="safetyButtons">${mobile?"":"Safety:"}
            <button id="happyButton" type="button"><embed class="svg" src="/check.svg" /></button>
            <button id="waryButton" type="button"><embed class="svg" src="/circle.svg" /></button>
            <button id="badButton" type="button"><embed class="svg" src="/cross.svg" /></button>
        </div>
    </div>
    <div id="chatInputContainer">
    <button id="discordButton" type="button" title="Hook to Discord"><embed class="svg" src="/discord2.svg" /></button>
    <input id="chat-input" class="chatInput" type="text" name="message" placeholder="Type Message ..." class="form-control">
        <span id="chatButtonContainer">
            <button id="chat-button" type="button" class="button">Send</button>
        </span>
    </div>
</div>`;let userName="",userId="",userColor="",discordHook="",unread=0,whispered=!1,gamePlayers=[],lastRumbleMessage={chatlog:"",sender:"",created:"",color:""},lastClashmessage={chatlog:"",sender:"",created:"",color:""},lastFriendmessage={chatlog:"",sender:"",created:"",color:""};const slashWhisperRegex=/^\/whisper (\w+) (.+)$/,slashWRegex=/^\/w (\w+) (.+)$/,rollCommand="/roll ";let diceBox;await OBR.onReady(async()=>{const I=await OBR.theme.getTheme(),V=await OBR.room.getMetadata();V[`${Constants.DISCORDID}/metadata_webhook`]!=null&&(discordHook=V[`${Constants.DISCORDID}/metadata_webhook`].url),currentTheme=I.mode,SetThemeMode(I,document),OBR.theme.onChange(h=>{currentTheme=h.mode,SetThemeMode(h,document)}),await SetupOnChangeEvents(),userName=await OBR.player.getName(),userId=await OBR.player.getId(),userColor=await OBR.player.getColor(),gamePlayers=(await OBR.party.getPlayers()).map(h=>({id:h.id,name:h.name})),SetupSendButtons(),SetupSafetyButtons(),UpdatePlayerSelect(),SetupDiceBox()});function SetupSafetyButtons(){const I=document.querySelector("#happyButton");I.onclick=async function(){const L={},J=new Date().toISOString();return L[`${Constants.EXTENSIONID}/metadata_chatSafety`]={safety:"happy",created:J},await OBR.player.setMetadata(L)};const V=document.querySelector("#badButton");V.onclick=async function(){const L={},J=new Date().toISOString();return L[`${Constants.EXTENSIONID}/metadata_chatSafety`]={safety:"bad",created:J},await OBR.player.setMetadata(L)};const h=document.querySelector("#waryButton");h.onclick=async function(){const L={},J=new Date().toISOString();return L[`${Constants.EXTENSIONID}/metadata_chatSafety`]={safety:"wary",created:J},await OBR.player.setMetadata(L)}}function SetupSendButtons(){const I=document.querySelector("#chat-input");I.addEventListener("keypress",async function(L){L.key==="Enter"&&await SendtoChatLog(I)});const V=document.querySelector("#chat-button");V.onclick=async function(){I.value&&await SendtoChatLog(I)};const h=document.querySelector("#discordButton");h.onclick=async function(){OBR.popover.open({id:Constants.DISCORDID,url:"/subindex/discordhook.html",height:220,width:400})}}function IsThisOld(I){const h=new Date,L=new Date(I);return h-L>3e3}async function SetupOnChangeEvents(){OBR.room.onMetadataChange(I=>{I[`${Constants.DISCORDID}/metadata_webhook`]!=null&&(discordHook=I[`${Constants.DISCORDID}/metadata_webhook`].url)}),OBR.player.onChange(async I=>{userName=I.name,userId=I.id,userColor=I.color,await HandleMessage(I.metadata)}),OBR.party.onChange(I=>{gamePlayers=I.map(V=>({id:V.id,name:V.name})),UpdatePlayerSelect(),I.forEach(async V=>{await HandleMessage(V.metadata)})}),OBR.action.onOpenChange(async I=>{I&&(whispered=!1,unread=0,await OBR.action.setBadgeText(void 0),await OBR.action.setBadgeBackgroundColor("#BB99FF"),await OBR.action.setIcon("/icon.svg"))})}async function HandleMessage(I){const V=document.querySelector("#chatLog"),h=await OBR.action.isOpen(),L=new Date().toLocaleTimeString();if(I[`${Constants.EXTENSIONID}/metadata_chatlog`]!=null){const J=I[`${Constants.EXTENSIONID}/metadata_chatlog`];if((lastRumbleMessage.chatlog!=J.chatlog||lastRumbleMessage.sender!=J.sender)&&!IsThisOld(J.created)){lastRumbleMessage=J;const s=J.chatlog;lastRumbleMessage=J;const d=J.senderId==userId,c=document.createElement("li"),b=document.createElement("li"),l=d?" itsMe":"";if(J.senderId==userId||J.targetId=="0000"){const G=d&&J.targetId!="0000"?` to [${J.target}]`:"";c.className="rumbleAuthor"+l,c.style.color=J.color,c.innerText=`[${L}] - ${J.sender}`+G,b.className="rumbleLog"+l,b.innerText="â€¢    "+s,V.append(c),V.append(b),unread=d?unread:unread+1}else J.targetId==userId&&(c.className="rumbleAuthor"+l,c.style.color=J.color,c.innerText=`[${L}] - ${J.sender} to [You]`,b.className="rumbleLog outline"+l,b.innerText="â€¢    "+s,V.append(c),V.append(b),unread=unread+1,whispered=!0)}}if(I[`${Constants.CLASHID}/metadata_chatlog`]!=null){const J=I[`${Constants.CLASHID}/metadata_chatlog`];if((lastClashmessage.chatlog!=J.chatlog||lastClashmessage.sender!=J.sender)&&!IsThisOld(J.created)){if(J.targetId==userId){lastClashmessage=J;const s=J.chatlog,d=document.createElement("li");d.className="rumbleAuthor clashLog",d.innerText=`[${L}] - ${J.sender} to [You]`;const c=document.createElement("li");c.className=J.critical?"clashLog glow":"clashLog",c.innerText="ðŸ¡†    "+s,V.append(d),V.append(c)}else if(J.targetId=="0000"){lastClashmessage=J;const s=J.chatlog,d=document.createElement("li");d.className="rumbleAuthor clashLog",d.innerText=`[${L}] - ${J.sender}`;const c=document.createElement("li");c.className=J.critical?"clashLog glow":"clashLog",c.innerText="ðŸ¡†    "+s,V.append(d),V.append(c),unread=unread+1}}}if(I[`${Constants.OUTSIDEID}/metadata_chatlog`]!=null){const J=I[`${Constants.OUTSIDEID}/metadata_chatlog`];if((lastFriendmessage.chatlog!=J.chatlog||lastFriendmessage.sender!=J.sender)&&!IsThisOld(J.created)){if(J.targetId==userId){lastFriendmessage=J;const s=J.chatlog,d=document.createElement("li");d.className="rumbleAuthor friendLog",d.innerText=`[${L}] - ${J.sender} to [You]`;const c=document.createElement("li");c.className="friendLog",c.innerText="ðŸ¢¥    "+s,V.append(d),V.append(c)}else if(J.targetId=="0000"){lastFriendmessage=J;const s=J.chatlog,d=document.createElement("li");d.className="rumbleAuthor friendLog",d.innerText=`[${L}] - ${J.sender}`;const c=document.createElement("li");c.className="friendLog",c.innerText="ðŸ¢¥    "+s,V.append(d),V.append(c),unread=unread+1}}}if(I[`${Constants.EXTENSIONID}/metadata_chatSafety`]!=null){const J=await OBR.player.getRole(),s=I[`${Constants.EXTENSIONID}/metadata_chatSafety`];if(!IsThisOld(s.created)){if(s.safety=="bad"){const d=document.createElement("li"),c=document.createElement("li"),b=new Date().toLocaleTimeString();d.className="rumbleAuthor clashLog",d.innerText=`[${b}] - âŒ Full Stop âŒ`,c.className="clashLog",c.innerText="ðŸ¡†    Someone is concerned with the current situation. Talk it out.",V.append(d),V.append(c),unread=unread+1,whispered=!0,OBR.popover.open({id:"com.battle-system.rumble",url:`/subindex/sub${s.safety}.html`,height:400,width:400})}if(s.safety=="wary"){const d=document.createElement("li"),c=document.createElement("li"),b=new Date().toLocaleTimeString();d.className="rumbleAuthor clashLog",d.innerText=`[${b}] - ðŸŸ¡ Let's be careful ðŸŸ¡`,c.className="clashLog",c.innerText="ðŸ¡†    Someone is starting to feel wary about what's going on.",V.append(d),V.append(c),unread=unread+1,whispered=!0,OBR.popover.open({id:"com.battle-system.rumble",url:`/subindex/sub${s.safety}.html`,height:400,width:400})}if(J=="GM"&&s.safety=="happy"){const d=document.createElement("li"),c=document.createElement("li"),b=new Date().toLocaleTimeString();d.className="rumbleAuthor clashLog",d.innerText=`[${b}] - âœ… Great Job! âœ…`,c.className="clashLog",c.innerText="ðŸ¡†    Someone has shown their approval!",V.append(d),V.append(c),unread=unread+1,OBR.popover.open({id:"com.battle-system.rumble",url:`/subindex/sub${s.safety}.html`,height:200,width:200})}}}if(h&&(whispered=!1,unread=0),!h&&unread>0&&(await OBR.action.setIcon("/icon-filled.svg"),await OBR.action.setBadgeText(unread.toString()),whispered)){const J=currentTheme=="DARK"?"yellow":"#159cc5";await OBR.action.setBadgeBackgroundColor(J)}}function UpdatePlayerSelect(){const I=document.getElementById("playerSelect");let V=I.value;const h=document.createElement("option");h.setAttribute("value","0000");const L=document.createTextNode("Everyone");if(h.appendChild(L),I.innerHTML="",I.appendChild(h),gamePlayers.forEach(s=>{let d=document.createElement("option");d.setAttribute("value",s.id);let c=document.createTextNode(s.name);d.appendChild(c),I.appendChild(d)}),!gamePlayers.find(s=>s.id===V)&&V&&V!=="0000"){let s=document.createElement("option");s.setAttribute("value",V);let d=document.createTextNode("(Disconnected)");s.appendChild(d),I.appendChild(s),I.value=V}else V&&(I.value=V)}async function SendSlashWhispertoChatLog(I,V){if(I){const h=I[1],L=I[2],J=gamePlayers.find(s=>s.name.toLowerCase()===h.toLowerCase());if(J&&L){const s={},d=new Date().toISOString();return s[`${Constants.EXTENSIONID}/metadata_chatlog`]={chatlog:L,sender:userName,senderId:userId,target:J.name,targetId:J.id,created:d,color:userColor},V.value="",await OBR.player.setMetadata(s)}}}async function SendtoDiscord(I){if(!discordHook)return;const V=new XMLHttpRequest;V.open("POST",discordHook),V.setRequestHeader("Content-type","application/json");const h={username:"Rumble! : "+userName,avatar_url:"https://battle-system.com/owlbear/rumble-docs/logo.png",content:I};V.send(JSON.stringify(h))}async function SendtoChatLog(I){if(I.value)if(I.value.startsWith("/whisper")){const V=I.value.match(slashWhisperRegex);await SendSlashWhispertoChatLog(V,I)}else if(I.value.startsWith("/w")){const V=I.value.match(slashWRegex);await SendSlashWhispertoChatLog(V,I)}else if(I.value.startsWith("/math")){const V=evaluateMathExpression(I.value).toString();await SendMathtoChatLog(V),I.value=""}else if(I.value.startsWith(rollCommand)){const V=I.value.substring(rollCommand.length),h=new distExports.DiceRoller;try{const L=h.roll(V);let J=[];L.type=="die"?L.rolls.forEach(b=>{const l=b;J.push(`[${l.critical==="success"?"ðŸ’¥":""}${l.value}${l.valid?"":"âœ•"}]`)}):L.type=="number"||L.dice.forEach(async b=>{const l=b;l.rolls?.length>0&&l.rolls.forEach(G=>{const v=G;J.push(`[D${v.die}â®ž${v.critical==="success"?"ðŸ’¥":""}${v.value}${v.valid?"":"âœ•"}]`)})});let s=" rolled ",d=V;L.label&&(d=V.replace(L.label,""),s+="â­"+L.label+"â­"),s+=`[${d}] â†’ ${J.join(", ")} for ${L.value}!`,await SendRolltoChatLog(s),I.value=""}catch{console.log("Rumble was unable to parse that roll notation.")}}else{const V=document.getElementById("playerSelect"),h=V.value,L=V.options[V.selectedIndex].text,J={},s=new Date().toISOString();return J[`${Constants.EXTENSIONID}/metadata_chatlog`]={chatlog:I.value,sender:userName,senderId:userId,target:L,targetId:h,created:s,color:userColor},h==="0000"&&await SendtoDiscord(I.value),I.value="",await OBR.player.setMetadata(J)}}async function SendRolltoChatLog(I){if(I){const V={},h=new Date().toISOString();return V[`${Constants.CLASHID}/metadata_chatlog`]={chatlog:userName+I,sender:"Rumble!",senderId:userId,target:"",targetId:"0000",created:h,color:userColor},await SendtoDiscord(userName+I),await OBR.player.setMetadata(V)}}async function SendMathtoChatLog(I){if(I){const V={},h=new Date().toISOString();return V[`${Constants.CLASHID}/metadata_chatlog`]={chatlog:I,sender:"Rumble!",senderId:userId,target:"",targetId:userId,created:h,color:userColor},await OBR.player.setMetadata(V)}}function ParseResultsToString(I){let V=[],h=0;return I.forEach(L=>{let J=[];L.rolls.length>0&&L.rolls.forEach(s=>{J.push(s.value)}),V.push(`${L.qty}${L.sides} â†’ [${J.join("-")}]`),h+=L.value}),` rolled (${V.join(", ")}) for ${h}!`}async function SetupDiceBox(){diceBox=new pl("#diceContainer",{id:"diceContainer",assetPath:"/assets/",scale:15,gravity:5,theme:"default",themeColor:"#159cc5"}),diceBox.init().then(()=>{const I=new DiceUIPicker({target:"#headerContainer",onSubmit:V=>{const h=document.querySelector("#throwButton"),L=document.querySelector("#resetButton");h.disabled=!0,L.disabled=!0,diceBox.roll(V)},onClear:()=>{diceBox.clear()},onReroll:V=>{V.forEach(h=>diceBox.add(h))}});I.ready(),diceBox.onRollComplete=async V=>{const h=document.querySelector("#throwButton"),L=document.querySelector("#resetButton");let J=ParseResultsToString(V);await SendRolltoChatLog(J),await delay(2e3),I.updateNotation(!0),h.disabled=!1,L.disabled=!1}})}function delay(I){return new Promise(V=>setTimeout(V,I))}export{Jl as J};
